<?xml version="1.0" encoding="UTF-8"?>
<interface name="le_main">

	<style name="h1" color="#3abde7" font="dyn_12" shadow="true" />

	<texture file="elements/menubtn_base.tga" nocompress="true" />
	<texture file="elements/menubtn_base_HL.tga" nocompress="true" />
	<texture file="elements/icons/deform.tga" nocompress="true" />
	<texture file="elements/icons/textures.tga" nocompress="true" />
	<texture file="elements/icons/entities.tga" nocompress="true" />
	<texture file="elements/icons/lights.tga" nocompress="true" />
	<texture file="elements/icons/foliage.tga" nocompress="true" />
	<texture file="elements/icons/occluders.tga" nocompress="true" />
	<texture file="elements/icons/sounds.tga" nocompress="true" />
	<texture file="elements/icons/blockers.tga" nocompress="true" />
	<texture file="elements/icons/cliffs.tga" nocompress="true" />
	<texture file="elements/icons/deform_h.tga" nocompress="true" />
	<texture file="elements/icons/textures_h.tga" nocompress="true" />
	<texture file="elements/icons/entities_h.tga" nocompress="true" />
	<texture file="elements/icons/lights_h.tga" nocompress="true" />
	<texture file="elements/icons/foliage_h.tga" nocompress="true" />
	<texture file="elements/icons/occluders_h.tga" nocompress="true" />
	<texture file="elements/icons/sounds_h.tga" nocompress="true" />
	<texture file="elements/icons/blockers_h.tga" nocompress="true" />
	<texture file="elements/icons/cliffs_h.tga" nocompress="true" />
	<texture file="elements/icons/deform_on.tga" nocompress="true" />
	<texture file="elements/icons/textures_on.tga" nocompress="true" />
	<texture file="elements/icons/entities_on.tga" nocompress="true" />
	<texture file="elements/icons/lights_on.tga" nocompress="true" />
	<texture file="elements/icons/foliage_on.tga" nocompress="true" />
	<texture file="elements/icons/occluders_on.tga" nocompress="true" />
	<texture file="elements/icons/sounds_on.tga" nocompress="true" />
	<texture file="elements/icons/blockers_on.tga" nocompress="true" />
	<texture file="elements/icons/cliffs_on.tga" nocompress="true" />

	<!-- For ease of use: -->
	<trigger name="EditorChooseTool"/>
	<trigger name="EditorRefreshToolDisplay"/>
	<trigger name="EditorToolPanelDisplay"/>
	<trigger name="SafeVisibility"/>
	<trigger name="ValidateNewMapDialog"/>
	<trigger name="UpdateNewError"/>
	
	
	<panel noclick="true" color="invisible"
		onload="
			CreateString('le_tool_current', '');
			CreateString('le_subtool_current', '');
			CreateBool('le_lighting_lock', false);
			CreateBool('le_fogsky_lock', false);
			SleepWidget(1, 'Trigger(\'EditorChooseTool\', \'entity\', \'select\');');
		"
		watch="EditorChooseTool"
		ontrigger="
			Set('le_tool_current', param0);
			Set('le_subtool_current', param1);
			If(
				!VarExists('le_tool_' # le_tool_current # '_mode'),
				CreateString('le_tool_' # le_tool_current # '_mode', '')
			);

			If(
				!StringEquals(le_subtool_current, 'default'),
				Set('le_tool_' # le_tool_current # '_mode', le_subtool_current)
			);

			If(
				StringEquals(le_subtool_current, 'default'),
				If(
					StringEmpty(*('le_tool_' # le_tool_current # '_mode')),
					Split(
						If(StringEquals(le_tool_current, 'deform'), Set('le_tool_' # le_tool_current # '_mode', 'height')),
						If(StringEquals(le_tool_current, 'paint'), Set('le_tool_' # le_tool_current # '_mode', 'color')),
						If(StringEquals(le_tool_current, 'entity'), Set('le_tool_' # le_tool_current # '_mode', 'create')),
						If(StringEquals(le_tool_current, 'light'), Set('le_tool_' # le_tool_current # '_mode', 'create')),
						If(StringEquals(le_tool_current, 'foliage'), Set('le_tool_' # le_tool_current # '_mode', 'all')),
						If(StringEquals(le_tool_current, 'occluder'), Set('le_tool_' # le_tool_current # '_mode', 'create')),
						If(StringEquals(le_tool_current, 'sound'), Set('le_tool_' # le_tool_current # '_mode', 'create')),
						If(StringEquals(le_tool_current, 'blocker'), Set('le_tool_' # le_tool_current # '_mode', 'movement')),
						If(StringEquals(le_tool_current, 'cliff'), Set('le_tool_' # le_tool_current # '_mode', 'create'))
					)
				)
			);
			Set('le_subtool_current', *('le_tool_' # le_tool_current # '_mode'));

			CallEvent('tools_container', 0);

			Trigger('SafeVisibility', 'toolset_deform', (StringEquals(le_tool_current, 'deform')));
			Trigger('SafeVisibility', 'toolset_paint', (StringEquals(le_tool_current, 'paint')));
			Trigger('SafeVisibility', 'toolset_entity', (StringEquals(le_tool_current, 'entity')));
			Trigger('SafeVisibility', 'toolset_light', (StringEquals(le_tool_current, 'light')));
			Trigger('SafeVisibility', 'toolset_foliage', (StringEquals(le_tool_current, 'foliage')));
			Trigger('SafeVisibility', 'toolset_occluder', (StringEquals(le_tool_current, 'occluder')));
			Trigger('SafeVisibility', 'toolset_sound', (StringEquals(le_tool_current, 'sound')));
			Trigger('SafeVisibility', 'toolset_blocker', (StringEquals(le_tool_current, 'blocker')));
			Trigger('SafeVisibility', 'toolset_cliff', (StringEquals(le_tool_current, 'cliff')));


			If(
				IsVisible('paint_tool_options_texture') and (!StringEquals(le_tool_current, 'paint') or !StringEquals(le_subtool_current, 'texture')),
				Call('paint_tool_options_texture', 'FadeOut(250);')
			);

			If(
				IsVisible('paint_tool_options_color') and (!StringEquals(le_tool_current, 'paint') or !StringEquals(le_subtool_current, 'color')),
				Call('paint_tool_options_color', 'FadeOut(250);')
			);

			If(
				StringEquals(le_tool_current, 'deform') and !StringEquals(le_subtool_current, 'stamp'),
				Trigger('SafeVisibility', 'deform_brushsize', true),
				Trigger('SafeVisibility', 'deform_brushsize', false)
			);

			If(
				StringEquals(le_tool_current, 'entity'),
				Trigger('SafeVisibility', 'entity_properties', true),
				Trigger('SafeVisibility', 'entity_properties', false)
			);			
			
			If(
				StringEquals(le_tool_current, 'entity') and IsSelectionType('unit'),
				Trigger('SafeVisibility', 'entity_unit_properties_panel', true),
				Trigger('SafeVisibility', 'entity_unit_properties_panel', false)
			);
			
			If(
				StringEquals(le_tool_current, 'entity') and StringEquals(GetSelectionType(),'Prop_Dynamic'),
				Trigger('SafeVisibility', 'entity_dynamic_prop_properties_panel', true),
				Trigger('SafeVisibility', 'entity_dynamic_prop_properties_panel', false)
			);
			
			If(
				StringEquals(le_tool_current, 'entity') and StringEquals(GetSelectionType(),'Entity_NpcController'),
				Trigger('SafeVisibility', 'entity_npccontroller_properties_panel', true),
				Trigger('SafeVisibility', 'entity_npccontroller_properties_panel', false)
			);
			
			If(
				StringEquals(le_tool_current, 'entity') and StringEquals(GetSelectionType(),'Prop_Water'),
				Trigger('SafeVisibility', 'entity_water_properties_panel', true),
				Trigger('SafeVisibility', 'entity_water_properties_panel', false)
			);
			
			If(
				StringEquals(le_tool_current, 'entity') and le_treeMode==1,
				Trigger('SafeVisibility', 'entity_properties_tree', true),
				Trigger('SafeVisibility', 'entity_properties_tree', false)
			);			

			If(
				IsVisible('light_color_picker') and !StringEquals(le_tool_current, 'light'),
				Call('light_color_picker', 'FadeOut(250);')
			);

			If(
				StringEquals(le_tool_current, 'foliage'),
				Trigger('SafeVisibility', 'foliage_lazy_settings', true),
				Trigger('SafeVisibility', 'foliage_lazy_settings', false)
			);

			If(
				StringEquals(le_tool_current, 'sound'),
				Trigger('SafeVisibility', 'sound_controls', true),
				Trigger('SafeVisibility', 'sound_controls', false)
			);

			If(
				StringEquals(le_tool_current, 'cliff'),
				Trigger('SafeVisibility', 'cliff_properties', true),
				Trigger('SafeVisibility', 'cliff_properties', false)
			);

			If(
				(
					StringEquals(le_tool_current, 'deform') and
					(
						StringEquals(le_subtool_current, 'height') or
						StringEquals(le_subtool_current, 'flatten') or
						StringEquals(le_subtool_current, 'smooth') or
						StringEquals(le_subtool_current, 'clear') or
						StringEquals(le_subtool_current, 'noise')
					)
				),
				Trigger('SafeVisibility', 'deform_brushstr', true),
				Trigger('SafeVisibility', 'deform_brushstr', false)
			);

			Trigger('SafeVisibility', 'deform_cutoptions', ( StringEquals(le_tool_current, 'deform') and StringEquals(le_subtool_current, 'cut') ));
			Trigger('SafeVisibility', 'deform_clearoptions', ( StringEquals(le_tool_current, 'deform') and StringEquals(le_subtool_current, 'clear') ));
			Trigger('SafeVisibility', 'deform_noiseoptions', ( StringEquals(le_tool_current, 'deform') and StringEquals(le_subtool_current, 'noise') ));

			Trigger('SafeVisibility', 'texture_colorswatch', ( StringEquals(le_tool_current, 'paint') and StringEquals(le_subtool_current, 'color') ));
			Trigger('SafeVisibility', 'texture_layer', ( StringEquals(le_tool_current, 'paint') and StringEquals(le_subtool_current, 'texture') ));

			Trigger('SafeVisibility', 'cliff_height', ( StringEquals(le_tool_current, 'cliff') and StringEquals(le_subtool_current, 'clear') ));

			CallEvent('tools_container', 1);
			Trigger('EditorRefreshToolDisplay');
		"
		watch1="SafeVisibility"
		ontrigger1="
			If(
				!IsVisible(param0) and param1,
				ShowWidget(param0)
			);
			If(
				IsVisible(param0) and !param1,
				HideWidget(param0)
			);
		"
	/>

	<!-- Includes -->
	<include file="/ui/fonts.package"/>
 	<include file="/ui/fe2/ui_items.package"/>
	<include file="editor_tooltips.package"/>

	<!-- N Styles -->
	<style name="dragbar" color="#3c527a" />

	<template name="options_slider_bg">
		<panel width="{width=100%}" height="{height=100%}">
			<image width="-200@" align="center" texture="/ui/info/slider_backdrop_c.tga" />
			<image height="100%" width="100@" align="left" texture="/ui/info/slider_backdrop_l.tga" />
			<image height="100%" width="100@" align="right" texture="/ui/info/slider_backdrop_r.tga" />
		</panel>
	</template>

	<template name="options_slider">
		<panel width="{width=100%}" height="{height=100%}">

			<panel width="{labelwidth=50%}" float="right">
				<label color="white" font="dyn_10" textvalign="center" shadow="true" fitx="true" fitxpadding=".5h">{label}</label>
			</panel>

			<panel width="-{labelwidth=50%}" height="100%" align="right">

				<panel x="-170@" width="160@" height="100%" visible="{showvalue=true}">
					<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
					<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
					<cvarlabel textvalign="center" textalign="center" font="{font=dyn_9}" color="#3abde7" shadow="true" height="100%" cvar="{cvar}" />
				</panel>

				<instance name="options_slider_bg" />

				<label color="white" width="150@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="{font=dyn_9}" noclick="true">{minvalue}</label>
				<label color="white" width="150@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="{font=dyn_9}" noclick="true">{maxvalue}</label>

				<panel width="-300@" height="100%" align="center">
					<slider
						name="{slider_name}"
						slotwidth="-1%" slotheight="0.6h"
						slotcolor="1 1 1 1"
						handlewidth="70@" handleheight="70%"
						handlecolor="1 1 1 1"
						cvar="{cvar}"
						minvalue="{minvalue}" maxvalue="{maxvalue}"
						step="{step}"
						texture="/ui/info/slider.tga"
						onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
						onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
						onshow=""
					/>
				</panel>

			</panel>

		</panel>
	</template>

	<template name="options_slider_container">
		<panel y="{y=0}" width="{width=100%}" align="center" height="2.5h" noclick="1">
			<panel width="-1.0h" align="center">
				<panel width="-2.2h" height="100%" valign="center" align="left"	noclick="1">
					<instance name="options_slider" height="2.5h" lowvalue="{lowvalue}" highvalue="{highvalue}" showvalue="{showvalue=true}" labelwidth="{labelwidth=50%}" font="{font=dyn_9}" cvar="{cvar}" step="{step}" slider_name="{slider_name}" minvalue="{minvalue=0}" maxvalue="{maxvalue=1}" label="{label}"/>
				</panel>
				<instance name="tip_mark" tip_id="{tip_id}" width="2.0h" height="2.0h" valign="center" align="right" />
			</panel>
		</panel>
	</template>

	<template name="btn_collapse">
		<button
			name="{id}"
			group="{group}"
			x="{x}"
			visible="{visible=true}"
			color="invisible"
			onclick="PlaySound('/shared/sounds/ui/ccpanel/button_close_02.wav'); HideWidget('{tip_id}'); {onclick}"
			onmouseover="PlaySound('/shared/sounds/ui/ccpanel/button_over_01.wav'); ShowWidget('{tip_id}');"
			onmouseout="HideWidget('{tip_id}');"
		>
			<widgetstate statename="up">
				<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.5h" color="#005b7e" blockinput="false" noclick="true"/>
				<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.5h" blockinput="false" noclick="true"/>
				<image width="1.3h" height="1.3h" align="center" valign="center" color=".75 .75 .75 1" texture="/ui/fe2/elements/minimize_bar.tga" noclick="true" />
			</widgetstate>
			<widgetstate statename="over">
				<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.5h" color="#0098d2" blockinput="false" noclick="true"/>
				<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.5h" blockinput="false" noclick="true"/>
				<image width="1.3h" height="1.3h" align="center" valign="center" color="1 1 1 1" texture="/ui/fe2/elements/minimize_bar.tga" noclick="true" />
			</widgetstate>
			<widgetstate statename="down" x="1" y="1">
				<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.5h" color="#0089bd" blockinput="false" noclick="true"/>
				<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.5h" blockinput="false" noclick="true"/>
				<image width="1.3h" height="1.3h" align="center" valign="center" color="1 1 1 1" texture="/ui/fe2/elements/minimize_bar.tga" noclick="true" />
			</widgetstate>
		</button>
	</template>

	<template name="btn_expand">
		<button
			name="{id}"
			group="{group}"
			x="{x}"
			visible="{visible=true}"
			color="invisible"
			onclick="PlaySound('/shared/sounds/ui/ccpanel/button_close_02.wav'); HideWidget('{tip_id}'); {onclick}"
			onmouseover="PlaySound('/shared/sounds/ui/ccpanel/button_over_01.wav'); ShowWidget('{tip_id}');"
			onmouseout="HideWidget('{tip_id}');"
		>
			<widgetstate statename="up">
				<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.5h" color="#005b7e" blockinput="false" noclick="true"/>
				<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.5h" blockinput="false" noclick="true"/>
				<image width="1.3h" height="1.3h" align="center" valign="center" color=".75 .75 .75 1" texture="/ui/elements/restore_btn.tga" noclick="true" />
			</widgetstate>
			<widgetstate statename="over">
				<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.5h" color="#0098d2" blockinput="false" noclick="true"/>
				<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.5h" blockinput="false" noclick="true"/>
				<image width="1.3h" height="1.3h" align="center" valign="center" color="1 1 1 1" texture="/ui/elements/restore_btn.tga" noclick="true" />
			</widgetstate>
			<widgetstate statename="down" x="1" y="1">
				<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.5h" color="#0089bd" blockinput="false" noclick="true"/>
				<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.5h" blockinput="false" noclick="true"/>
				<image width="1.3h" height="1.3h" align="center" valign="center" color="1 1 1 1" texture="/ui/elements/restore_btn.tga" noclick="true" />
			</widgetstate>
		</button>
	</template>

	<template name="btn_closewindow">
		<button
			name="{id}"
			group="{group}"
			visible="{visible=true}"
			color="invisible"
			onclick="PlaySound('/shared/sounds/ui/ccpanel/button_close_02.wav'); HideWidget('{tip_id}'); {onclick}"
			onmouseover="PlaySound('/shared/sounds/ui/ccpanel/button_over_01.wav'); ShowWidget('{tip_id}');"
			onmouseout="HideWidget('{tip_id}');"
		>
			<widgetstate statename="up">
				<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.5h" color="#005b7e" blockinput="false" noclick="true"/>
				<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.5h" blockinput="false" noclick="true"/>
				<image y="0.1h" width="1.3h" height="1.3h" align="center" valign="center" color=".75 .75 .75 1" texture="/ui/elements/closex.tga" noclick="true" />
			</widgetstate>
			<widgetstate statename="over">
				<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.5h" color="#0098d2" blockinput="false" noclick="true"/>
				<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.5h" blockinput="false" noclick="true"/>
				<image y="0.1h" width="1.3h" height="1.3h" align="center" valign="center" color="1 1 1 1" texture="/ui/elements/closex.tga" noclick="true" />
			</widgetstate>
			<widgetstate statename="down" x="1" y="1">
				<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.5h" color="#0089bd" blockinput="false" noclick="true"/>
				<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.5h" blockinput="false" noclick="true"/>
				<image y="0.1h" width="1.3h" height="1.3h" align="center" valign="center" color="1 1 1 1" texture="/ui/elements/closex.tga" noclick="true" />
			</widgetstate>
		</button>
	</template>

	<template name="mapedit_options_checkbox_state">
		<widgetstate statename="{state}" float="right" padding="3%">
			<panel width="{size}" color="invisible">
				<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.5h" color="white"/>
				<frame texture="/ui/frames/roundframe.tga" color="#3abde7" borderthickness="0.5h"/>
				<image hmargin="0.15h" vmargin="0.15h" texture="/ui/elements/check.tga" visible="{checked}" />
			</panel>
			<label width="-{size}" height="100%" textvalign="center" font="{font}" color="{color}" shadow="true">{label}</label>
		</widgetstate>
	</template>

	<template name="mapedit_options_checkbox">
		<panel name="{id}" height="{height=1.5h}">
			<panel width="{width=100%}" align="{align=center}" noclick="true" group="{id}" name="{id}check" visible="false" watch="EntitySelection" ontrigger="SetVisible(!GetSelectionProperty('{property}'));">
				<button
					color="invisible"
					onclick="ShowWidget('{id}uncheck'); HideWidget('{id}check'); SetSelectionProperty('{property}','1');"
				>
					<instance name="mapedit_options_checkbox_state" state="up" size="{height=1.5h}" label="{label}" font="{font=dyn_10}" color="white" checked="false"/>
					<instance name="mapedit_options_checkbox_state" state="over" size="{height=1.5h}" label="{label}" font="{font=dyn_10}" color="#3abde7" checked="false"/>
					<instance name="mapedit_options_checkbox_state" state="down" size="{height=1.5h}" label="{label}" font="{font=dyn_10}" color="#3abde7" checked="false"/>
				</button>
			</panel>

			<panel width="{width=100%}" align="{align=center}" noclick="true" group="{id}" name="{id}uncheck" visible="false" watch="EntitySelection" ontrigger="SetVisible(GetSelectionProperty('{property}'));">
				<button
					color="invisible"
					onclick="ShowWidget('{id}check'); HideWidget('{id}uncheck'); SetSelectionProperty('{property}','0');"
				>
					<instance name="mapedit_options_checkbox_state" state="up" size="{height=1.5h}" label="{label}" font="{font=dyn_10}" color="white" checked="true"/>
					<instance name="mapedit_options_checkbox_state" state="over" size="{height=1.5h}" label="{label}" font="{font=dyn_10}" color="#3abde7" checked="true"/>
					<instance name="mapedit_options_checkbox_state" state="down" size="{height=1.5h}" label="{label}" font="{font=dyn_10}" color="#3abde7" checked="true"/>
				</button>
			</panel>
		</panel>
	</template>

	<!-- Dialog Templates -->
	<template name="file_new_body">
		<!-- Map Name -->
		<panel width="100%" height="3.0h" noclick="true">
			<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_newmap_name" />
			<panel x="-0.8h" width="16.0h" height="-0.6h" align="right" valign="center" noclick="true">
				<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />
				<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
					<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color="0 0 0 1" noclick="true"/>
					<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
					<textbox
						width="-1.0h" height="-1.0h"
						align="center" valign="center"
						font="dyn_9" textcolor="white"
						color="invisible"
						taborder="100"
						onload="CreateString('_new_name');"
						onshow="EraseInputLine(); SetFocus(true);"
						onesc="EraseInputLine(); HideWidget('file_new');"
						onchange="Set('_new_name', this); Trigger('ValidateNewMapDialog');"
						name="le_newmap_name"
					/>
				</panel>
				<instance name="tip_mark" tip_id="newmap_name" width="2.0h" height="2.0h" valign="center" align="right" />
			</panel>
		</panel>

		<!-- Map Size -->
		<panel width="100%" height="3.0h" noclick="true">
			<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_newmap_size" />
			<panel x="-0.8h" width="6.0h" height="-0.6h" align="right" valign="center" noclick="true">
				<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />
				<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
					<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color="0 0 0 1" noclick="true"/>
					<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
					<textbox
						width="-1.0h" height="-1.0h"
						align="center" valign="center"
						font="dyn_9" textcolor="white"
						color="invisible"
						taborder="101"
						onload="CreateString('_new_size');"
						onshow="EraseInputLine();"
						onesc="EraseInputLine(); HideWidget('file_new');"
						onchange="Set('_new_size', this); Trigger('ValidateNewMapDialog');"
						name="le_newmap_size"
					/>
				</panel>
				<instance name="tip_mark" tip_id="newmap_size" width="2.0h" height="2.0h" valign="center" align="right" />
			</panel>
		</panel>

		<!-- Map Scale -->
		<panel width="100%" height="3.0h" noclick="true">
			<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_newmap_scale" />
			<panel x="-0.8h" width="6.0h" height="-0.6h" align="right" valign="center" noclick="true">
				<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />
				<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
					<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color="0 0 0 1" noclick="true"/>
					<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
					<textbox
						width="-1.0h" height="-1.0h"
						align="center" valign="center"
						font="dyn_9" textcolor="white"
						color="invisible"
						taborder="102"
						onload="CreateString('_new_scale'); CreateString('_new_error');"
						onshow="EraseInputLine(); Set('_new_error', ''); Trigger('UpdateNewError');"
						onesc="EraseInputLine(); HideWidget('file_new');"
						onchange="Set('_new_scale', this); Trigger('ValidateNewMapDialog');"
						name="le_newmap_scale"
					/>
				</panel>
				<instance name="tip_mark" tip_id="newmap_scale" width="2.0h" height="2.0h" valign="center" align="right" />
			</panel>
		</panel>

		<!-- Min Players
		<panel width="100%" height="3.0h" noclick="true">
			<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_newmap_minplayers" />
			<panel x="-0.8h" width="6.0h" height="-0.6h" align="right" valign="center" noclick="true">
				<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />
				<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
					<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color="0 0 0 1" noclick="true"/>
					<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
					<textbox
						width="-1.0h" height="-1.0h"
						align="center" valign="center"
						font="dyn_9" textcolor="white"
						color="invisible"
						taborder="103"
						onesc="EraseInputLine(); HideWidget('file_new');"
						onchange="Trigger('ValidateNewMapDialog');"
					/>
				</panel>
				<instance name="tip_mark" tip_id="newmap_minplayers" width="2.0h" height="2.0h" valign="center" align="right" />
			</panel>
		</panel>
		 -->

		<!-- Max Players -->
		<panel width="100%" height="3.0h" noclick="true">
			<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_newmap_maxplayers" />
			<panel x="-0.8h" width="6.0h" height="-0.6h" align="right" valign="center" noclick="true">
				<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />
				<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
					<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color="0 0 0 1" noclick="true"/>
					<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
					<textbox
						width="-1.0h" height="-1.0h"
						align="center" valign="center"
						font="dyn_9" textcolor="white"
						color="invisible"
						taborder="104"
						onesc="EraseInputLine(); HideWidget('file_new');"
						onchange="Trigger('ValidateNewMapDialog');"
						name="le_newmap_maxplayers"
					/>
				</panel>
				<instance name="tip_mark" tip_id="newmap_maxplayers" width="2.0h" height="2.0h" valign="center" align="right" />
			</panel>
		</panel>

		<!-- Texture Scale -->
		<panel width="100%" height="3.0h" noclick="true">
			<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_newmap_texturescalse" />
			<panel x="-0.8h" width="6.0h" height="-0.6h" align="right" valign="center" noclick="true">
				<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />
				<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
					<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color="0 0 0 1" noclick="true"/>
					<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
					<textbox
						width="-1.0h" height="-1.0h"
						align="center" valign="center"
						font="dyn_9" textcolor="white"
						color="invisible"
						onload="CreateString('_new_tex_scale'); CreateString('_new_error');"
						onshow="EraseInputLine(); Set('_new_error', ''); Trigger('UpdateNewError');"
						onesc="EraseInputLine(); HideWidget('file_new');"
						onchange="Set('_new_tex_scale', this); Trigger('ValidateNewMapDialog');"
						onenter=""
						onlosefocus=""
						name="le_newmap_texscale"
					/>
				</panel>
				<instance name="tip_mark" tip_id="newmap_texturescale" width="2.0h" height="2.0h" valign="center" align="right" />
			</panel>
		</panel>

		<panel width="100%" height="0.4h" noclick="true" />
		<label width="100%" fity="true" fitypadding="0" textalign="center" color="red" shadow="true" font="dyn_10" watch="UpdateNewError" ontrigger="SetText(_new_error);"/>
	</template>

	<!-- '/maps/', '*.s2z', 'dyn_9', '1 1 1 1', 'true', 'false', 'left', '0.4h', '0.0');-->

	<template name="file_load_body">
		<panel height="4.0h" width="100%">
			<label x="0.8h" height="100%" textvalign="center" font="dyn_9" color="white" shadow="true" content="mapedit_newmap_name" noclick="true" />

			<combobox
				x="-0.8h"
				width="17.0h"
				height="2h"
				align="right"
				valign="center"
				color="invisible"
				itemwidth="100%"
				itemheight="2h"
				maxlistheight="5"
				exteriorscrollbars="false"
				scrolltexture="/ui/info/combobox.tga"
				handleheight="100@" handlewidth="100%"
				scrollbarsize="2h"
				scrollbaroffset="0"
				highlight="under"
				highlightbordercolor="white"
				onmouseover="PlaySound('/shared/sounds/ui/button_over_02.wav');"
				onload="CreateString('_load_name');"
				onselect="Set('_load_name', Substring(this, 6, SearchString(this, '.s2z', 0) - 6));"
				onshow="ClearItems(); UpdateDirList('font=\'dyn_9\' path=\'~/maps/\' wildcard=\'*.s2z\' textvalign=\'center\' x=\'0.4h\''); UpdateDirList('font=\'dyn_9\' path=\'/maps/\' wildcard=\'*.s2z\' textvalign=\'center\' x=\'0.4h\''); SetSelectedItemByIndex(0); "

			>

				<instance name="Noptions_combobox_state" state="up" color="1 1 1 1" image="up"/>
				<instance name="Noptions_combobox_state" state="over" color="#69ccff" image="over"/>
				<instance name="Noptions_combobox_state" state="down" color="#69ccff" image="over"/>
				<widgetstate statename="listbg">
					<frame height="+2.7h" y="-1.9h" texture="/ui/info/combobox_dropdown.tga" borderthickness="3h" color="white" />
				</widgetstate>
				<widgetstate statename="itembg">
					<panel width="100%" />
				</widgetstate>
				<widgetstate statename="itemhighlight">
					<panel width="100%" texture="/ui/info/header_bar_c.tga" color="1.0 1.0 1.0">
						<panel width="100%" height="100%" >
							<image height="50%" width="32" align="left" valign="top" texture="/ui/info/header_bar_tl.tga" noclick="1"/>
							<image height="50%" width="32" align="left" valign="bottom" texture="/ui/info/header_bar_bl.tga" noclick="1"/>
							<image height="50%" width="32" align="right" valign="top" texture="/ui/info/header_bar_tr.tga" noclick="1"/>
							<image height="50%" width="32" align="right" valign="bottom" texture="/ui/info/header_bar_br.tga" noclick="1"/>
						</panel>
					</panel>
				</widgetstate>
			</combobox>

		</panel>

	</template>

	<template name="file_save_as_body">
		<!-- Map Name -->
		<panel width="100%" height="3.0h" noclick="true">
			<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_newmap_name" />
			<panel x="-0.8h" width="16.0h" height="-0.6h" align="right" valign="center" noclick="true">
				<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />
				<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
					<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color="0 0 0 1" noclick="true"/>
					<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
					<textbox
						width="-1.0h" height="-1.0h"
						align="center" valign="center"
						font="dyn_9" textcolor="white"
						color="invisible"
						onload="CreateString('_new_name');"
						onshow="EraseInputLine(); SetFocus(true);"
						onesc="EraseInputLine(); HideWidget('file_save_as');"
						onchange="Set('_new_name', this);"
					/>
				</panel>
				<instance name="tip_mark" tip_id="newmap_name" width="2.0h" height="2.0h" valign="center" align="right" />
			</panel>
		</panel>
	</template>
	<!-- / Dialog Templates -->

	<template name="global_dialog_cotainer">

		<panel name="{id}" width="100%" height="100%" visible="{visible=false}" onshow="bringtofront();" onclick="bringtofront();" noclick="true">

			<!-- Modal Click Bocker -->
			<panel color="0 0 0 .2" onclick="CallEvent('{id}alert', 0);" visible="{ismodal=false}" />

			<panel grow="true" regrow="true" growinvis="false" width="{width=100%}" align="center" valign="center" cangrab="true">
				<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .95" noclick="true"/>
				<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />

				<panel height="{content_height}" y="0.5h" width="100%" float="bottom" reverse="true" noclick="true">

					<panel width="100%" height="2.4h" noclick="true">
						<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
							<label x="0.5h" height="100%" textvalign="center" font="dyn_10" color="white" shadow="true"  content="{title}" noclick="true" />
							<panel x="-0.3h" width="1.5h" height="1.5h" valign="center" align="right" color="invisible">
								<instance name="btn_closewindow" onclick="{close}" tip_id="{close_tip}" />
							</panel>
						</frame>
					</panel>

					<panel width="100%" height="0.8h" noclick="true" />

					<instance name="{body}" />

					<panel width="100%" height="0.8h" noclick="true" />

					<panel height="2.0h" width="100%" noclick="true">
						<instance
							name="button2"
							x="1.0h"
							width="{lbtn_width=9.0h}"
							align="left" valign="bottom"
							label="{lbtn_label}"
							borderthickness="0.4h"
							watch="{lbtn_watch}"
							enabled="{lbtn_enabled=true}"
							ontrigger="{lbtn_ontrigger}"
							onclick="{lbtn_onclick}"
						/>

						<instance
							name="button2"
							button_name="{button_name}"
							x="-1.0h"
							width="{rbtn_width=13.0h}"
							align="right" valign="bottom"
							label="{rbtn_label}"
							borderthickness="0.4h"
							watch="{rbtn_watch}"
							enabled="{rbtn_enabled=true}"
							ontrigger="{rbtn_ontrigger}"
							onclick="{rbtn_onclick}"
						/>
					</panel>

				</panel>

				<panel name="{id}alert" visible="false" noclick="true"
					onevent0="SleepWidget(50, 'FadeIn(160); DoEvent(1);');"
					onevent1="SleepWidget(160, 'FadeOut(160); DoEvent(2);');"
					onevent2="SleepWidget(160, 'FadeIn(160); DoEvent(3);');"
					onevent3="SleepWidget(160, 'FadeOut(160); DoEvent(4);');"
					onevent4="SleepWidget(160, 'FadeIn(160); DoEvent(5);');"
					onevent5="SleepWidget(160, 'FadeOut(160);');"
				>
					<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color="1 1 1 .05" noclick="true"/>
					<frame texture="frames/roundframe.tga" color="#2f4f8d" borderthickness="0.6h" noclick="true" />
				</panel>

			</panel>
		</panel>

	</template>

	<template name="quit_confirm">
		<instance
			name="button2"
			x="-6.0h"
			width="10.0h" height="2.4h"
			align="center"
			valign="center"
			label="general_cancel"
			onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav');"
			onclick="Call('quit_confirm', 'FadeOut(250);');"
		/>
		<instance
			name="button2"
			x="6.0h"
			width="10.0h" height="2.4h"
			align="center"
			valign="center"
			label="main_button_quit"
			onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav');"
			onclick="Quit();"
		/>
	</template>

	<template name="menu_button">
		<panel width="5.3h" height="5.3h" align="center" valign="top" noclick="true">
			<image texture="elements/menubtn_base.tga" noclick="true"/>
			<button
				align="center" valign="center"
				color="invisible"
				onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav'); ShowWidget('{tip_id}');"
				onmouseout="HideWidget('{tip_id}');"
				onclick="
					SelectTool('{tool}');
					Trigger('EditorChooseTool', '{tool}', 'default');
				"
			>
				<widgetstate statename="up">
					<image width="90%" height="90%" align="center" valign="center" texture="elements/icons/{icon}.tga" color="1 1 1 1"/>
				</widgetstate>

				<widgetstate statename="over">
					<image texture="elements/menubtn_base_HL.tga" noclick="true"/>
					<image width="90%" height="90%" align="center" valign="center" texture="elements/icons/{icon}_h.tga" color="1 1 1 1"/>
				</widgetstate>

				<widgetstate statename="down" x="1" y="1">
					<image width="90%" height="90%" align="center" valign="center" texture="elements/icons/{icon}_h.tga" color="1 1 1 1"/>
				</widgetstate>
			</button>

			<!-- Current Button Blocker -->
			<panel width="100%" height="100@" align="center" valign="top" noclick="1" visible="{current=false}" watch="EditorRefreshToolDisplay" ontrigger="SetVisible(StringEquals(le_tool_current, '{tool}'));">
				<image texture="elements/icons/{icon}_on.tga" noclick="1"/>
			</panel>

		</panel>
		<label fity="true" fitypadding="0.6h" width="100%" textalign="center" font="dyn_8" color="white" shadow="true" content="{label}" />
	</template>

	<template name="tool_button">
		<panel width="100@" height="100%">

			<button
				color="invisible"
				onclick="{onclick}"
				onmouseover="PlaySound('/shared/sounds/ui/button_over_01.wav'); ShowWidget('{tip_id}');"
				onmouseout="HideWidget('{tip_id}');"
			>
				<widgetstate statename="up">
					<image texture="elements/icons/tools/{texture}" />
					<frame borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
				</widgetstate>
				<widgetstate statename="over">
					<image texture="elements/icons/tools/{texture}" />
					<frame borderthickness="2" color="invisible" bordercolor="1 1 1 1" noclick="true" rendermode="overlay" />
					<frame borderthickness="1" color="invisible" bordercolor="#2574ff" noclick="true" />
				</widgetstate>
				<widgetstate statename="down" x="1" y="1">
					<image texture="elements/icons/tools/{texture}" />
					<frame borderthickness="2" color="invisible" bordercolor="1 1 1 1" noclick="true" rendermode="overlay" />
					<frame borderthickness="1" color="invisible" bordercolor="#2574ff" noclick="true" />
				</widgetstate>
			</button>

			<!-- Current Indicator -->
			<panel visible="{is_current=false}" noclick="true" watch="EditorRefreshToolDisplay" ontrigger="SetVisible(StringEquals(le_tool_current, '{tool}') and StringEquals(le_subtool_current, '{subtool}'));">
				<frame borderthickness="3" color="invisible" bordercolor="1 1 1 1" noclick="true" />
				<frame borderthickness="2" color="invisible" bordercolor="#e4360d" noclick="true" />
				<frame borderthickness="1" color="invisible" bordercolor="1 1 1 1" noclick="true" />
			</panel>
			
			<!-- Secondary Indicator -->
			<panel visible="{is_secondary=false}" noclick="true" name="{secondary_name}" group="{secondary_group}" onload="{secondary_onload}">
				<frame borderthickness="3" color="invisible" bordercolor="1 1 1 1" noclick="true" />
				<frame borderthickness="2" color="invisible" bordercolor="#e4360d" noclick="true" />
				<frame borderthickness="1" color="invisible" bordercolor="1 1 1 1" noclick="true" />
			</panel>

		</panel>
	</template>

	<!-- Tool Set Templates -->
	<template name="tools_pre_seperator">
		<panel height="100%" width="1.0h" noclick="true">
			<panel height="{height=-1.0h}" width="1" valign="center" color="1 1 1 .3" />
		</panel>
	</template>

	<!-- Brush Size -->
	<template name="tool_option_brushsize">
		<panel grow="true" height="100%" valign="center" float="right" padding="0.5h" noclick="true" visible="{visible=true}">

			<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="DEAD" />

				<panel height="100%" width="2.4h" valign="center">
					<combobox width="2.4h" height="2.4h" valign="center"
						listwidth="10.0h" maxlistheight="8" itemwidth="2.4h" itemheight="2.4h" wrap="column"
						watch="BrushImage"
						ontrigger="SetSelectedItemByValue(GetCurrentBrush(), false);"
						onselect="SetBrush(this);"
					>
						<brushlistitems />
					</combobox>
					<frame width="2.4h" height="2.4h" valign="center" borderthickness="2" color="invisible" bordercolor="1 1 1 .2" noclick="true" />
					<frame width="2.4h" height="2.4h" valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
				</panel>
		</panel>
	</template>

	<!-- Brush STR -->
	<template name="tool_option_brushstr">
		<panel grow="true" height="100%" valign="center" float="right" padding="0.5h" noclick="true" visible="{visible=true}">

			<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="Brush Strength" />

			<panel width="20.0h" height="100%" noclick="true">

				<panel width="-3.8h" height="2.6h" valign="center" noclick="true">
					<instance name="options_slider_bg" />

					<label color="white" width="3.5h" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">{minvalue}</label>
					<label color="white" width="3.5h" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">{maxvalue}</label>

					<panel width="-7.0h" height="100%" align="center">
						<slider
							name="{slider_name}"
							slotwidth="-1%" slotheight="0.6h"
							slotcolor="1 1 1 1"
							handlewidth="70@" handleheight="70%"
							handlecolor="1 1 1 1"
							cvar="{slider_cvar}"
							minvalue="{minvalue}" maxvalue="{maxvalue}"
							step="{step}"
							texture="/ui/info/slider.tga"
							onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
							onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
							onshow=""
						/>
					</panel>

				</panel>

				<panel width="3.4h" height="2.6h" valign="center" align="right" visible="{showvalue=true}">
					<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
					<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
					<cvarlabel textvalign="center" textalign="center" font="{font=dyn_9}" color="#3abde7" shadow="true" height="100%" cvar="{slider_cvar}" numeric="true" numerictype="float" precision="0" />
				</panel>

			</panel>

			<panel height="100%" width="2.0h">
				<instance name="tip_mark" tip_id="brush_str_tip" width="2.0h" height="2.0h" valign="center" />
			</panel>

			<panel height="100%" width="0.1h" noclick="true"/>

		</panel>
	</template>

	<!-- Deform Tools -->
	<template name="tool_btns_deform">
		<panel grow="true" height="2.6h" valign="center" float="right" padding="0.5h" noclick="true" visible="{visible=true}">
			<instance name="tool_button" tool="deform" subtool="height" onclick="Trigger('EditorChooseTool', 'deform', 'height'); SetDeformMode('add'); "  texture="deform_sculpt.tga" tip_id="deform_raiselower"/>
			<instance name="tool_button" tool="deform" subtool="flatten" onclick="Trigger('EditorChooseTool', 'deform', 'flatten'); SetDeformMode('flatten');" texture="deform_flatten.tga" tip_id="deform_flatten" />
			<instance name="tool_button" tool="deform" subtool="cut" onclick="Trigger('EditorChooseTool', 'deform', 'cut'); SetDeformMode('cut');" texture="deform_chop.tga" tip_id="deform_cut" />
			<instance name="tool_button" tool="deform" subtool="smooth" onclick="Trigger('EditorChooseTool', 'deform', 'smooth'); SetDeformMode('smooth');" texture="deform_smooth.tga" tip_id="deform_smooth" />
			<instance name="tool_button" tool="deform" subtool="clear" onclick="Trigger('EditorChooseTool', 'deform', 'clear'); SetDeformMode('clear');" texture="deform_erase.tga" tip_id="deform_clear" />
			<instance name="tool_button" tool="deform" subtool="noise" onclick="Trigger('EditorChooseTool', 'deform', 'noise'); SetDeformMode('noise');" texture="deform_noise.tga" tip_id="deform_noise" />
			<!-- Removing this for now instance name="tool_button" tool="deform" subtool="stamp" onclick="Trigger('EditorChooseTool', 'deform', 'stamp'); SetDeformMode('stamp');" texture="deform_stamp.tga" tip_id="deform_stamp" / -->

			<panel height="100%" width="0" noclick="true"/>
		</panel>
	</template>
	<!-- / Deform Tools -->

	<!-- Texture Tools -->
	<template name="tool_btns_texture">
		<panel grow="true" height="2.6h" valign="center" float="right" padding="0.5h" noclick="true" visible="{visible=true}">
			<instance name="tool_button" tool="paint" subtool="color" onclick="Trigger('EditorChooseTool', 'paint', 'color'); SetPaintMode('color');" texture="texture_color.tga" tip_id="texture_color" />
			<instance name="tool_button" tool="paint" subtool="texture" onclick="Trigger('EditorChooseTool', 'paint', 'texture'); SetPaintMode('texture');" texture="texture_texture.tga" tip_id="texture_texture" />
			<!--<instance name="tool_button" tool="paint" subtool="alpha" onclick="Trigger('EditorChooseTool', 'paint', 'alpha'); SetPaintMode('alpha');" texture="TMP_missing.tga" tip_id="texture_alpha" />-->
			<panel height="100%" width="0" noclick="true"/>
		</panel>
	</template>
	<!-- / Texture Tools -->

	<!-- Entities Tools -->
	<template name="tool_btns_entities">
		<panel grow="true" height="2.6h" valign="center" float="right" padding="0.5h" noclick="true" visible="{visible=true}">
			<instance name="tool_button" tool="entity" subtool="create" onclick="Trigger('EditorChooseTool', 'entity', 'create'); SetEntityEditMode('create');" texture="entity_create.tga" tip_id="entity_create"/>
			<instance name="tool_button" tool="entity" subtool="select" onclick="Trigger('EditorChooseTool', 'entity', 'select'); SetEntityEditMode('select');" texture="entity_select.tga" tip_id="entity_select"/>
			<instance name="tool_button" tool="entity" subtool="translatexy" onclick="Trigger('EditorChooseTool', 'entity', 'translatexy'); SetEntityEditMode('translate');" texture="entity_translate.tga" tip_id="entity_translatexy"/>
			<instance name="tool_button" tool="entity" subtool="translate_z" onclick="Trigger('EditorChooseTool', 'entity', 'translate_z'); SetEntityEditMode('translate_z');" texture="entity_translatez.tga" tip_id="entity_translatez"/>
			<instance name="tool_button" tool="entity" subtool="yaw" onclick="Trigger('EditorChooseTool', 'entity', 'yaw'); SetEntityEditMode('rotate_yaw');" texture="entity_rotatez.tga" tip_id="entity_yaw"/>
			<instance name="tool_button" tool="entity" subtool="roll" onclick="Trigger('EditorChooseTool', 'entity', 'roll'); SetEntityEditMode('rotate_roll');" texture="entity_rotatex.tga" tip_id="entity_roll"/>
			<instance name="tool_button" tool="entity" subtool="pitch" onclick="Trigger('EditorChooseTool', 'entity', 'pitch'); SetEntityEditMode('rotate_pitch');" texture="entity_rotatey.tga" tip_id="entity_pitch"/>
			<instance name="tool_button" tool="entity" subtool="scale" onclick="Trigger('EditorChooseTool', 'entity', 'scale'); SetEntityEditMode('scale');" texture="entity_scale.tga" tip_id="entity_scale"/>
			<panel height="100%" width="0" noclick="true"/>
		</panel>
	</template>
	<!-- / Entities Tools -->
	
	<!-- Treemode Tools -->
	<template name="tool_btns_treemode">
		<panel grow="true" height="2.6h" valign="center" float="right" padding="0.5h" noclick="true" visible="{visible=true}">
			<instance name="tool_button" tool="entity" subtool="create" onclick="Trigger('EditorChooseTool', 'entity', 'create'); SetEntityEditMode('create');" texture="entity_create.tga" tip_id="entity_create"/>
			<instance name="tool_button" tool="entity" subtool="select" onclick="Trigger('EditorChooseTool', 'entity', 'select'); SetEntityEditMode('select');" texture="entity_select.tga" tip_id="entity_select"/>
			<instance name="tool_button" tool="entity" subtool="translatexy" onclick="Trigger('EditorChooseTool', 'entity', 'translatexy'); SetEntityEditMode('translate');" texture="entity_translate.tga" tip_id="entity_translatexy"/>
			<instance name="tool_button" tool="entity" subtool="yaw" onclick="Trigger('EditorChooseTool', 'entity', 'yaw'); SetEntityEditMode('rotate_yaw');" texture="entity_rotatez.tga" tip_id="entity_yaw"/>
			<panel height="100%" width="0" noclick="true"/>
		</panel>
	</template>
	<!-- / Treemode Tools -->

	<!-- Lights Tools  -->
	<template name="tool_btns_lights">
		<panel grow="true" height="2.6h" valign="center" float="right" padding="0.5h" noclick="true" visible="{visible=true}">
			<instance name="tool_button" tool="light" subtool="create" onclick="Trigger('EditorChooseTool', 'light', 'create'); LightEditMode('create');" texture="entity_create.tga" tip_id="create_tip" />
			<instance name="tool_button" tool="light" subtool="select" onclick="Trigger('EditorChooseTool', 'light', 'select'); LightEditMode('select');" texture="entity_select.tga" tip_id="select_tip" />
			<instance name="tool_button" tool="light" subtool="translatexy" onclick="Trigger('EditorChooseTool', 'light', 'translatexy'); LightEditMode('translate');" texture="entity_translate.tga" tip_id="translate_tip" />
			<instance name="tool_button" tool="light" subtool="translatez" onclick="Trigger('EditorChooseTool', 'light', 'translatez'); LightEditMode('translate_z');" texture="entity_translatez.tga" tip_id="translate_z_tip" />
			<instance name="tool_button" tool="light" subtool="scale" onclick="Trigger('EditorChooseTool', 'light', 'scale'); LightEditMode('scale');" texture="entity_scale.tga" tip_id="scale_tip" />
			<panel height="100%" width="0" noclick="true"/>
		</panel>
	</template>

	<!-- Foliage Tools -->
	<template name="tool_btns_foliage">
		<panel grow="true" height="2.6h" valign="center" float="right" padding="0.5h" noclick="true" visible="{visible=true}">
			<instance name="tool_button" tool="foliage" subtool="all" onclick="Trigger('EditorChooseTool', 'foliage', 'all'); foliagemode('auto'); HideGroup('foliage_settings_option');" texture="foliage_auto.tga" tip_id="foliage_all_tip" />
			<panel height="100%" width="2.0h">
				<instance name="tip_mark" tip_id="foliage_lazymode_tip" width="2.0h" height="2.0h" valign="center" />
			</panel>
			<panel height="100%" width="0.1h" noclick="true"/>
			<instance name="tools_pre_seperator" height="2.4h"/>
			<instance name="tool_button" tool="foliage" subtool="texture" onclick="Trigger('EditorChooseTool', 'foliage', 'texture'); foliagemode('texture'); HideOnly('mapedit_foliage_texture_cover');" texture="foliage_texture.tga" tip_id="foliage_texture_tip" />
			<instance name="tool_button" tool="foliage" subtool="density" onclick="Trigger('EditorChooseTool', 'foliage', 'density'); foliagemode('density'); HideOnly('mapedit_foliage_density_cover');" texture="foliage_density.tga" tip_id="foliage_density_tip" />
			<instance name="tool_button" tool="foliage" subtool="size" onclick="Trigger('EditorChooseTool', 'foliage', 'size'); foliagemode('size'); HideOnly('mapedit_foliage_size_cover');" texture="foliage_size.tga" tip_id="foliage_size_tip" />
			<instance name="tool_button" tool="foliage" subtool="scale" onclick="Trigger('EditorChooseTool', 'foliage', 'scale'); foliagemode('scale'); HideOnly('mapedit_foliage_scale_cover');" texture="foliage_scale.tga" tip_id="foliage_scale_tip" />
			<instance name="tool_button" tool="foliage" subtool="smooth" onclick="Trigger('EditorChooseTool', 'foliage', 'smooth'); foliagemode('smooth'); ShowGroup('foliage_settings_option');" texture="foliage_smooth.tga" tip_id="foliage_smooth_tip" />
			<panel height="100%" width="0" noclick="true"/>
		</panel>
	</template>
	<!-- / Foliage Tools -->

	<!-- Occluders Tools -->
	<template name="tool_btns_occluders">
		<panel grow="true" height="2.6h" valign="center" float="right" padding="0.5h" noclick="true" visible="{visible=true}">
			<instance name="tool_button" tool="occluder" subtool="create" onclick="Trigger('EditorChooseTool', 'occluder', 'create'); OccluderEditMode('create');" texture="entity_create.tga" tip_id="create_tip" />
			<instance name="tool_button" tool="occluder" subtool="select" onclick="Trigger('EditorChooseTool', 'occluder', 'select'); OccluderEditMode('select');" texture="entity_select.tga" tip_id="select_tip" />
			<instance name="tool_button" tool="occluder" subtool="translatexy" onclick="Trigger('EditorChooseTool', 'occluder', 'translatexy'); OccluderEditMode('translate');" texture="entity_translate.tga" tip_id="translate_tip" />
			<instance name="tool_button" tool="occluder" subtool="translatez" onclick="Trigger('EditorChooseTool', 'occluder', 'translatez'); OccluderEditMode('translate_z');" texture="entity_translatez.tga" tip_id="translate_z_tip" />
			<instance name="tool_button" tool="occluder" subtool="yaw" onclick="Trigger('EditorChooseTool', 'occluder', 'yaw'); OccluderEditMode('rotate_yaw');" texture="entity_rotatez.tga" tip_id="rotate_yaw_tip" />
			<instance name="tool_button" tool="occluder" subtool="roll" onclick="Trigger('EditorChooseTool', 'occluder', 'roll'); OccluderEditMode('rotate_roll');" texture="entity_rotatex.tga" tip_id="rotate_roll_tip" />
			<instance name="tool_button" tool="occluder" subtool="pitch" onclick="Trigger('EditorChooseTool', 'occluder', 'pitch'); OccluderEditMode('rotate_pitch');" texture="entity_rotatey.tga" tip_id="rotate_pitch_tip" />
			<instance name="tool_button" tool="occluder" subtool="scale" onclick="Trigger('EditorChooseTool', 'occluder', 'scale'); OccluderEditMode('scale');" texture="entity_scale.tga" tip_id="scale_tip" />
			<panel height="100%" width="0" noclick="true"/>
		</panel>
	</template>
	<!-- / Occluders Tools -->

	<!-- Sound Tools -->
	<template name="tool_btns_sounds">
		<panel grow="true" height="2.6h" valign="center" float="right" padding="0.5h" noclick="true" visible="{visible=true}">
			<instance name="tool_button" tool="sound" subtool="create" onclick="Trigger('EditorChooseTool', 'sound', 'create'); SoundEditMode('create');" texture="entity_create.tga" tip_id="create_tip" />
			<instance name="tool_button" tool="sound" subtool="select" onclick="Trigger('EditorChooseTool', 'sound', 'select'); SoundEditMode('select');" texture="entity_select.tga" tip_id="select_tip" />
			<instance name="tool_button" tool="sound" subtool="translatexy" onclick="Trigger('EditorChooseTool', 'sound', 'translatexy'); SoundEditMode('translate');" texture="entity_translate.tga" tip_id="translate_tip" />
			<instance name="tool_button" tool="sound" subtool="translatez" onclick="Trigger('EditorChooseTool', 'sound', 'translatez'); SoundEditMode('translate_z');" texture="entity_translatez.tga" tip_id="translate_z_tip" />
			<panel height="100%" width="0" noclick="true"/>
		</panel>
	</template>
	<!-- / Sound Tools -->

	<!-- Blockers Tools -->
	<template name="tool_btns_blockers">
		<panel grow="true" height="2.6h" valign="center" float="right" padding="0.5h" noclick="true" visible="{visible=true}">
			<instance name="tool_button" tool="blocker" subtool="movement" onclick="Trigger('EditorChooseTool', 'blocker', 'movement'); SetBlockerMode('movement');" texture="texture_color.tga" tip_id="blockers_movement" />
			<instance name="tool_button" tool="blocker" subtool="visual" onclick="Trigger('EditorChooseTool', 'blocker', 'visual'); SetBlockerMode('visual');" texture="texture_texture.tga" tip_id="blockers_visual" />
			<panel height="100%" width="0" noclick="true"/>
		</panel>
	</template>
	<!-- / Blockers Tools -->

	<!-- Cliff Tools -->
	<template name="tool_btns_cliff">
		<panel grow="true" height="2.6h" valign="center" float="right" padding="0.5h" noclick="true" visible="{visible=true}">
			<instance name="tool_button" tool="cliff" subtool="create" onclick="Trigger('EditorChooseTool', 'cliff', 'create'); SetCliffMode('create'); " texture="cliff_create.tga" tip_id="cliff_create" />
			<instance name="tool_button" tool="cliff" subtool="clear" onclick="Trigger('EditorChooseTool', 'cliff', 'clear'); SetCliffMode('clear'); " texture="deform_erase.tga" tip_id="cliff_clear" />
			<instance name="tool_button" tool="cliff" subtool="flatten" onclick="Trigger('EditorChooseTool', 'cliff', 'flatten'); SetCliffMode('warriorcliff3'); " texture="deform_flatten.tga" tip_id="cliff_flatten" />
			<instance name="tool_button" tool="cliff" subtool="variation" onclick="Trigger('EditorChooseTool', 'cliff', 'variation'); SetCliffMode('variation'); " texture="cliff_variation.tga" tip_id="cliff_variation" />
			<instance name="tool_button" tool="cliff" subtool="createramp" onclick="Trigger('EditorChooseTool', 'cliff', 'createramp'); SetCliffMode('createramp');" texture="cliff_createramp.tga" tip_id="cliff_createramp" />
			<instance name="tool_button" tool="cliff" subtool="paint" onclick="Trigger('EditorChooseTool', 'cliff', 'paint'); SetCliffMode('paint');" texture="deform_erase.tga" tip_id="cliff_paint" />
			<panel height="100%" width="0" noclick="true"/>
		</panel>
	</template>
	<!-- / Cliff Tools -->

	<!-- / Tool Set Templates -->


	<!-- Enviro Color Pickers -->
	<template name="enviro_color_pickers">
		<panel name="{id}" group="enviro_colors" grow="true" regrow="true" growinvis="false" x="20.0h" y="18.0h" width="24.0h" align="center" valign="center" cangrab="true" visible="false" onshow="bringtofront();" onclick="bringtofront();">
			<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .95" noclick="true"/>
			<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />
			<panel grow="true" y="0.5h" width="100%" float="bottom" reverse="true" noclick="true">
				<panel width="100%" height="2.4h" noclick="true">
					<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
						<label x="0.5h" height="100%" textvalign="center" font="dyn_10" color="white" shadow="true"  content="mapedit_enviro_color_picker" noclick="true" />
						<panel x="-0.3h" width="1.5h" height="1.5h" valign="center" align="right" color="invisible">
							<instance name="btn_closewindow" onclick="Call('{id}', 'FadeOut(250);');" tip_id="gen_close_tip" />
						</panel>
					</frame>
				</panel>
				<panel width="100%" height="2.8h" noclick="true">
					<panel width="-2.0h" align="center" noclick="true">
						<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="{idname}" />
						<panel width="5.0h" height="-0.6h" align="right" valign="center" noclick="true">
							<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />
							<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
								<swatch color="#ff0000" cvar="{swatchcvar}" />
								<frame borderthickness="1" bordercolor="0 0 0 1" color="invisible" noclick="true" />
							</panel>
							<instance name="tip_mark" tip_id="{tip}" width="2.0h" height="2.0h" valign="center" align="right" />
						</panel>
					</panel>
				</panel>
				<panel width="100%" height="0.3h" noclick="true" />
				<panel grow="true" growinvis="false" width="100%" noclick="true" float="bottom">
					<!-- Red -->
					<panel width="-2.0h" height="2.6h" align="center" noclick="true">
						<label height="100%" textvalign="center" color="1 0 0 1" shadow="true" font="dyn_10" noclick="true" content="mapedit_texture_red" />
						<panel x="-3.6h" width="-10.0h" height="2.2h" valign="center" align="right" noclick="true">
							<instance name="options_slider_bg" />
							<panel width="-2.0h" height="100%" align="center">
								<slider
									slotwidth="-1%" slotheight="0.6h"
									slotcolor="1 1 1 1"
									handlewidth="70@" handleheight="70%"
									handlecolor="1 1 1 1"
									cvar="{rslider}"
									minvalue="0.0"
									maxvalue="1.0"
									texture="/ui/info/slider.tga"
									onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
									onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav'); {onchange}"
								/>
							</panel>
						</panel>
						<panel width="3.4h" height="2.2h" valign="center" align="right" visible="true">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
							<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="{rslider}" numeric="true" numerictype="float" precision="2"  />
						</panel>
					</panel>
					<!-- Green -->
					<panel width="-2.0h" height="2.6h" align="center" noclick="true">
						<label height="100%" textvalign="center" color="0 1 0 1" shadow="true" font="dyn_10" noclick="true" content="mapedit_texture_green" />
						<panel x="-3.6h" width="-10.0h" height="2.2h" valign="center" align="right" noclick="true">
							<instance name="options_slider_bg" />
							<panel width="-2.0h" height="100%" align="center">
								<slider
									slotwidth="-1%" slotheight="0.6h"
									slotcolor="1 1 1 1"
									handlewidth="70@" handleheight="70%"
									handlecolor="1 1 1 1"
									cvar="{gslider}"
									minvalue="0.0"
									maxvalue="1.0"
									texture="/ui/info/slider.tga"
									onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
									onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav'); {onchange}"
								/>
							</panel>
						</panel>
						<panel width="3.4h" height="2.2h" valign="center" align="right" visible="true">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
							<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="{gslider}" numeric="true" numerictype="float" precision="2"  />
						</panel>
					</panel>
					<!-- Blue -->
					<panel width="-2.0h" height="2.6h" align="center" noclick="true">
						<label height="100%" textvalign="center" color="#0eb2ff" shadow="true" font="dyn_10" noclick="true" content="mapedit_texture_blue" />
						<panel x="-3.6h" width="-10.0h" height="2.2h" valign="center" align="right" noclick="true">
							<instance name="options_slider_bg" />
							<panel width="-2.0h" height="100%" align="center">
								<slider
									slotwidth="-1%" slotheight="0.6h"
									slotcolor="1 1 1 1"
									handlewidth="70@" handleheight="70%"
									handlecolor="1 1 1 1"
									cvar="{bslider}"
									minvalue="0.0"
									maxvalue="1.0"
									texture="/ui/info/slider.tga"
									onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
									onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav'); {onchange}"
								/>
							</panel>
						</panel>
						<panel width="3.4h" height="2.2h" valign="center" align="right" visible="true">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
							<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="{bslider}" numeric="true" numerictype="float" precision="2"  />
						</panel>
					</panel>
					<!-- Alpha -->
					<panel width="-2.0h" height="2.6h" align="center" noclick="true" visible="{hasalpha=false}">
						<label height="100%" textvalign="center" color="#0eb2ff" shadow="true" font="dyn_10" noclick="true" content="mapedit_texture_alpha" />
						<panel x="-3.6h" width="-10.0h" height="2.2h" valign="center" align="right" noclick="true">
							<instance name="options_slider_bg" />
							<panel width="-2.0h" height="100%" align="center">
								<slider
									slotwidth="-1%" slotheight="0.6h"
									slotcolor="1 1 1 1"
									handlewidth="70@" handleheight="70%"
									handlecolor="1 1 1 1"
									cvar="{aslider}"
									minvalue="0.0"
									maxvalue="1.0"
									texture="/ui/info/slider.tga"
									onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
									onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav'); {onchange}"
								/>
							</panel>
						</panel>
						<panel width="3.4h" height="2.2h" valign="center" align="right" visible="true">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
							<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="{bslider}" numeric="true" numerictype="float" precision="2"  />
						</panel>
					</panel>
				</panel>
				<panel width="100%" height="0.8h" noclick="true" />
			</panel>
		</panel>
	</template>
	<!-- / Enviro Color Pickers -->

	<template name="mapedit_property_text">
		<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
			<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="{label}" />
			<panel x="-0.8h" width="{datawidth=22.0h}" height="-0.6h" align="right" valign="center" noclick="true">
				<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />
				<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
					<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color="0 0 0 1" noclick="true"/>
					<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
					<textbox
						width="-1.0h" height="-1.0h"
						align="center" valign="center"
						font="dyn_9" textcolor="white"
						color="invisible"
						watch="{watch}"
						ontrigger="{ontrigger} HideWidget('{save_id}');"
						onenter="{onenter} HideWidget('{save_id}');"
						onesc="{onesc} HideWidget('{save_id}');"
						onshow="{onshow} HideWidget('{save_id}');"
						onchange="{onchange} ShowWidget('{save_id}');"
						onload="{onload} HideWidget('{save_id}');"
						watch0="{watch0}"
						ontrigger0="{ontrigger0} HideWidget('{save_id}');"
					/>

					<!-- Not Saved Marker -->
					<frame
						name="{save_id}"
						visible="false"
						texture="frames/roundframe.tga"
						color="1 0 0 1"
						borderthickness="0.6h"
						noclick="true"
					/>

				</panel>
				<instance name="tip_mark" tip_id="{tip_id}" width="2.0h" height="2.0h" valign="center" align="right" />
			</panel>
		</panel>
	</template>

	<template name="mapedit_property_combobox">
		<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
			<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="{label}" />
			<panel x="-0.8h" width="22.0h" height="-0.6h" align="right" valign="center" noclick="true">
				<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />
				<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
					<combobox
						width="100%"
						height="2h"
						valign="center"
						color="invisible"
						itemwidth="100%"
						itemheight="2h"
						maxlistheight="8"
						exteriorscrollbars="false"
						scrolltexture="/ui/info/combobox.tga"
						handleheight="100@" handlewidth="100%"
						scrollbarsize="2h"
						scrollbaroffset="0"
						highlight="under"
						highlightbordercolor="white"
						watch="{watch=}"
						ontrigger="{ontrigger=}"
						watch0="{watch0=}"
						ontrigger0="{ontrigger0=}"
						onselect="{onselect=}"
						onshow="{onshow=}"
						onload="{onload=}"
						onclick="bringtofront();"
					>
						<instance name="Noptions_combobox_state" state="up" color="1 1 1 1" image="up"/>
						<instance name="Noptions_combobox_state" state="over" color="#69ccff" image="over"/>
						<instance name="Noptions_combobox_state" state="down" color="#69ccff" image="over"/>
						<widgetstate statename="listbg">
							<frame height="+2.7h" y="-1.9h" texture="/ui/info/combobox_dropdown.tga" borderthickness="3h" color="1 1 1 1" />
						</widgetstate>
						<widgetstate statename="itembg">
							<panel width="100%" />
						</widgetstate>
						<widgetstate statename="itemhighlight">
							<panel width="100%" texture="/ui/info/header_bar_c.tga" color="1 1 1 1">
								<panel width="100%" height="100%" >
									<image height="50%" width="32" align="left" valign="top" color="1 1 1 1" texture="/ui/info/header_bar_tl.tga" noclick="1"/>
									<image height="50%" width="32" align="left" valign="bottom" color="1 1 1 1" texture="/ui/info/header_bar_bl.tga" noclick="1"/>
									<image height="50%" width="32" align="right" valign="top" color="1 1 1 1" texture="/ui/info/header_bar_tr.tga" noclick="1"/>
									<image height="50%" width="32" align="right" valign="bottom" color="1 1 1 1" texture="/ui/info/header_bar_br.tga" noclick="1"/>
								</panel>
							</panel>
						</widgetstate>
						<listitem x="0.3h" font="dyn_8" color="1 1 1 1" textvalign="center" />
					</combobox>
				</panel>
				<instance name="tip_mark" tip_id="{tip_id}" width="2.0h" height="2.0h" valign="center" align="right" />
			</panel>
		</panel>
	</template>
	
	<template name="mapedit_property_combobox_dirlist">
		<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
			<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="{label}" />
			<panel x="-0.8h" width="22.0h" height="-0.6h" align="right" valign="center" noclick="true">
				<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />
				<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
					<combobox
						width="100%"
						height="2h"
						valign="center"
						color="invisible"
						itemwidth="100%"
						itemheight="2h"
						maxlistheight="8"
						exteriorscrollbars="false"
						scrolltexture="/ui/info/combobox.tga"
						handleheight="100@" handlewidth="100%"
						scrollbarsize="2h"
						scrollbaroffset="0"
						highlight="under"
						highlightbordercolor="white"
						watch="{watch}"
						ontrigger="{ontrigger}"
						watch0="{watch0}"
						ontrigger0="{ontrigger0}"
						onselect="{onselect}"
						onshow="{onshow}"
						onload="{onload}"
						onclick="bringtofront();"
					>
						<instance name="Noptions_combobox_state" state="up" color="1 1 1 1" image="up"/>
						<instance name="Noptions_combobox_state" state="over" color="#69ccff" image="over"/>
						<instance name="Noptions_combobox_state" state="down" color="#69ccff" image="over"/>
						<widgetstate statename="listbg">
							<frame height="+2.7h" y="-1.9h" texture="/ui/info/combobox_dropdown.tga" borderthickness="3h" color="1 1 1 1" />
						</widgetstate>
						<widgetstate statename="itembg">
							<panel width="100%" />
						</widgetstate>
						<widgetstate statename="itemhighlight">
							<panel width="100%" texture="/ui/info/header_bar_c.tga" color="1 1 1 1">
								<panel width="100%" height="100%" >
									<image height="50%" width="32" align="left" valign="top" color="1 1 1 1" texture="/ui/info/header_bar_tl.tga" noclick="1"/>
									<image height="50%" width="32" align="left" valign="bottom" color="1 1 1 1" texture="/ui/info/header_bar_bl.tga" noclick="1"/>
									<image height="50%" width="32" align="right" valign="top" color="1 1 1 1" texture="/ui/info/header_bar_tr.tga" noclick="1"/>
									<image height="50%" width="32" align="right" valign="bottom" color="1 1 1 1" texture="/ui/info/header_bar_br.tga" noclick="1"/>
								</panel>
							</panel>
						</widgetstate>
					</combobox>
				</panel>
				<instance name="tip_mark" tip_id="{tip_id}" width="2.0h" height="2.0h" valign="center" align="right" />
			</panel>
		</panel>
	</template>

	<template name="mapedit_property_script_field">
		<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
			<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="{label}" />
			<panel x="-0.8h" width="22.0h" height="-0.6h" align="right" valign="center" noclick="true">
				<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />
				<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
					<button
						height="2.0h"
						width="{width=14.0h}"
						valign="center"
						align="right"
						color="invisible"
						onmouseover="PlaySound('/shared/sounds/ui/ccpanel/button_over_02.wav'); PlaySound('/shared/sounds/ui/ccpanel/button_over_01.wav');"
						onclick="PlaySound('{sound=/shared/sounds/ui/ccpanel/button_click_02.wav}'); Set('le_globalScript',{global}); Set('le_currentScript','{script}'); ShowWidget('script_editor_back');"
					>
						<widgetstate statename="up">
							<frame texture="/ui/info/button.tga" borderthickness="{borderthickness=0.8h}" color="1 1 1 1"/>
							<label width="100%" height="100%" textvalign="center" textalign="center" valign="center" align="center" font="{font=dyn_9}" color="{color=white}" shadow="true" shadowcolor="black">mapedit_scripts_edit</label>
						</widgetstate>

						<widgetstate statename="over">
							<frame texture="/ui/info/button_over.tga" borderthickness="{borderthickness=0.8h}" />
							<label width="100%" height="100%" textvalign="center" textalign="center" valign="center" align="center" font="{font=dyn_9}" color="{color=white}" shadow="true" shadowcolor="#7F6E00">mapedit_scripts_edit</label>
						</widgetstate>

						<widgetstate statename="down" x="1" y="1">
							<frame texture="/ui/info/button_down.tga" borderthickness="{borderthickness=0.8h}" color="white"/>
							<label width="100%" height="100%" textvalign="center" textalign="center" valign="center" align="center" font="{font=dyn_9}" color="#3f0001" shadow="true" shadowcolor="#7F6E00">mapedit_scripts_edit</label>
						</widgetstate>
						<widgetstate statename="disabled">
							<frame texture="/ui/info/button.tga" borderthickness="{borderthickness=0.8h}" color="1 1 1 1"/>
							<frame texture="/ui/frames/rounded_button_bg_white.tga" borderthickness="{borderthickness=0.8h}" color=".3 .3 .3 .7"/>
							<label width="100%" height="100%" textvalign="center" textalign="center" valign="center" align="center" font="{font=dyn_9}" color="#494c5f" shadow="true" shadowcolor="black">mapedit_scripts_edit</label>
						</widgetstate>
					</button>
				</panel>
				<instance name="tip_mark" tip_id="{tip_id}" width="2.0h" height="2.0h" valign="center" align="right" />
			</panel>
		</panel>
	</template>

	<template name="mapedit_seperator">
		<panel width="100%" height="1.6h" noclick="true">
			<panel width="-2.0h" height="1.6h" align="center" noclick="true">
				<panel y="1" width="100%" height="1" align="center" valign="center" color="0 0 0 1" noclick="true" />
				<panel y="2" width="100%" height="1" align="center" valign="center" color="#1f2d43" noclick="true" />
			</panel>
		</panel>
	</template>

<!-- OLD TAKEN FROM HERE -->



<!-- / OLD TAKEN FROM HERE -->


<!-- Mouse Off Menu Closer -->
<panel
	name="offclick_catcher"
	onshow="
		GroupCall('le_sysbar_pin_buttons', 'SetButtonState(0);');
	"
	onmouseover="
		HideWidget('offclick_catcher');
		Trigger('ShowHidePanelToggle', '', 'EditorSysBarGroup');
	"
	visible="false"
/>

<panel name="editor_workspace" noclick="true">

	<!-- Main Menu -->
	<panel grow="true" regrow="true" growinvis="false" x="1.0h" y="4.0h" width="6.3h" align="left" valign="top" cangrab="true" onclick="bringtofront();">
		<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .85" noclick="true"/>
		<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />

		<panel grow="true" regrow="true" growinvis="false" y="0.5h" width="100%" float="bottom" noclick="true">
			<panel width="100%" height="2.0h" noclick="true">
				<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
				<label x="0.5h" height="100%" textvalign="center" font="dyn_9" color="white" shadow="true"  content="mapedit_tools" noclick="true" />
					<panel x="-0.3h" width="1.5h" height="1.5h" valign="center" align="right" color="invisible">
						<instance name="btn_collapse" id="mainmenu_collpase" group="main_menu" onclick="HideWidget('menu_container'); ShowOnly('mainmenu_expand');" tip_id="gen_collapse_tip" />
						<instance name="btn_expand" id="mainmenu_expand" group="main_menu" onclick="ShowWidget('menu_container'); ShowOnly('mainmenu_collpase');" tip_id="gen_expand_tip" visible="false" />
					</panel>
				</frame>
			</panel>
			<panel width="100%" height="0.5h" noclick="true" />
			<panel name="menu_container" grow="true" width="100%">
				<panel grow="true" width="5.3h" align="center" float="bottom" padding="0" noclick="true" visible="true">
					<instance name="menu_button" tip_id="menu_deform_tip" icon="deform" label="mapedit_deform" tool="deform" toolset="toolset_deform" current="false"/>
					<instance name="menu_button" tip_id="menu_textures_tip" icon="textures" label="mapedit_paint" tool="paint" toolset="toolset_paint" current="false" />
					<instance name="menu_button" tip_id="menu_entities_tip" icon="entities" label="mapedit_entity" tool="entity" toolset="toolset_entity" current="false" />
					<!--<instance name="menu_button" tip_id="menu_lights_tip" icon="lights" label="mapedit_lights" tool="light" toolset="toolset_light" current="false" /> -->
					<instance name="menu_button" tip_id="menu_foliage_tip" icon="foliage" label="mapedit_foliage" tool="foliage" toolset="toolset_foliage" current="false" />
					<!--<instance name="menu_button" tip_id="menu_occluder_tip" icon="occluders" label="mapedit_occluder" tool="occluder" toolset="toolset_occluder" current="false" />-->
					<instance name="menu_button" tip_id="menu_sounds_tip" icon="sounds" label="mapedit_sound" tool="sound" toolset="toolset_sound" current="false" />
					<instance name="menu_button" tip_id="menu_blockers_tip" icon="blockers" label="mapedit_blocker" tool="blocker" toolset="toolset_blocker" current="false" />
					<instance name="menu_button" tip_id="menu_cliffs_tip" icon="cliffs" label="mapedit_cliff" tool="cliff" toolset="toolset_cliff" current="false" />
					<!--<instance name="menu_button" tip_id="menu_spawns_tip" icon="deform" label="mapedit_spawns" tool="spawns" toolset="toolset_cliff" current="false" />-->
					<!-- Moving Tool: tool="visblocker" -->
				</panel>
			</panel>
		</panel>
	</panel>
	<!-- / Main Menu -->

	<!-- Tool Sets -->
	<panel name="tools_container" grow="true" regrow="true" growinvis="false" x="8.0h" y="4.0h" height="3.4h" valign="top" cangrab="true" onclick="bringtofront();"
		onload="
			CreateFloat(name # '_locX', 0);
			CreateFloat(name # '_locY', 0);
		"
		onevent0="
			Set(name # '_locX', GetAbsoluteX());
			Set(name # '_locY', GetAbsoluteY());
		"
		onevent1="
			SetAbsoluteX(*(name # '_locX'));
			SetAbsoluteY(*(name # '_locY'));
		"
	>

		<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".15 .15 .15 .85" noclick="true"/>
		<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />
		<frame x="0.6h" width="1.8h" height="100%" texture="frames/square_bg_h_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true" />

		<!-- Toolset: Deform -->
		<panel name="toolset_deform" group="toolsets" sticky="true" stickytoinvis="false" x="3.2h" grow="true" regrow="true" height="100%" float="right" padding="0.5h" growinvis="false" noclick="true" visible="true">

			<!-- Tool Buttons -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<instance name="tool_btns_deform"/>
			</panel>

			<!-- Brush Size -->
			<panel
				name="deform_brushsize"
				group="deform_brushoptions"
				grow="true"
				float="right"
				height="100%"
				noclick="true"
				visible="true"
			>
				<instance name="tools_pre_seperator" />

				<!-- Brush Selector -->
				<panel grow="true" height="100%" valign="center" float="right" padding="0.5h" noclick="true">

					<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="mapedit_brush" />

					<panel height="100%" width="2.6h" valign="center">
						<combobox width="2.6h" height="2.6h" valign="center"
							listwidth="10.4h" maxlistheight="8" itemwidth="2.6h" itemheight="2.6h" wrap="column"
							watch="BrushImage"
							ontrigger="SetSelectedItemByValue(GetCurrentBrush(), false);"
							onselect="SetBrush(this);"
						>
							<brushlistitems />
						</combobox>
						<frame width="2.6h" height="2.6h" valign="center" borderthickness="2" color="invisible" bordercolor="1 1 1 .2" noclick="true" />
						<frame width="2.6h" height="2.6h" valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
					</panel>
				</panel>

				<panel height="100%" width="0.1h" noclick="true"/>
			</panel>

			<!-- Brush STR -->
			<panel
				name="deform_brushstr"
				group="deform_brushoptions"
				grow="true"
				float="right"
				height="100%"
				noclick="true"
				visible="true"
			>
				<instance name="tools_pre_seperator" />
				<instance name="tool_option_brushstr" slider_name="deform_brushstrength_slider" slider_cvar="le_deformBrushStrength" minvalue="1" maxvalue="255"/>
			</panel>

			<!-- Cut Options -->
			<panel
				name="deform_cutoptions"
				group="deform_advancedoptions"
				grow="true"
				float="right"
				height="100%"
				noclick="true"
				visible="false"
			>
				<instance name="tools_pre_seperator" />
				<panel grow="true" height="100%" valign="center" float="right" padding="0.5h" noclick="true">
					<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="mapedit_cutheight" />

					<panel height="100%" width="5.0h">

						<panel height="2.6h" valign="center">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 1" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
							<textbox
								width="-0.6h" height="1.5h"
								align="center" valign="center"
								font="dyn_9"
								color=".1 .1 .1 1"
								textcolor="white"
								onenter="Set('le_deformCutHeight',this); SetFocus(false); SetInputLine(FtoA(le_deformCutHeight, 1));"
								onshow="SetInputLine(FtoA(le_deformCutHeight, 1));"
								onesc="SetInputLine(FtoA(le_deformCutHeight, 1));"
							/>
						</panel>
					</panel>

					<panel height="100%" width="2.0h">
						<instance name="tip_mark" tip_id="cut_options_tip" width="2.0h" height="2.0h" valign="center" />
					</panel>
					<panel height="100%" width="0.1h" noclick="true"/>
				</panel>
			</panel>

			<!-- Clear Options -->
			<panel
				name="deform_clearoptions"
				group="deform_advancedoptions"
				grow="true"
				float="right"
				height="100%"
				noclick="true"
				visible="false"
			>
				<instance name="tools_pre_seperator" />
				<panel grow="true" height="100%" valign="center" float="right" padding="0.5h" noclick="true">
					<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="mapedit_clearheight" />

					<panel height="100%" width="5.0h">

						<panel height="2.6h" valign="center">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 1" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
							<textbox
								width="-0.6h" height="1.5h"
								align="center" valign="center"
								font="dyn_9"
								color=".1 .1 .1 1"
								textcolor="white"
								onenter="Set('le_deformClearHeight',this); SetFocus(false); SetInputLine(FtoA(le_deformClearHeight, 1));"
								onshow="SetInputLine(FtoA(le_deformClearHeight, 1));"
								onesc="SetInputLine(FtoA(le_deformClearHeight, 1));"
							/>
						</panel>
					</panel>

					<panel height="100%" width="2.0h">
						<instance name="tip_mark" tip_id="clear_options_tip" width="2.0h" height="2.0h" valign="center" />
					</panel>
					<panel height="100%" width="0.1h" noclick="true"/>
				</panel>
			</panel>

			<!-- Noise Options -->
			<panel
				name="deform_noiseoptions"
				group="deform_advancedoptions"
				grow="true"
				float="right"
				height="100%"
				noclick="true"
				visible="false"
			>
				<instance name="tools_pre_seperator" />
				<panel grow="true" height="100%" valign="center" float="right" padding="0.5h" noclick="true">
					<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="mapedit_noiseoctave" />

					<panel height="100%" width="5.0h">

						<panel height="2.6h" valign="center">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 1" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
							<textbox
								width="-0.6h" height="1.5h"
								align="center" valign="center"
								font="dyn_9"
								color=".1 .1 .1 1"
								textcolor="white"
								onenter="Set('le_deformNoiseOctave',this); SetFocus(false); SetInputLine(FtoA(le_deformNoiseOctave, 1));"
								onshow="SetInputLine(FtoA(le_deformNoiseOctave, 1));"
								onesc="SetInputLine(FtoA(le_deformNoiseOctave, 1));"
							/>
						</panel>
					</panel>

					<panel height="100%" width="2.0h">
						<instance name="tip_mark" tip_id="noise_options_tip" width="2.0h" height="2.0h" valign="center" />
					</panel>
					<panel height="100%" width="0.1h" noclick="true"/>
				</panel>
			</panel>

			<!-- Stamp Options -->
			<panel
				name="deform_stampoptions"
				group="deform_advancedoptions"
				grow="true"
				float="right"
				height="100%"
				noclick="true"
				visible="false"
			>
				<instance name="tools_pre_seperator" />
				<panel grow="true" height="100%" valign="center" float="right" padding="0.5h" noclick="true">
					<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="mapedit_harmonics" />

					<panel height="100%" width="5.0h">

						<panel height="2.6h" valign="center">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 1" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
							<textbox
								width="-0.6h" height="1.5h"
								align="center" valign="center"
								font="dyn_9"
								color=".1 .1 .1 1"
								textcolor="white"
								onenter="Set('le_deformHarmonics',this); SetFocus(false); SetInputLine(le_deformHarmonics);"
								onshow="SetInputLine(le_deformHarmonics);"
								onesc="SetInputLine(le_deformHarmonics);"
							/>
						</panel>
					</panel>

					<panel height="100%" width="2.0h">
						<instance name="tip_mark" tip_id="harmonics_options_tip" width="2.0h" height="2.0h" valign="center" />
					</panel>
					<panel height="100%" width="0.1h" noclick="true"/>
				</panel>
			</panel>


		</panel>
		<!-- / Toolset: Deform -->

		<!-- Toolset: Texture -->
		<panel name="toolset_paint" group="toolsets" sticky="true" stickytoinvis="false" x="3.2h" grow="true" regrow="true" height="100%" float="right" padding="0.5h" growinvis="false" noclick="true" visible="false">

			<!-- Tool Buttons -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<instance name="tool_btns_texture"/>
			</panel>

			<!-- Brush Size -->
			<panel
				name="texture_brushsize"
				group="texture_brushoptions"
				grow="true"
				float="right"
				height="100%"
				noclick="true"
				visible="true"
			>
				<instance name="tools_pre_seperator" />
				<!-- Brush Selector -->
				<panel grow="true" height="100%" valign="center" float="right" padding="0.5h" noclick="true">

					<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="mapedit_brush" />

					<panel height="100%" width="2.6h" valign="center">
						<combobox width="2.6h" height="2.6h" valign="center"
							listwidth="10.4h" maxlistheight="8" itemwidth="2.6h" itemheight="2.6h" wrap="column"
							watch="BrushImage"
							ontrigger="SetSelectedItemByValue(GetCurrentBrush(), false);"
							onselect="SetBrush(this);"
						>
							<brushlistitems />
						</combobox>
						<frame width="2.6h" height="2.6h" valign="center" borderthickness="2" color="invisible" bordercolor="1 1 1 .2" noclick="true" />
						<frame width="2.6h" height="2.6h" valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
					</panel>
				</panel>
				<panel height="100%" width="0.1h" noclick="true"/>
			</panel>

			<!-- Brush STR -->
			<panel
				name="texture_brushstr"
				group="texture_brushoptions"
				grow="true"
				float="right"
				height="100%"
				noclick="true"
				visible="true"
			>
				<instance name="tools_pre_seperator" />
				<instance name="tool_option_brushstr" slider_name="paint_brushstrength_slider" slider_cvar="le_paintBrushStrength" minvalue="1" maxvalue="255"/>
			</panel>

			<!-- Color Swatch -->
			<panel
				name="texture_colorswatch"
				group="texture_advancedoptions"
				grow="true"
				float="right"
				height="100%"
				noclick="true"
				visible="true"
			>
				<instance name="tools_pre_seperator" />
				<panel width="3.0h" height="100%" onmouseover="ShowWidget('colorswatch_tip');" onmouseout="HideWidget('colorswatch_tip');" onclick="HideWidget('colorswatch_tip'); Call('paint_tool_options_color', 'FadeIn(250);');">
					<panel y="-0.5h" width="2.0h" height="2.0h" valign="bottom" align="right" noclick="true">
						<swatch color="#ff0000" redcvar="le_paintR2" greencvar="le_paintG2" bluecvar="le_paintB2" noclick="true" />
						<frame borderthickness="1" bordercolor="0 0 0 1" color="invisible" noclick="true" />
					</panel>
					<panel y="0.5h" width="2.0h" height="2.0h" noclick="true">
						<swatch color="#ff0000" redcvar="le_paintR" greencvar="le_paintG" bluecvar="le_paintB" noclick="true" />
						<frame borderthickness="1" bordercolor="0 0 0 1" color="invisible" noclick="true" />
					</panel>
				</panel>
				<panel height="100%" width="1.0h" noclick="true"/>
			</panel>

			<!-- Texture Options -->
			<panel
				name="texture_layer"
				group="texture_advancedoptions"
				grow="true"
				float="right"
				height="100%"
				noclick="true"
				visible="false"
			>
				<instance name="tools_pre_seperator" />
				
				<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="mapedit_paint_texture" />
				
				<panel width="2.6h" height="100%" onmouseover="ShowWidget('texture_tip');" onmouseout="HideWidget('texture_tip');" onclick="HideWidget('texture_tip'); Call('paint_tool_options_texture', 'FadeIn(250);');">
					<panel width="2.6h" height="2.6h" valign="center" noclick="true">
						<image name="paint_diffusethumbnail" wtexture="$checker" watch="PaintDiffuseTexture" ontrigger="SetTexture(param);" noclick="true" />
						<frame borderthickness="2" color="invisible" bordercolor=".2 .2 .2 1" noclick="true" />
						<frame borderthickness="1" bordercolor="0 0 0 1" color="invisible" noclick="true" />
					</panel>
				</panel>
				<panel height="100%" width="1.0h" noclick="true"/>
				<instance name="tools_pre_seperator" />

				<panel width="17.0h" height="100%" noclick="true">

					<!-- Layer 1 -->
					<panel width="8.0h" height="2.0h" align="left" valign="center" onload="if(le_paintLayer==0, ShowOnly('texture_l1_current'));" onclick="le_paintLayer = 0; ShowOnly('texture_l1_current');">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color=".2 .2 .2 1" noclick="true"/>
						<frame texture="frames/roundframe.tga" color=".3 .3 .3 1" borderthickness="0.3h" noclick="true" />

						<panel name="texture_l1_current" group="textureLayer" visible="false">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color="#006586" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#009fd3" borderthickness="0.3h" noclick="true" />
						</panel>

						<button
							x="0.3h"
							width="1.4h" height="1.4h"
							valign="center"
							visible="true"
							color="invisible"
							numstates="2"
							onclick="PlaySound('/shared/sounds/ui/ccpanel/button_close_02.wav'); If(this, Set('vid_terrainlayer1', 0), Set('vid_terrainlayer1', 1));"
							onmouseover="PlaySound('/shared/sounds/ui/ccpanel/button_over_01.wav');"
						>
							<widgetstate statename="up">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
								<image width="100@" height="100%" align="center" valign="center" texture="elements/eye.tga" noclick="true" />
							</widgetstate>
							<widgetstate statename="over">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
								<image width="100@" height="100%" align="center" valign="center" texture="elements/eye.tga" noclick="true" />
							</widgetstate>
							<widgetstate statename="down">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
								<image width="100@" height="100%" align="center" valign="center" texture="elements/eye.tga" noclick="true" />
							</widgetstate>
							<widgetstate statename="up2">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
							</widgetstate>
							<widgetstate statename="over2">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
							</widgetstate>
							<widgetstate statename="down2">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
							</widgetstate>
						</button>
						<label x="2.2h" height="100%" textvalign="center" font="dyn_9" color="1 1 1 .9" shadow="true" noclick="true" content="mapedit_texture_layer1" />
					</panel>

					<!-- Layer 2 -->
					<panel width="8.0h" height="2.0h" align="right" valign="center" onload="if(le_paintLayer==1, ShowOnly('texture_l2_current'));" onclick="le_paintLayer = 1; ShowOnly('texture_l2_current');">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color=".2 .2 .2 1" noclick="true"/>
						<frame texture="frames/roundframe.tga" color=".3 .3 .3 1" borderthickness="0.3h" noclick="true" />

						<panel name="texture_l2_current" group="textureLayer" visible="false">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color="#006586" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#009fd3" borderthickness="0.3h" noclick="true" />
						</panel>

						<button
							x="0.3h"
							width="1.4h" height="1.4h"
							valign="center"
							visible="true"
							color="invisible"
							numstates="2"
							onclick="PlaySound('/shared/sounds/ui/ccpanel/button_close_02.wav'); If(this, Set('vid_terrainlayer2', 0), Set('vid_terrainlayer2', 1));"
							onmouseover="PlaySound('/shared/sounds/ui/ccpanel/button_over_01.wav');"
						>
							<widgetstate statename="up">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
								<image width="100@" height="100%" align="center" valign="center" texture="elements/eye.tga" noclick="true" />
							</widgetstate>
							<widgetstate statename="over">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
								<image width="100@" height="100%" align="center" valign="center" texture="elements/eye.tga" noclick="true" />
							</widgetstate>
							<widgetstate statename="down">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
								<image width="100@" height="100%" align="center" valign="center" texture="elements/eye.tga" noclick="true" />
							</widgetstate>
							<widgetstate statename="up2">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
							</widgetstate>
							<widgetstate statename="over2">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
							</widgetstate>
							<widgetstate statename="down2">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
							</widgetstate>
						</button>
						<label x="2.2h" height="100%" textvalign="center" font="dyn_9" color="1 1 1 .9" shadow="true" noclick="true" content="mapedit_texture_layer2" />
					</panel>

				</panel>

				<panel height="100%" width="0.5h" noclick="true"/>

				<panel height="100%" width="2.0h" noclick="true">
					<instance name="tip_mark" tip_id="texture_layer_tip" width="2.0h" height="2.0h" valign="center" align="right" />
				</panel>

				<panel height="100%" width="1.0h" noclick="true"/>

			</panel>


		</panel>
		<!-- / Toolset: Textures -->

		<!-- Toolset: Entities -->
		<panel name="toolset_entity" group="toolsets" sticky="true" stickytoinvis="false" x="3.2h" grow="true" regrow="true" height="100%" float="right" padding="0.5h" growinvis="false" noclick="true" visible="false">

			<!-- Mode -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<panel grow="true" height="2.6h" valign="center" float="right" padding="0.5h" noclick="true">
					<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="mapedit_entity_mode" />					
					<instance name="tool_button" onclick="DisableTreemode(); ClearSelection(); ShowOnly('entity_mode_model'); ShowOnly('entity_treemode_false'); HideWidget('entity_properties_tree');" texture="entity_model.tga" tip_id="entity_modelmode" is_secondary="true" secondary_name="entity_treemode_false" secondary_group="entity_treemode" secondary_onload="if(le_treeMode==0, ShowOnly('entity_treemode_false'));" />
					<instance name="tool_button" onclick="EnableTreemode(); ClearSelection(); ShowOnly('entity_mode_tree'); ShowOnly('entity_treemode_true'); ShowWidget('entity_properties_tree');" texture="entity_treemode.tga" tip_id="entity_treemode"  is_secondary="true" secondary_name="entity_treemode_true" secondary_group="entity_treemode" secondary_onload="if(le_treeMode==1, ShowOnly('entity_treemode_true'));"/>
					<panel height="100%" width="2.0h">
						<instance name="tip_mark" tip_id="entitymode_tip" width="2.0h" height="2.0h" valign="center" />
					</panel>
					<panel height="100%" width="0.1h" noclick="true"/>
				</panel>
			</panel>

			<instance name="tools_pre_seperator" />
			
			<!-- ModelMode Tool Buttons -->
			<panel
				name="entity_mode_model"
				group="zippy"
				grow="true"
				height="100%"
				noclick="true"
				visible="false"
				onload="SetVisible(le_treeMode==0);"
			>
				<instance name="tool_btns_entities"/>
			</panel>
			
			<!-- TreeMode Tool Buttons -->
			<panel
				name="entity_mode_tree"
				group="zippy"
				grow="true"
				height="100%"
				noclick="true"
				visible="false"
				onload="SetVisible(le_treeMode==1);"
			>
				<instance name="tool_btns_treemode"/>
			</panel>

			<!-- Snap -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<panel grow="true" height="100%" float="right" noclick="true">
					<panel grow="true" height="2.4h" align="left" valign="center" onmouseover="ShowWidget('snap_tip');" onmouseout="HideWidget('snap_tip');" onclick="toggle('le_entitySnap'); toggleWidget('entity_snap_on'); HideWidget('snap_tip');">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color=".2 .2 .2 1" noclick="true"/>
						<frame texture="frames/roundframe.tga" color=".3 .3 .3 1" borderthickness="0.3h" noclick="true" />

						<panel name="entity_snap_on" visible="true" noclick="true" onload="SetVisible(le_entitySnap);">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color="#006586" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#009fd3" borderthickness="0.3h" noclick="true" />
						</panel>

						<panel x="0.3h" width="1.8h" height="1.8h" valign="center" visible="true" noclick="true">
							<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".2 .2 .2 1" blockinput="false" noclick="true"/>
							<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
							<image width="1.4h" height="1.4h" align="center" valign="center" texture="elements/icons/tools/snap.tga" noclick="true" />
						</panel>
						<label x="2.6h" fitx="true" fitxpadding="0.7h" height="100%" textvalign="center" font="dyn_9" color="1 1 1 .9" shadow="true" noclick="true" content="mapedit_snap" />
					</panel>
					<panel height="2.0h" width="0.5h" noclick="true"/>
				</panel>
			</panel>

			<!-- Selection Lock -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<panel grow="true" height="100%" float="right" noclick="true">
					<panel grow="true" height="2.4h" align="left" valign="center" onmouseover="ShowWidget('selection_lock_tip');" onmouseout="HideWidget('selection_lock_tip');" onclick="toggle('le_entitySelectionLock'); toggleWidget('entity_lock_on'); HideWidget('selection_lock_tip');" >
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color=".2 .2 .2 1" noclick="true"/>
						<frame texture="frames/roundframe.tga" color=".3 .3 .3 1" borderthickness="0.3h" noclick="true" />

						<panel name="entity_lock_on" visible="true" noclick="true" onload="SetVisible(le_entitySelectionLock);">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color="#006586" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#009fd3" borderthickness="0.3h" noclick="true" />
						</panel>

						<panel x="0.3h" width="1.8h" height="1.8h" valign="center" visible="true" noclick="true">
							<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".2 .2 .2 1" blockinput="false" noclick="true"/>
							<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
							<image width="1.3h" height="1.3h" align="center" valign="center" texture="elements/icons/tools/lock.tga" noclick="true" />
						</panel>
						<label x="2.6h" fitx="true" fitxpadding="0.7h" height="100%" textvalign="center" font="dyn_9" color="1 1 1 .9" shadow="true" noclick="true" content="mapedit_lock" />
					</panel>
					<panel height="2.0h" width="0.5h" noclick="true"/>
				</panel>
			</panel>

			<instance name="tools_pre_seperator" />

			<!-- Center Mode -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<panel grow="true" height="2.6h" valign="center" float="right" padding="0.5h" noclick="true">
					<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="mapedit_centermode" />
					<instance name="tool_button" onclick="SetEntityCenterMode('average'); ShowOnly('entity_center_avg');" texture="entity_group.tga" tip_id="cm_avg_tip" is_secondary="true" secondary_name="entity_center_avg" secondary_group="entity_center_mode" secondary_onload="if(le_entityCenterMode==0, ShowOnly('entity_center_avg'));"/>
					<instance name="tool_button" onclick="SetEntityCenterMode('individual'); ShowOnly('entity_center_indiv');" texture="entity_local.tga" tip_id="cm_indiv_tip" is_secondary="true" secondary_name="entity_center_indiv" secondary_group="entity_center_mode" secondary_onload="if(le_entityCenterMode==1, ShowOnly('entity_center_indiv'));" />
					<instance name="tool_button" onclick="SetEntityCenterMode('hover'); ShowOnly('entity_center_hover');" texture="entity_hover.tga" tip_id="cm_hover_tip" is_secondary="true" secondary_name="entity_center_hover" secondary_group="entity_center_mode" secondary_onload="if(le_entityCenterMode==2, ShowOnly('entity_center_hover'));" />					
					<panel height="100%" width="2.0h">
						<instance name="tip_mark" tip_id="centermode_tip" width="2.0h" height="2.0h" valign="center" />
					</panel>
					<panel height="100%" width="0.1h" noclick="true"/>					
				</panel>
			</panel>

			<instance name="tools_pre_seperator" />

			<!-- Current Selection Controls -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<panel grow="true" height="2.6h" valign="center" float="right" padding="0.5h" noclick="true">
					<instance name="tool_button" onclick="EntityGround();" texture="entity_ground.tga" tip_id="entity_ground" />
					<instance name="tool_button" onclick="EntityStraighten();" texture="straighten.tga" tip_id="entity_straighten" />
					<instance name="tool_button" onclick="EntityResetScale();" texture="entity_resetscale.tga" tip_id="entity_resetscale" />
					<instance name="tool_button" onclick="SelectByModel(GetSelectionModel());" texture="entity_selectbymodel.tga" tip_id="entity_selectbymodel" />
					<panel height="100%" width="0.1h" noclick="true"/>
				</panel>
			</panel>

		</panel>
		<!-- / Toolset: Entities -->

		<!-- Toolset: Lights -->
		<panel name="toolset_light" group="toolsets" sticky="true" stickytoinvis="false" x="3.2h" grow="true" regrow="true" height="100%" float="right" padding="0.5h" growinvis="false" noclick="true" visible="false">

			<!-- Tool Buttons -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<instance name="tool_btns_lights"/>
			</panel>

			<!-- Snap  -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<panel grow="true" height="100%" float="right" noclick="true">
					<panel grow="true" height="2.4h" align="left" valign="center" onmouseover="ShowWidget('snap_tip');" onmouseout="HideWidget('snap_tip');" onclick="toggle('le_lightSnap'); toggleWidget('light_snap_on'); HideWidget('snap_tip');">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color=".2 .2 .2 1" noclick="true"/>
						<frame texture="frames/roundframe.tga" color=".3 .3 .3 1" borderthickness="0.3h" noclick="true" />

						<panel name="light_snap_on" visible="true" noclick="true" onload="SetVisible(le_lightSnap);">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color="#006586" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#009fd3" borderthickness="0.3h" noclick="true" />
						</panel>

						<panel x="0.3h" width="1.8h" height="1.8h" valign="center" visible="true" noclick="true">
							<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".2 .2 .2 1" blockinput="false" noclick="true"/>
							<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
							<image width="1.4h" height="1.4h" align="center" valign="center" texture="elements/icons/tools/snap.tga" noclick="true" />
						</panel>
						<label x="2.6h" fitx="true" fitxpadding="0.7h" height="100%" textvalign="center" font="dyn_9" color="1 1 1 .9" shadow="true" noclick="true" content="mapedit_snap" />
					</panel>
					<panel height="2.0h" width="0.5h" noclick="true"/>
				</panel>
			</panel>

			<instance name="tools_pre_seperator" />

			<!-- Center Mode -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<panel grow="true" height="2.6h" valign="center" float="right" padding="0.5h" noclick="true">
					<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="mapedit_centermode" />
					<instance name="tool_button" onclick="LightCenterMode('average');" texture="entity_group.tga" tip_id="cm_avg_tip" />
					<instance name="tool_button" onclick="LightCenterMode('individual');" texture="entity_local.tga" tip_id="cm_indiv_tip" />
					<instance name="tool_button" onclick="LightCenterMode('hover');" texture="entity_hover.tga" tip_id="cm_hover_tip" />
					<panel height="100%" width="2.0h">
						<instance name="tip_mark" tip_id="centermode_tip" width="2.0h" height="2.0h" valign="center" />
					</panel>
					<panel height="100%" width="0.1h" noclick="true"/>
				</panel>
			</panel>

		</panel>
		<!-- / Toolset: Lights -->

		<!-- Toolset: Foliage -->
		<panel name="toolset_foliage" group="toolsets" sticky="true" stickytoinvis="false" x="3.2h" grow="true" regrow="true" height="100%" float="right" padding="0.5h" growinvis="false" noclick="true" visible="false">

			<!-- Tool Buttons -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<instance name="tool_btns_foliage"/>
			</panel>

			<!-- Brush Size -->
			<panel
				name="foliage_brushsize"
				group="foliage_brushoptions"
				grow="true"
				float="right"
				height="100%"
				noclick="true"
				visible="true"
			>
				<instance name="tools_pre_seperator" />
				<!-- Brush Selector -->
				<panel grow="true" height="100%" valign="center" float="right" padding="0.5h" noclick="true">

					<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="mapedit_brush" />

					<panel height="100%" width="2.6h" valign="center">
						<combobox width="2.6h" height="2.6h" valign="center"
							listwidth="10.4h" maxlistheight="8" itemwidth="2.6h" itemheight="2.6h" wrap="column"
							watch="BrushImage"
							ontrigger="SetSelectedItemByValue(GetCurrentBrush(), false);"
							onselect="SetBrush(this);"
						>
							<brushlistitems />
						</combobox>
						<frame width="2.6h" height="2.6h" valign="center" borderthickness="2" color="invisible" bordercolor="1 1 1 .2" noclick="true" />
						<frame width="2.6h" height="2.6h" valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
					</panel>
				</panel>
				<panel height="100%" width="0.1h" noclick="true"/>
			</panel>

			<!-- Brush STR -->
			<panel
				name="foliage_brushstr"
				group="foliage_brushoptions"
				grow="true"
				float="right"
				height="100%"
				noclick="true"
				visible="true"
			>
				<instance name="tools_pre_seperator" />
				<instance name="tool_option_brushstr" slider_name="foliage_brushstrength_slider" slider_cvar="le_foliageBrushStrength" minvalue="1" maxvalue="255"/>
			</panel>

			<!-- Foliage Layer -->
			<panel
				name="foliage_texturelayers"
				group="foliage_advancedoptions"
				grow="true"
				float="right"
				height="100%"
				noclick="true"
				visible="true"
			>
				<instance name="tools_pre_seperator" />
				<panel width="17.0h" height="100%" noclick="true">

					<!-- Layer 1 -->
					<panel width="8.0h" height="2.0h" align="left" valign="center" onload="if(le_foliageLayer==0, ShowOnly('foliage_l1_current'));" onclick="le_foliageLayer = 0; ShowOnly('foliage_l1_current');">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color=".2 .2 .2 1" noclick="true"/>
						<frame texture="frames/roundframe.tga" color=".3 .3 .3 1" borderthickness="0.3h" noclick="true" />

						<panel name="foliage_l1_current" group="foliageLayer" visible="false">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color="#006586" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#009fd3" borderthickness="0.3h" noclick="true" />
						</panel>

						<button
							x="0.3h"
							width="1.4h" height="1.4h"
							valign="center"
							visible="true"
							color="invisible"
							numstates="2"
							onclick="PlaySound('/shared/sounds/ui/ccpanel/button_close_02.wav'); If(this, Set('vid_foliagelayer1', 0), Set('vid_foliagelayer1', 1));"
							onmouseover="PlaySound('/shared/sounds/ui/ccpanel/button_over_01.wav');"
						>
							<widgetstate statename="up">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
								<image width="100@" height="100%" align="center" valign="center" texture="elements/eye.tga" noclick="true" />
							</widgetstate>
							<widgetstate statename="over">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
								<image width="100@" height="100%" align="center" valign="center" texture="elements/eye.tga" noclick="true" />
							</widgetstate>
							<widgetstate statename="down">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
								<image width="100@" height="100%" align="center" valign="center" texture="elements/eye.tga" noclick="true" />
							</widgetstate>
							<widgetstate statename="up2">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
							</widgetstate>
							<widgetstate statename="over2">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
							</widgetstate>
							<widgetstate statename="down2">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
							</widgetstate>
						</button>
						<label x="2.2h" height="100%" textvalign="center" font="dyn_9" color="1 1 1 .9" shadow="true" noclick="true" content="mapedit_texture_layer1" />
					</panel>

					<!-- Layer 2 -->
					<panel width="8.0h" height="2.0h" align="right" valign="center" onload="if(le_foliageLayer==1, ShowOnly('foliage_l2_current'));" onclick="le_foliageLayer = 1; ShowOnly('foliage_l2_current');">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color=".2 .2 .2 1" noclick="true"/>
						<frame texture="frames/roundframe.tga" color=".3 .3 .3 1" borderthickness="0.3h" noclick="true" />

						<panel name="foliage_l2_current" group="foliageLayer" visible="false">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color="#006586" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#009fd3" borderthickness="0.3h" noclick="true" />
						</panel>

						<button
							x="0.3h"
							width="1.4h" height="1.4h"
							valign="center"
							visible="true"
							color="invisible"
							numstates="2"
							onclick="PlaySound('/shared/sounds/ui/ccpanel/button_close_02.wav'); If(this, Set('vid_foliagelayer2', 0), Set('vid_foliagelayer2', 1));"
							onmouseover="PlaySound('/shared/sounds/ui/ccpanel/button_over_01.wav');"
						>
							<widgetstate statename="up">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
								<image width="100@" height="100%" align="center" valign="center" texture="elements/eye.tga" noclick="true" />
							</widgetstate>
							<widgetstate statename="over">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
								<image width="100@" height="100%" align="center" valign="center" texture="elements/eye.tga" noclick="true" />
							</widgetstate>
							<widgetstate statename="down">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
								<image width="100@" height="100%" align="center" valign="center" texture="elements/eye.tga" noclick="true" />
							</widgetstate>
							<widgetstate statename="up2">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
							</widgetstate>
							<widgetstate statename="over2">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
							</widgetstate>
							<widgetstate statename="down2">
								<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".7 .7 .7 1" blockinput="false" noclick="true"/>
								<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
							</widgetstate>
						</button>
						<label x="2.2h" height="100%" textvalign="center" font="dyn_9" color="1 1 1 .9" shadow="true" noclick="true" content="mapedit_texture_layer2" />
					</panel>

				</panel>

				<panel height="100%" width="1.0h" noclick="true"/>
			</panel>



		</panel>
		<!-- / Toolset: Foliage -->

		<!-- Toolset: Occluder -->
		<panel name="toolset_occluder" group="toolsets" sticky="true" stickytoinvis="false" x="3.2h" grow="true" regrow="true" height="100%" float="right" padding="0.5h" growinvis="false" noclick="true" visible="false">

			<!-- Tool Buttons -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<instance name="tool_btns_occluders"/>
			</panel>

			<!-- Snap  -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<panel grow="true" height="100%" float="right" noclick="true">
					<panel grow="true" height="2.4h" align="left" valign="center" onmouseover="ShowWidget('snap_tip');" onmouseout="HideWidget('snap_tip');" onclick="toggle('le_occluderSnap'); toggleWidget('occluder_snap_on'); HideWidget('snap_tip');">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color=".2 .2 .2 1" noclick="true"/>
						<frame texture="frames/roundframe.tga" color=".3 .3 .3 1" borderthickness="0.3h" noclick="true" />

						<panel name="occluder_snap_on" visible="true" noclick="true" onload="SetVisible(le_occluderSnap);">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color="#006586" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#009fd3" borderthickness="0.3h" noclick="true" />
						</panel>

						<panel x="0.3h" width="1.8h" height="1.8h" valign="center" visible="true" noclick="true">
							<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".2 .2 .2 1" blockinput="false" noclick="true"/>
							<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
							<image width="1.4h" height="1.4h" align="center" valign="center" texture="elements/icons/tools/snap.tga" noclick="true" />
						</panel>
						<label x="2.6h" fitx="true" fitxpadding="0.7h" height="100%" textvalign="center" font="dyn_9" color="1 1 1 .9" shadow="true" noclick="true" content="mapedit_snap" />
					</panel>
					<panel height="2.0h" width="0.5h" noclick="true"/>
				</panel>
			</panel>

			<instance name="tools_pre_seperator" />

			<!-- Center Mode -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<panel grow="true" height="2.6h" valign="center" float="right" padding="0.5h" noclick="true">
					<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="mapedit_centermode" />
					<instance name="tool_button" onclick="OccluderCenterMode('average');" texture="entity_group.tga" tip_id="cm_avg_tip" />
					<instance name="tool_button" onclick="OccluderCenterMode('individual');" texture="entity_local.tga" tip_id="cm_indiv_tip" />
					<instance name="tool_button" onclick="OccluderCenterMode('hover');" texture="entity_hover.tga" tip_id="cm_hover_tip" />
					<panel height="100%" width="2.0h">
						<instance name="tip_mark" tip_id="centermode_tip" width="2.0h" height="2.0h" valign="center" />
					</panel>
				</panel>
			</panel>

			<instance name="tools_pre_seperator" />

			<!-- Select Type -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<panel grow="true" height="2.6h" valign="center" float="right" padding="0.5h" noclick="true">
					<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="mapedit_occluder_select" />
					<instance name="tool_button" onclick="OccluderSelectMode('face');" texture="occluder_select_face.tga" tip_id="occluderselect_face_tip" />
					<instance name="tool_button" onclick="OccluderSelectMode('vertex');" texture="occluder_select_vertex.tga" tip_id="occluderselect_vertex_tip" />
					<panel height="100%" width="0.1h" noclick="true"/>
				</panel>
			</panel>

			<instance name="tools_pre_seperator" />

			<!-- Split -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<panel grow="true" height="2.6h" valign="center" float="right" padding="0.5h" noclick="true">
					<instance name="tool_button" onclick="OccluderSplit();" texture="occluder_split.tga" tip_id="occludersplit_tip" />
					<panel height="100%" width="2.0h">
						<instance name="tip_mark" tip_id="occluderselect_tip" width="2.0h" height="2.0h" valign="center" />
					</panel>
					<panel height="100%" width="0.1h" noclick="true"/>
				</panel>
			</panel>

		</panel>
		<!-- / Toolset: Occluder -->

		<!-- Toolset: Sounds -->
		<panel name="toolset_sound" group="toolsets" sticky="true" stickytoinvis="false" x="3.2h" grow="true" regrow="true" height="100%" float="right" padding="0.5h" growinvis="false" noclick="true" visible="false">

			<!-- Tool Buttons -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<instance name="tool_btns_sounds"/>
			</panel>

			<!-- Snap  -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<panel grow="true" height="100%" float="right" noclick="true">
					<panel grow="true" height="2.4h" align="left" valign="center" onmouseover="ShowWidget('snap_tip');" onmouseout="HideWidget('snap_tip');" onclick="toggle('le_soundSnap'); toggleWidget('sounds_snap_on'); HideWidget('snap_tip');">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color=".2 .2 .2 1" noclick="true"/>
						<frame texture="frames/roundframe.tga" color=".3 .3 .3 1" borderthickness="0.3h" noclick="true" />

						<panel name="sounds_snap_on" visible="true" noclick="true" onload="SetVisible(le_soundSnap);">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color="#006586" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#009fd3" borderthickness="0.3h" noclick="true" />
						</panel>

						<panel x="0.3h" width="1.8h" height="1.8h" valign="center" visible="true" noclick="true">
							<frame texture="/ui/frames/rounded_bg_white.tga" borderthickness="0.3h" color=".2 .2 .2 1" blockinput="false" noclick="true"/>
							<frame texture="/ui/frames/roundframe.tga" color="0 0 0 1" borderthickness="0.3h" blockinput="false" noclick="true"/>
							<image width="1.4h" height="1.4h" align="center" valign="center" texture="elements/icons/tools/snap.tga" noclick="true" />
						</panel>
						<label x="2.6h" fitx="true" fitxpadding="0.7h" height="100%" textvalign="center" font="dyn_9" color="1 1 1 .9" shadow="true" noclick="true" content="mapedit_snap" />
					</panel>
					<panel height="2.0h" width="0.5h" noclick="true"/>
				</panel>
			</panel>

			<!-- Center Mode - Removed, no rotating or scaling
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<panel grow="true" height="2.6h" valign="center" float="right" padding="0.5h" noclick="true">
					<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="mapedit_centermode" />
					<instance name="tool_button" onclick="SoundCenterMode('average');" texture="entity_group.tga" tip_id="cm_avg_tip" />
					<instance name="tool_button" onclick="SoundCenterMode('individual');" texture="entity_local.tga" tip_id="cm_indiv_tip" />
					<instance name="tool_button" onclick="SoundCenterMode('hover');" texture="entity_hover.tga" tip_id="cm_hover_tip" />
					<panel height="100%" width="2.0h">
						<instance name="tip_mark" tip_id="centermode_tip" width="2.0h" height="2.0h" valign="center" />
					</panel>
				</panel>
			</panel>
			-->

		</panel>
		<!-- / Toolset: Sounds -->

		<!-- Toolset: Blockers -->
		<panel name="toolset_blocker" group="toolsets" sticky="true" stickytoinvis="false" x="3.2h" grow="true" regrow="true" height="100%" float="right" padding="0.5h" growinvis="false" noclick="true" visible="false">

			<!-- Tool Buttons -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<instance name="tool_btns_blockers"/>
			</panel>

			<!-- Brush Size -->
			<panel
				grow="true"
				float="right"
				height="100%"
				noclick="true"
				visible="true"
			>
				<instance name="tools_pre_seperator" />
				<!-- Brush Selector -->
				<panel grow="true" height="100%" valign="center" float="right" padding="0.5h" noclick="true">

					<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="mapedit_brush" />

					<panel height="100%" width="2.6h" valign="center">
						<combobox width="2.6h" height="2.6h" valign="center"
							listwidth="10.4h" maxlistheight="8" itemwidth="2.6h" itemheight="2.6h" wrap="column"
							watch="BrushImage"
							ontrigger="SetSelectedItemByValue(GetCurrentBrush(), false);"
							onselect="SetBrush(this);"
						>
							<brushlistitems />
						</combobox>
						<frame width="2.6h" height="2.6h" valign="center" borderthickness="2" color="invisible" bordercolor="1 1 1 .2" noclick="true" />
						<frame width="2.6h" height="2.6h" valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
					</panel>
				</panel>
				<panel height="100%" width="0.1h" noclick="true"/>
			</panel>

			<panel height="100%" width="1.0h" noclick="true"/>

		</panel>
		<!-- / Toolset: Blockers -->

		<!-- Toolset: Cliffs -->
		<panel name="toolset_cliff" group="toolsets" sticky="true" stickytoinvis="false" x="3.2h" grow="true" regrow="true" height="100%" float="right" padding="0.5h" growinvis="false" noclick="true" visible="false">

			<!-- Tool Buttons -->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<instance name="tool_btns_cliff"/>
			</panel>

			<!-- Random Variation-->
			<panel
				grow="true"
				height="100%"
				noclick="true"
			>
				<panel grow="true" height="100%" float="right" noclick="true">
					<panel grow="true" height="2.4h" align="left" valign="center" onmouseover="ShowWidget('variation_random_tip');" onmouseout="HideWidget('variation_random_tip');" onclick="toggle('le_cliffrandom'); toggleWidget('le_cliffrandom_on'); HideWidget('variation_random_tip'); if(le_cliffrandom, ShowWidget('mapedit_ramp_var_cover'), HideWidget('mapedit_ramp_var_cover'));">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color=".2 .2 .2 1" noclick="true"/>
						<frame texture="frames/roundframe.tga" color=".3 .3 .3 1" borderthickness="0.3h" noclick="true" />

						<panel name="le_cliffrandom_on" visible="true" noclick="true" onload="SetVisible(le_cliffrandom);">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.3h" color="#006586" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#009fd3" borderthickness="0.3h" noclick="true" />
						</panel>

						<label x="0.5h" fitx="true" fitxpadding="0.7h" height="100%" textvalign="center" font="dyn_9" color="1 1 1 .9" shadow="true" noclick="true" content="mapedit_cliff_random_var" />
					</panel>
					<panel height="2.0h" width="0.5h" noclick="true"/>
				</panel>
			</panel>

			<!-- Brush Size -->
			<panel
				name="cliff_brushsize"
				group="cliff_brushoptions"
				grow="true"
				float="right"
				height="100%"
				noclick="true"
				visible="true"
			>
				<instance name="tools_pre_seperator" />
				<!-- Brush Selector -->
				<panel grow="true" height="100%" valign="center" float="right" padding="0.5h" noclick="true">

					<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="mapedit_brush" />

					<panel height="100%" width="2.6h" valign="center">
						<combobox width="2.6h" height="2.6h" valign="center"
							listwidth="10.4h" maxlistheight="8" itemwidth="2.6h" itemheight="2.6h" wrap="column"
							watch="BrushImage"
							ontrigger="SetSelectedItemByValue(GetCurrentBrush(), false);"
							onselect="SetBrush(this);"
						>
							<brushlistitems />
						</combobox>
						<frame width="2.6h" height="2.6h" valign="center" borderthickness="2" color="invisible" bordercolor="1 1 1 .2" noclick="true" />
						<frame width="2.6h" height="2.6h" valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
					</panel>
				</panel>
				<panel height="100%" width="0.1h" noclick="true"/>
			</panel>

			<!-- Cliff Height -->
			<panel
				name="cliff_height"
				group="cliff_advancedoptions"
				grow="true"
				float="right"
				height="100%"
				noclick="true"
				visible="false"
			>
				<instance name="tools_pre_seperator" />
				<panel grow="true" height="100%" valign="center" float="right" padding="0.5h" noclick="true">
					<label fitx="true" fitxpadding="0.5h" height="100%" textvalign="center" font="dyn_9" color=".9 .9 .9 1" shadow="true" noclick="true" content="mapedit_cliff_cliff_height" />

					<panel height="100%" width="4.0h">
						<panel height="2.6h" valign="center">
							<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 1" noclick="true"/>
							<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
							<textbox
								width="-0.6h" height="1.5h"
								align="center" valign="center"
								font="dyn_9"
								color=".1 .1 .1 1"
								textcolor="white"
								onenter="Set('le_cliffClearHeight',this); SetFocus(false); SetInputLine(le_cliffClearHeight);"
								onshow="SetInputLine(le_cliffClearHeight);"
								onesc="SetInputLine(le_cliffClearHeight);"
							/>
						</panel>
					</panel>

					<panel height="100%" width="2.0h">
						<instance name="tip_mark" tip_id="ramp_clear_tip" width="2.0h" height="2.0h" valign="center" />
					</panel>

				</panel>
			</panel>

			<panel height="100%" width="0.1h" noclick="true"/>
		</panel>
		<!-- / Toolset: Cliffs -->

	</panel>
	<!-- /Tool Sets -->

	<!-- Paint Color Picker -->
	<panel name="paint_tool_options_color" grow="true" regrow="true" growinvis="false" width="24.0h" align="center" valign="center" cangrab="true" visible="false" onshow="bringtofront();" onclick="bringtofront();">
		<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .95" noclick="true"/>
		<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />

		<panel height="27.0h" y="0.5h" width="100%" float="bottom" reverse="true" noclick="true">

			<panel width="100%" height="2.4h" noclick="true">
				<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
					<label x="0.5h" height="100%" textvalign="center" font="dyn_10" color="white" shadow="true"  content="mapedit_texture_brushes" noclick="true" />
					<panel x="-0.3h" width="1.5h" height="1.5h" valign="center" align="right" color="invisible">
						<instance name="btn_closewindow" onclick="Call('paint_tool_options_color', 'FadeOut(250);');" tip_id="gen_close_tip" />
					</panel>
				</frame>
			</panel>

			<panel width="100%" height="2.8h" noclick="true">
				<panel width="-2.0h" align="center" noclick="true">
					<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_texture_pricolor" />

					<panel width="5.0h" height="-0.6h" align="right" valign="center" noclick="true">

						<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />

						<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
							<swatch color="#ff0000" redcvar="le_paintR" greencvar="le_paintG" bluecvar="le_paintB" />
							<frame borderthickness="1" bordercolor="0 0 0 1" color="invisible" noclick="true" />
						</panel>

						<instance name="tip_mark" tip_id="paint_pri_color" width="2.0h" height="2.0h" valign="center" align="right" />
					</panel>
				</panel>
			</panel>

			<panel width="100%" height="0.3h" noclick="true" />

			<panel grow="true" width="100%" noclick="true" float="bottom">

				<!-- Red -->
				<panel width="-2.0h" height="2.6h" align="center" noclick="true">
					<label height="100%" textvalign="center" color="1 0 0 1" shadow="true" font="dyn_10" noclick="true" content="mapedit_texture_red" />
					<panel x="-3.6h" width="-10.0h" height="2.2h" valign="center" align="right" noclick="true">
						<instance name="options_slider_bg" />
						<panel width="-2.0h" height="100%" align="center">
							<slider
								slotwidth="-1%" slotheight="0.6h"
								slotcolor="1 1 1 1"
								handlewidth="70@" handleheight="70%"
								handlecolor="1 1 1 1"
								cvar="le_paintR"
								minvalue="0.0"
								maxvalue="1.0"
								texture="/ui/info/slider.tga"
								onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
								onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
							/>
						</panel>
					</panel>
					<panel width="3.4h" height="2.2h" valign="center" align="right" visible="true">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
						<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
						<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="le_paintR" numeric="true" numerictype="float" precision="2"  />
					</panel>
				</panel>

				<!-- Green -->
				<panel width="-2.0h" height="2.6h" align="center" noclick="true">
					<label height="100%" textvalign="center" color="0 1 0 1" shadow="true" font="dyn_10" noclick="true" content="mapedit_texture_green" />
					<panel x="-3.6h" width="-10.0h" height="2.2h" valign="center" align="right" noclick="true">
						<instance name="options_slider_bg" />
						<panel width="-2.0h" height="100%" align="center">
							<slider
								slotwidth="-1%" slotheight="0.6h"
								slotcolor="1 1 1 1"
								handlewidth="70@" handleheight="70%"
								handlecolor="1 1 1 1"
								cvar="le_paintG"
								minvalue="0.0"
								maxvalue="1.0"
								texture="/ui/info/slider.tga"
								onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
								onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
							/>
						</panel>
					</panel>
					<panel width="3.4h" height="2.2h" valign="center" align="right" visible="true">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
						<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
						<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="le_paintG" numeric="true" numerictype="float" precision="2"  />
					</panel>
				</panel>

				<!-- Blue -->
				<panel width="-2.0h" height="2.6h" align="center" noclick="true">
					<label height="100%" textvalign="center" color="#0eb2ff" shadow="true" font="dyn_10" noclick="true" content="mapedit_texture_blue" />
					<panel x="-3.6h" width="-10.0h" height="2.2h" valign="center" align="right" noclick="true">
						<instance name="options_slider_bg" />
						<panel width="-2.0h" height="100%" align="center">
							<slider
								slotwidth="-1%" slotheight="0.6h"
								slotcolor="1 1 1 1"
								handlewidth="70@" handleheight="70%"
								handlecolor="1 1 1 1"
								cvar="le_paintB"
								minvalue="0.0"
								maxvalue="1.0"
								texture="/ui/info/slider.tga"
								onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
								onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
							/>
						</panel>
					</panel>
					<panel width="3.4h" height="2.2h" valign="center" align="right" visible="true">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
						<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
						<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="le_paintB" numeric="true" numerictype="float" precision="2"  />
					</panel>
				</panel>

			</panel>

			<panel height="1.6h" noclick="true">
				<panel y="1" width="-2.0h" height="1" align="center" valign="center" color="0 0 0 1" noclick="true" />
				<panel y="2" width="-2.0h" height="1" align="center" valign="center" color="#1f2d43" noclick="true" />
			</panel>

			<panel width="100%" height="2.8h" noclick="true">
				<panel width="-2.0h" align="center" noclick="true">
					<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_texture_seccolor" />

					<panel width="5.0h" height="-0.6h" align="right" valign="center" noclick="true">

						<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />

						<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
							<swatch color="#ff0000" redcvar="le_paintR2" greencvar="le_paintG2" bluecvar="le_paintB2" />
							<frame borderthickness="1" bordercolor="0 0 0 1" color="invisible" noclick="true" />
						</panel>

						<instance name="tip_mark" tip_id="paint_sec_color" width="2.0h" height="2.0h" valign="center" align="right" />
					</panel>
				</panel>
			</panel>

			<panel width="100%" height="0.3h" noclick="true" />

			<panel grow="true" width="100%" noclick="true" float="bottom">

				<!-- Red -->
				<panel width="-2.0h" height="2.6h" align="center" noclick="true">
					<label height="100%" textvalign="center" color="1 0 0 1" shadow="true" font="dyn_10" noclick="true" content="mapedit_texture_red" />
					<panel x="-3.6h" width="-10.0h" height="2.2h" valign="center" align="right" noclick="true">
						<instance name="options_slider_bg" />
						<panel width="-2.0h" height="100%" align="center">
							<slider
								slotwidth="-1%" slotheight="0.6h"
								slotcolor="1 1 1 1"
								handlewidth="70@" handleheight="70%"
								handlecolor="1 1 1 1"
								cvar="le_paintR2"
								minvalue="0.0"
								maxvalue="1.0"
								texture="/ui/info/slider.tga"
								onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
								onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
							/>
						</panel>
					</panel>
					<panel width="3.4h" height="2.2h" valign="center" align="right" visible="true">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
						<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
						<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="le_paintR2" numeric="true" numerictype="float" precision="2"  />
					</panel>
				</panel>

				<!-- Green -->
				<panel width="-2.0h" height="2.6h" align="center" noclick="true">
					<label height="100%" textvalign="center" color="0 1 0 1" shadow="true" font="dyn_10" noclick="true" content="mapedit_texture_green" />
					<panel x="-3.6h" width="-10.0h" height="2.2h" valign="center" align="right" noclick="true">
						<instance name="options_slider_bg" />
						<panel width="-2.0h" height="100%" align="center">
							<slider
								slotwidth="-1%" slotheight="0.6h"
								slotcolor="1 1 1 1"
								handlewidth="70@" handleheight="70%"
								handlecolor="1 1 1 1"
								cvar="le_paintG2"
								minvalue="0.0"
								maxvalue="1.0"
								texture="/ui/info/slider.tga"
								onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
								onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
							/>
						</panel>
					</panel>
					<panel width="3.4h" height="2.2h" valign="center" align="right" visible="true">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
						<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
						<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="le_paintG2" numeric="true" numerictype="float" precision="2"  />
					</panel>
				</panel>

				<!-- Blue -->
				<panel width="-2.0h" height="2.6h" align="center" noclick="true">
					<label height="100%" textvalign="center" color="#0eb2ff" shadow="true" font="dyn_10" noclick="true" content="mapedit_texture_blue" />
					<panel x="-3.6h" width="-10.0h" height="2.2h" valign="center" align="right" noclick="true">
						<instance name="options_slider_bg" />
						<panel width="-2.0h" height="100%" align="center">
							<slider
								name="{slider_name}"
								slotwidth="-1%" slotheight="0.6h"
								slotcolor="1 1 1 1"
								handlewidth="70@" handleheight="70%"
								handlecolor="1 1 1 1"
								cvar="le_paintB2"
								minvalue="0.0"
								maxvalue="1.0"
								texture="/ui/info/slider.tga"
								onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
								onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
							/>
						</panel>
					</panel>
					<panel width="3.4h" height="2.2h" valign="center" align="right" visible="true">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
						<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
						<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="le_paintB2" numeric="true" numerictype="float" precision="2"  />
					</panel>
				</panel>

			</panel>


		</panel>
	</panel>
	<!-- / Color Picker -->

	<!-- Enviro Color Pickers -->
	<instance
		name="enviro_color_pickers"
		id="object_ambient_color"
		idname="mapedit_enviro_entity_ambient"
		swatchcvar="scene_entityAmbientColor"
		rslider="scene_entityAmbientColor.r"
		gslider="scene_entityAmbientColor.g"
		bslider="scene_entityAmbientColor.b"
		tip="enviro_entity_ambient"
		onchange="
			If(
				le_lighting_lock,
				Set('scene_terrainAmbientColor', scene_entityAmbientColor)
			);
			Set(
				'tod_entityAmbientColor' # le_tod,
				scene_entityAmbientColor
			);
			Set(
				'tod_terrainAmbientColor' # le_tod,
				scene_terrainAmbientColor
			);
		"
	/>

	<instance
		name="enviro_color_pickers"
		id="object_sun_color"
		idname="mapedit_enviro_entity_sun"
		swatchcvar="scene_entitySunColor"
		rslider="scene_entitySunColor.r"
		gslider="scene_entitySunColor.g"
		bslider="scene_entitySunColor.b"
		tip="enviro_entity_sun"
		onchange="
			If(
				le_lighting_lock,
				Set('scene_terrainSunColor', scene_entitySunColor)
			);
			Set(
				'tod_entitySunColor' # le_tod,
				scene_entitySunColor
			);
			Set(
				'tod_terrainSunColor' # le_tod,
				scene_terrainSunColor
			);
		"
	/>

	<instance
		name="enviro_color_pickers"
		id="terrain_ambient_color"
		idname="mapedit_enviro_terrain_ambient"
		swatchcvar="scene_terrainAmbientColor"
		rslider="scene_terrainAmbientColor.r"
		gslider="scene_terrainAmbientColor.g"
		bslider="scene_terrainAmbientColor.b"
		tip="enviro_terrain_ambient"
		onchange="
			If(
				le_lighting_lock,
				Set('scene_entityAmbientColor', scene_terrainAmbientColor)
			);
			
			Set(
				'tod_terrainAmbientColor' # le_tod,
				scene_terrainAmbientColor
			);
			Set(
				'tod_entityAmbientColor' # le_tod,
				scene_entityAmbientColor
			);
		"
	/>

	<instance
		name="enviro_color_pickers"
		id="terrain_sun_color"
		idname="mapedit_enviro_terrain_sun"
		swatchcvar="scene_terrainSunColor"
		rslider="scene_terrainSunColor.r"
		gslider="scene_terrainSunColor.g"
		bslider="scene_terrainSunColor.b"
		tip="enviro_terrain_sun"
		onchange="
			If(
				le_lighting_lock,
				Set('scene_entitySunColor', scene_terrainSunColor)
			);
			
			If(
				le_lighting_lock,
				Set('scene_entitySunColor', scene_terrainSunColor)
			);
			
			Set(
				'tod_terrainSunColor' # le_tod,
				scene_terrainSunColor
			);
			Set(
				'tod_entitySunColor' # le_tod,
				scene_entitySunColor
			);
		"
	/>

	<instance
		name="enviro_color_pickers"
		id="sun_color"
		idname="mapedit_enviro_sun_spritecolor"
		swatchcvar="scene_sunColor"
		rslider="scene_sunColor.r"
		gslider="scene_sunColor.g"
		bslider="scene_sunColor.b"
		hasalpha="true"
		aslider="scene_sunColor.a"
		tip="enviro_terrain_sun"
	/>

	<instance
		name="enviro_color_pickers"
		id="fog_color"
		idname="mapedit_enviro_fog_color"
		swatchcvar="gfx_fogColor"
		rslider="gfx_fogColor.r"
		gslider="gfx_fogColor.g"
		bslider="gfx_fogColor.b"
		tip="enviro_fog_color_tip"
		onchange="
			If(
				le_fogsky_lock,
				Split(
					Set('scene_bgColor.r', gfx_fogColor.r),
					Set('scene_bgColor.g', gfx_fogColor.g),
					Set('scene_bgColor.b', gfx_fogColor.b)
				)
			);
		"
	/>

	<instance
		name="enviro_color_pickers"
		id="sky_fg_color"
		idname="mapedit_enviro_sky_fg_color"
		swatchcvar="scene_skyColor"
		rslider="scene_skyColor.r"
		gslider="scene_skyColor.g"
		bslider="scene_skyColor.b"
		hasalpha="true"
		aslider="scene_skyColor.a"
		tip="enviro_sky_fg_color_tip"
	/>

	<instance
		name="enviro_color_pickers"
		id="sky_bg_color"
		idname="mapedit_enviro_sky_bg_color"
		swatchcvar="scene_color"
		rslider="scene_bgColor.r"
		gslider="scene_bgColor.g"
		bslider="scene_bgColor.b"
		tip="enviro_sky_bg_color_tip"
		onchange="
			If(
				le_fogsky_lock,
				Split(
					Set('gfx_fogColor.r', scene_bgColor.r),
					Set('gfx_fogColor.g', scene_bgColor.g),
					Set('gfx_fogColor.b', scene_bgColor.b)
				)
			);
		"
	/>
	<!-- / Enviro Color Pickers -->

	<!-- Entity Properties -->
	<panel name="entity_properties" grow="true" regrow="true" growinvis="false" x="-1.0h" y="-1.0h" width="36.0h" align="right" valign="bottom" cangrab="true" visible="false" onshow="bringtofront();" onclick="bringtofront();"
		onload="
			CreateFloat(name # '_locX', 0);
			CreateFloat(name # '_locY', 0);
		"
		onevent0="
			Set(name # '_locX', GetAbsoluteX());
			Set(name # '_locY', GetAbsoluteY());
		"
		onevent1="
			SetAbsoluteX(*(name # '_locX'));
			SetAbsoluteY(*(name # '_locY'));
		"
	>
		<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .95" noclick="true"/>
		<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />

		<panel grow="true" regrow="true" growinvis="false" y="0.5h" width="100%" float="bottom" noclick="true">

			<panel width="100%" height="2.4h" noclick="true">
				<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
					<label x="0.5h" height="100%" textvalign="center" font="dyn_10" color="white" shadow="true" content="mapedit_entity_properties" noclick="true" />
					<panel x="-0.3h" width="1.5h" height="1.5h" valign="center" align="right" color="invisible">
						<instance name="btn_collapse" id="ent_collpase" group="ent_props" onclick="CallEvent('entity_properties', 0); HideWidget('entity_properties_container'); ShowOnly('ent_expand'); CallEvent('entity_properties', 1);" tip_id="gen_collapse_tip" />
						<instance name="btn_expand" id="ent_expand" group="ent_props" onclick="CallEvent('entity_properties', 0); ShowWidget('entity_properties_container'); ShowOnly('ent_collpase'); CallEvent('entity_properties', 1);" tip_id="gen_expand_tip" visible="false" />
					</panel>
				</frame>
			</panel>

			<panel width="100%" height="0.5h" noclick="true" />

			<panel name="entity_properties_container" grow="true" growinvis="false" width="100%" noclick="true" float="bottom" reverse="true">

				<!-- Name -->
				<instance
					name="mapedit_property_text"
					save_id="1"
					label="mapedit_entity_property_name"
					watch="EntitySelection"
					ontrigger="SetInputLine(GetSelectionName());"
					onenter="SetSelectionName(this); SetFocus(false);"
					onesc="SetInputLine(GetSelectionName());"
					onshow="SetInputLine(GetSelectionName());"
					tip_id="entity_name"
				/>

				<!-- Team -->
				<instance
					name="mapedit_property_combobox"
					label="mapedit_entity_property_team"
					watch="EntitySelection"
					ontrigger="SetSelectedItemByValue(GetSelectionTeam(), false);"
					onselect="Set('le_entityTeam', this); SetSelectionTeam(this);"
					onshow="SetSelectedItemByValue(GetSelectionTeam(), false);"
					onload="
						Clear();
						AddTemplateListItem('Ncombobox_item', '0', 'label', 'None');
						AddTemplateListItem('Ncombobox_item', '255', 'label', 'Passive');
						AddTemplateListItem('Ncombobox_item', '254', 'label', 'Neutral');
						AddTemplateListItem('Ncombobox_item', '1', 'label', 'Legion');
						AddTemplateListItem('Ncombobox_item', '2', 'label', 'Hellbourne');
						SetSelectedItemByValue(GetSelectionTeam(), false);
					"
					tip_id="entity_team"
				/>

				<!-- Level -->
				<instance
					name="mapedit_property_text"
					save_id="2"
					label="mapedit_entity_property_level"
					watch="EntitySelection"
					ontrigger="SetInputLine(GetSelectionProperty('level'));"
					onenter="SetSelectionProperty('level', this); SetFocus(false);"
					onesc="SetInputLine(GetSelectionProperty('level'));"
					onshow="SetInputLine(GetSelectionProperty('level'));"
					tip_id="entity_lvl"
				/>

				<!-- Type -->
				<instance
					name="mapedit_property_combobox"
					label="mapedit_entity_property_type"
					watch="EntitySelection"
					ontrigger="SetSelectedItemByValue(GetSelectionType(), false);"
					onselect="Set('le_entityType', this); SetSelectionType(this);"
					onshow="SetSelectedItemByValue(GetSelectionType(), false);"
					onload="Clear(); AddEntityTypes('Ncombobox_item', 'font', 'dyn_8'); SetSelectedItemByValue(GetSelectionType(), false);"
					tip_id="entity_type"
				/>

				<instance name="mapedit_seperator" />

				<!-- Model -->
				<instance
					name="mapedit_property_combobox_dirlist"
					label="mapedit_entity_property_model"
					watch="EntitySelection"
					ontrigger="SetSelectedItemByValue(GetSelectionModel(), false);"
					onselect="Set('le_entityModel', this); SetSelectionModel(this);"
					onshow="
						Clear();
						AddDirList('Ncombobox_item', '/', '*.mdf', true, true, 'font', 'dyn_8');
						SetSelectedItemByValue(GetSelectionModel(), false);
					"
					tip_id="entity_model" 
					onload="
						Clear();
						AddDirList('Ncombobox_item', '/', '*.mdf', true, true, 'font', 'dyn_8');
						SetSelectedItemByValue(GetSelectionModel(), false);
					"
				/>

				<!-- Skin -->
				<instance
					name="mapedit_property_text"
					save_id="3"
					label="mapedit_entity_property_skin"
					watch="EntitySelection"
					ontrigger="SetInputLine(GetSelectionSkin());"
					onenter="SetSelectionSkin(this); SetFocus(false);"
					onesc="SetInputLine(GetSelectionSkin());"
					onshow="SetInputLine(GetSelectionSkin());"
					tip_id="entity_skin"
				/>

				<instance name="mapedit_seperator" />

				<!-- Targets -->
				<instance
					name="mapedit_property_text"
					save_id="4"
					label="mapedit_entity_property_target0"
					watch="EntitySelection"
					ontrigger="SetInputLine(GetSelectionProperty('target0'));"
					onenter="SetSelectionProperty('target0', this); SetFocus(false);"
					onesc="SetInputLine(GetSelectionProperty('target0'));"
					onshow="SetInputLine(GetSelectionProperty('target0'));"
					tip_id="entity_target0"
				/>

				<instance
					name="mapedit_property_text"
					save_id="5"
					label="mapedit_entity_property_target1"
					watch="EntitySelection"
					ontrigger="SetInputLine(GetSelectionProperty('target1'));"
					onenter="SetSelectionProperty('target1', this); SetFocus(false);"
					onesc="SetInputLine(GetSelectionProperty('target1'));"
					onshow="SetInputLine(GetSelectionProperty('target1'));"
					tip_id="entity_target1"
				/>

				<instance
					name="mapedit_property_text"
					save_id="6"
					label="mapedit_entity_property_target2"
					watch="EntitySelection"
					ontrigger="SetInputLine(GetSelectionProperty('target2'));"
					onenter="SetSelectionProperty('target2', this); SetFocus(false);"
					onesc="SetInputLine(GetSelectionProperty('target2'));"
					onshow="SetInputLine(GetSelectionProperty('target2'));"
					tip_id="entity_target2"
				/>

				<instance
					name="mapedit_property_text"
					save_id="7"
					label="mapedit_entity_property_target3"
					watch="EntitySelection"
					ontrigger="SetInputLine(GetSelectionProperty('target3'));"
					onenter="SetSelectionProperty('target3', this); SetFocus(false);"
					onesc="SetInputLine(GetSelectionProperty('target3'));"
					onshow="SetInputLine(GetSelectionProperty('target3'));"
					tip_id="entity_target3"
				/>

				<instance
					name="mapedit_property_text"
					save_id="8"
					label="mapedit_entity_property_target4"
					watch="EntitySelection"
					ontrigger="SetInputLine(GetSelectionProperty('target4'));"
					onenter="SetSelectionProperty('target4', this); SetFocus(false);"
					onesc="SetInputLine(GetSelectionProperty('target4'));"
					onshow="SetInputLine(GetSelectionProperty('target4'));"
					tip_id="entity_target4"
				/>
				
				<instance name="mapedit_seperator" />

				<instance
					name="mapedit_property_text"
					save_id="8"
					label="mapedit_entity_property_config"
					watch="EntitySelection"
					ontrigger="SetInputLine(GetSelectionProperty('config'));"
					onenter="SetSelectionProperty('config', this); SetFocus(false);"
					onesc="SetInputLine(GetSelectionProperty('config'));"
					onshow="SetInputLine(GetSelectionProperty('config'));"
					tip_id="entity_config"
				/>
				
				<panel width="100%" height="0.8h" noclick="true" />

			</panel>

		</panel>
	</panel>

	<!-- Entity - Tree Properties -->
	<panel name="entity_properties_tree" grow="true" regrow="true" growinvis="false" x="1.0h" y="-1.0h" width="36.0h" align="left" valign="bottom" cangrab="true" visible="false" onshow="bringtofront();" onclick="bringtofront();">
		<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .95" noclick="true"/>
		<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />

		<panel grow="true" regrow="true" growinvis="false" y="0.5h" width="100%" float="bottom" noclick="true">

			<panel width="100%" height="2.4h" noclick="true">
				<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
					<label x="0.5h" height="100%" textvalign="center" font="dyn_10" color="white" shadow="true" content="mapedit_entity_properties_tree" noclick="true" />
				</frame>
			</panel>

			<panel width="100%" height="0.5h" noclick="true" />

			<panel name="entity_properties_container" grow="true" growinvis="false" width="100%" noclick="true" float="bottom" reverse="true">

				<!-- Model -->
				<instance
					name="mapedit_property_combobox_dirlist"
					label="mapedit_entity_property_model"
					watch="EntitySelection"
					ontrigger="SetSelectedItemByValue(GetTreePath(), false);"
					onselect="Set('le_entityTreeDefinition', this); SetSelectionTreeDef(this);"				
					onshow="
						Clear();
						AddDirList('Ncombobox_item', '/world/props/trees/', '*.tree', true, true, 'font', 'dyn_8');
						SetSelectedItemByValue(GetTreePath(), false);
					"
					onload="
						Clear();
						AddDirList('Ncombobox_item', '/world/props/trees/', '*.tree', true, true, 'font', 'dyn_8');
						SetSelectedItemByValue(GetTreePath(), false);
					"
					tip_id="treemode_model"
				/>
				<panel width="100%" height="0.8h" noclick="true" />
			</panel>

		</panel>
	</panel>
	
	<!-- Entity - Unit Properties -->
	<panel name="entity_unit_properties_panel" grow="true" regrow="true" growinvis="false" x="1.0h" y="-1.0h" width="20.0h" align="left" valign="bottom" cangrab="true" visible="false" watch="EntitySelection" ontrigger="SetVisible(IsSelectionType('unit'));" onshow="bringtofront();" onclick="bringtofront();">
		<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .95" noclick="true"/>
		<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />
		<panel grow="true" y="0.5h" width="100%" float="bottom" reverse="true" noclick="true">
			<panel width="100%" height="2.4h" noclick="true">
				<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
					<label x="0.5h" height="100%" textvalign="center" font="dyn_10" color="white" shadow="true" content="mapedit_entity_property_unit_prop" noclick="true" />
				</frame>
			</panel>
			<panel width="100%" height="1.0h" noclick="true" />
			<instance name="mapedit_options_checkbox" id="unit_dormant" property="dormant" label="mapedit_entity_unit_prop_dormant" width="-1.0h" align="center"/>
			<panel width="100%" height="1.0h" noclick="true" />
		</panel>
	</panel>

	<!-- Dynamic Prop Settings -->
	<panel name="entity_dynamic_prop_properties_panel" grow="true" regrow="true" growinvis="false" x="1.0h" y="-1.0h" width="37.0h" align="left" valign="bottom" cangrab="true" visible="false" watch="EntitySelection" ontrigger="SetVisible(StringEquals(GetSelectionType(),'Prop_Dynamic'));" onshow="bringtofront();" onclick="bringtofront();">
		<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .95" noclick="true"/>
		<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />
		<panel grow="true" y="0.5h" width="100%" float="bottom" reverse="true" noclick="true">
			<panel width="100%" height="2.4h" noclick="true">
				<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
					<label x="0.5h" height="100%" textvalign="center" font="dyn_10" color="white" shadow="true" content="mapedit_entity_dynamic_prop_setting" noclick="true" />
				</frame>
			</panel>
			<panel width="100%" height="1.0h" noclick="true" />

			<panel name="entity_properties_container" grow="true" growinvis="false" width="100%" noclick="true" float="bottom" reverse="true">

				<!-- Corpse Time -->
				<instance
					name="mapedit_property_text"
					save_id="10"
					label="mapedit_entity_corpse_time"
					datawidth="10.0h"
					watch="EntitySelection"
					ontrigger="SetInputLine(GetSelectionProperty('corpsetime'));"
					onenter="SetSelectionProperty('corpsetime',this); SetFocus(false);"
					onesc="SetInputLine(GetSelectionProperty('corpsetime'));"
					tip_id="entity_corpse_time"
				/>

				<!-- Max Health -->
				<instance
					name="mapedit_property_text"
					save_id="11"
					label="mapedit_entity_max_health"
					datawidth="10.0h"
					watch="EntitySelection"
					ontrigger="SetInputLine(GetSelectionProperty('maxhealth'));"
					onenter="SetSelectionProperty('maxhealth',this); SetFocus(false);"
					onesc="SetInputLine(GetSelectionProperty('maxhealth'));"
					tip_id="entity_max_health"
				/>

				<!-- Death Anim -->
				<instance
					name="mapedit_property_text"
					save_id="12"
					label="mapedit_entity_death_animation"
					datawidth="20.0h"
					watch="EntitySelection"
					ontrigger="SetInputLine(GetSelectionProperty('deathanim'));"
					onenter="SetSelectionProperty('deathanim',this); SetFocus(false);"
					onesc="SetInputLine(GetSelectionProperty('deathanim'));"
					tip_id="entity_death_animation"
				/>

			</panel>

			<panel width="100%" height="1.0h" noclick="true" />
		</panel>
	</panel>

	<!-- Npc Controller Settings  -->
	<panel name="entity_npccontroller_properties_panel" grow="true" regrow="true" growinvis="false" x="1.0h" y="-1.0h" width="27.0h" align="left" valign="bottom" cangrab="true" visible="false" watch="EntitySelection" ontrigger="SetVisible(StringEquals(GetSelectionType(),'Entity_NpcController'));" onshow="bringtofront();" onclick="bringtofront();">
		<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .95" noclick="true"/>
		<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />
		<panel grow="true" y="0.5h" width="100%" float="bottom" reverse="true" noclick="true">
			<panel width="100%" height="2.4h" noclick="true">
				<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
					<label x="0.5h" height="100%" textvalign="center" font="dyn_10" color="white" shadow="true" content="mapedit_entity_npc_controller_setting" noclick="true" />
				</frame>
			</panel>
			<panel width="100%" height="1.0h" noclick="true" />

			<panel name="entity_properties_container" grow="true" growinvis="false" width="100%" noclick="true" float="bottom" reverse="true">

				<!-- Spawn Radius -->
				<instance
					name="mapedit_property_text"
					save_id="13"
					label="mapedit_entity_npc_spawn_radius"
					datawidth="10.0h"
					watch="EntitySelection"
					ontrigger="SetInputLine(GetSelectionProperty('radius'));"
					onenter="SetSelectionProperty('radius',this); SetFocus(false);"
					onesc="SetInputLine(GetSelectionProperty('radius'));"
					tip_id="entity_npc_spawn_radius"
				/>

				<!-- Spawn Period -->
				<instance
					name="mapedit_property_text"
					save_id="14"
					label="mapedit_entity_npc_spawn_period"
					datawidth="10.0h"
					watch="EntitySelection"
					ontrigger="SetInputLine(GetSelectionProperty('period'));"
					onenter="SetSelectionProperty('period',this); SetFocus(false);"
					onesc="SetInputLine(GetSelectionProperty('period'));"
					tip_id="entity_npc_spawn_period"
				/>

			</panel>

			<panel width="100%" height="1.0h" noclick="true" />
		</panel>
	</panel>

	<!-- Water Settings  -->
	<panel name="entity_water_properties_panel" grow="true" regrow="true" growinvis="false" x="1.0h" y="-1.0h" width="37.0h" align="left" valign="bottom" cangrab="true" visible="false" watch="EntitySelection" ontrigger="SetVisible(StringEquals(GetSelectionType(),'Prop_Water'));" onshow="bringtofront();" onclick="bringtofront();">
		<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .95" noclick="true"/>
		<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />
		<panel grow="true" y="0.5h" width="100%" float="bottom" reverse="true" noclick="true">
			<panel width="100%" height="2.4h" noclick="true">
				<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
					<label x="0.5h" height="100%" textvalign="center" font="dyn_10" color="white" shadow="true" content="mapedit_entity_water_settings" noclick="true" />
				</frame>
			</panel>
			<panel width="100%" height="1.0h" noclick="true" />

			<panel name="entity_properties_container" grow="true" growinvis="false" width="100%" noclick="true" float="bottom" reverse="true">

				<!-- Effect Type -->
				<instance
					name="mapedit_property_text"
					save_id="15"
					label="mapedit_entity_water_effect_type"
					datawidth="20.0h"
					watch="EntitySelection"
					ontrigger="SetInputLine(GetSelectionProperty('effecttype'));"
					onenter="SetSelectionProperty('effecttype',this); SetFocus(false);"
					onesc="SetInputLine(GetSelectionProperty('effecttype'));"
					tip_id="entity_water_effect_type"
				/>

			</panel>

			<panel width="100%" height="1.0h" noclick="true" />
		</panel>
	</panel>


	<!-- Foliage Settings -->
	<panel name="foliage_lazy_settings" grow="true" regrow="true" growinvis="false" x="-1.0h" width="40.0h" align="right" valign="center" cangrab="true" visible="false" onshow="bringtofront();" onclick="bringtofront();"
		onload="
			CreateFloat(name # '_locX', 0);
			CreateFloat(name # '_locY', 0);
		"
		onevent0="
			Set(name # '_locX', GetAbsoluteX());
			Set(name # '_locY', GetAbsoluteY());
		"
		onevent1="
			SetAbsoluteX(*(name # '_locX'));
			SetAbsoluteY(*(name # '_locY'));
		"
	>
		<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .95" noclick="true"/>
		<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />

		<panel grow="true" regrow="true" growinvis="false" y="0.5h" width="100%" float="bottom" noclick="true">

			<panel width="100%" height="2.4h" noclick="true">
				<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
					<label x="0.5h" height="100%" textvalign="center" font="dyn_10" color="white" shadow="true" content="mapedit_foliage_settings" noclick="true" />
					<panel x="-0.3h" width="1.5h" height="1.5h" valign="center" align="right" color="invisible">
						<instance name="btn_collapse" id="foliage_collpase" group="foliage_props" onclick="CallEvent('foliage_lazy_settings', 0); HideWidget('foliage_lazy_settings_container'); ShowOnly('foliage_expand'); CallEvent('foliage_lazy_settings', 1);" tip_id="gen_collapse_tip" />
						<instance name="btn_expand" id="foliage_expand" group="foliage_props" onclick="CallEvent('foliage_lazy_settings', 0); ShowWidget('foliage_lazy_settings_container'); ShowOnly('foliage_collpase'); CallEvent('foliage_lazy_settings', 1);" tip_id="gen_expand_tip" visible="false" />
					</panel>
				</frame>
			</panel>

			<panel width="100%" height="0.5h" noclick="true" />

			<panel name="foliage_lazy_settings_container" grow="true" growinvis="false" width="100%" noclick="true" float="bottom" reverse="true">

				<!-- Texture -->
				<panel grow="true" width="100%" float="bottom">
					<panel width="100%" height="4.0h" noclick="true" sticky="true" stickytoinvis="false">
						<label x="0.8h" height="100%" textvalign="center" shadow="true" noclick="true" style="h1" content="mapedit_foliage_texture" />
						<panel x="-0.8h" width="18.0h" height="-0.6h" align="right" valign="center" noclick="true">
							<panel x="-16.7h" width="110@" height="110%" align="right" valign="center" color=".2 .2 .2 1" onmouseover="ShowWidget('texture_tip');" onmouseout="HideWidget('texture_tip');" onclick="HideWidget('texture_tip'); Call('foliage_texturelist_widget', 'FadeIn(250);');">
								<image name="foliage_thumbnail" texture="$checker" watch="FoliageTexture" ontrigger="SetTexture(param);" noclick="true" />
								<frame borderthickness="2" color="invisible" bordercolor=".4 .4 .4 1" noclick="true" />
								<frame borderthickness="1" bordercolor="0 0 0 1" color="invisible" noclick="true" />
							</panel>
							<instance
								name="button2"
								height="2.2h" width="15.0h"
								align="right" valign="center"
								label="mapedit_foliate_select_texture"
								onclick="Call('foliage_texturelist_widget', 'FadeIn(250);');"
							/>
						</panel>
					</panel>
					<panel width="100%" height="0.2h" />
					<panel name="mapedit_foliage_texture_cover" group="foliage_settings_option" y="0" width="100%" height="100%" visible="false">
						<frame width="-1.0h" align="center" texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .8" noclick="true"/>
						<frame width="-1.0h" align="center" texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />
					</panel>
				</panel>

				<panel width="100%" height="1.0h" noclick="true">
					<panel y="0" width="-1.8h" height="1" align="center" valign="center" color="0 0 0 1" noclick="true" />
					<panel y="1" width="-1.8h" height="1" align="center" valign="center" color="#1f2d43" noclick="true" />
				</panel>

				<!-- Density -->
				<panel grow="true" width="100%" float="bottom">

					<panel width="100%" height="2.5h" noclick="true">
						<label width="-1.6h" height="100%" align="center" textvalign="center" style="h1" content="mapedit_foliage_density" noclick="true"/>
					</panel>

					<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
						<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_foliage_pri_density" />
						<panel x="-0.8h" width="18.0h" height="-0.6h" align="right" valign="center" noclick="true">
							<panel x="-2.4h" width="100%" align="right" noclick="true">
								<panel width="150@" height="100%">
									<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
									<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
									<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="le_foliageDensity" numeric="true" numerictype="float" precision="2" />
								</panel>
								<panel width="-160@" align="right" noclick="true">
									<instance name="options_slider_bg" />
									<label color="white" width="130@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">0</label>
									<label color="white" width="130@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">8</label>
									<panel x="-8@" width="-230@" height="100%" align="center">
										<slider
											name="foliage_pri_density_slider"
											slotwidth="-1%" slotheight="0.6h"
											slotcolor="1 1 1 1"
											handlewidth="70@" handleheight="70%"
											handlecolor="1 1 1 1"
											cvar="le_foliageDensity"
											minvalue="0" maxvalue="8"
											texture="/ui/info/slider.tga"
											onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
											onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
										/>
									</panel>
								</panel>
							</panel>
							<instance name="tip_mark" tip_id="foliage_settings_pri_density_tip" width="2.0h" height="2.0h" valign="center" align="right" />
						</panel>
					</panel>

					<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
						<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_foliage_sec_density" />
						<panel x="-0.8h" width="18.0h" height="-0.6h" align="right" valign="center" noclick="true">
							<panel x="-2.4h" width="100%" align="right" noclick="true">
								<panel width="150@" height="100%">
									<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
									<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
									<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="le_foliageDensity2" numeric="true" numerictype="float" precision="2" />
								</panel>
								<panel width="-160@" align="right" noclick="true">
									<instance name="options_slider_bg" />
									<label color="white" width="130@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">0</label>
									<label color="white" width="130@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">8</label>
									<panel x="-8@" width="-230@" height="100%" align="center">
										<slider
											name="foliage_sec_density_slider"
											slotwidth="-1%" slotheight="0.6h"
											slotcolor="1 1 1 1"
											handlewidth="70@" handleheight="70%"
											handlecolor="1 1 1 1"
											cvar="le_foliageDensity2"
											minvalue="0" maxvalue="8"
											texture="/ui/info/slider.tga"
											onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
											onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
										/>
									</panel>
								</panel>
							</panel>
							<instance name="tip_mark" tip_id="foliage_settings_sec_density_tip" width="2.0h" height="2.0h" valign="center" align="right" />
						</panel>
					</panel>
					<panel width="100%" height="0.5h" />
					<panel name="mapedit_foliage_density_cover" group="foliage_settings_option" y="0" width="100%" height="100%" visible="false">
						<frame width="-1.0h" align="center" texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .8" noclick="true"/>
						<frame width="-1.0h" align="center" texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />
					</panel>
				</panel>

				<panel width="100%" height="1.0h" noclick="true">
					<panel y="0" width="-1.8h" height="1" align="center" valign="center" color="0 0 0 1" noclick="true" />
					<panel y="1" width="-1.8h" height="1" align="center" valign="center" color="#1f2d43" noclick="true" />
				</panel>

				<!-- Size -->
				<panel grow="true" width="100%" float="bottom">

					<panel width="100%" height="2.5h" noclick="true">
						<label width="-1.6h" height="100%" align="center" textvalign="center" style="h1" content="mapedit_foliage_size" noclick="true"/>
					</panel>

					<panel width="100%" height="2.5h" noclick="true">
						<label x="1.0h" width="-1.6h" height="100%" align="center" textvalign="center" font="dyn_10" color="1 1 1 1" shadow="true" content="mapedit_foliage_primary" noclick="true"/>
					</panel>
					<!-- Pri Height -->
					<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
						<label x="3.0h" height="100%" font="dyn_10" textvalign="center" color=".8 .8 .8 1" shadow="true" noclick="true" content="mapedit_foliage_size_height" />
						<panel x="-0.8h" width="18.0h" height="-0.6h" align="right" valign="center" noclick="true">
							<panel x="-2.4h" width="100%" align="right" noclick="true">
								<panel width="150@" height="100%">
									<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
									<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
									<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="le_foliageSizeHeight" numeric="true" numerictype="float" precision="0" />
								</panel>
								<panel width="-160@" align="right" noclick="true">
									<instance name="options_slider_bg" />
									<label color="white" width="130@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">0</label>
									<label color="white" width="130@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">64</label>
									<panel x="-8@" width="-230@" height="100%" align="center">
										<slider
											slotwidth="-1%" slotheight="0.6h"
											slotcolor="1 1 1 1"
											handlewidth="70@" handleheight="70%"
											handlecolor="1 1 1 1"
											cvar="le_foliageSizeHeight"
											minvalue="0" maxvalue="64"
											texture="/ui/info/slider.tga"
											onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
											onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
										/>
									</panel>
								</panel>
							</panel>
							<instance name="tip_mark" tip_id="foliage_settings_size_height" width="2.0h" height="2.0h" valign="center" align="right" />
						</panel>
					</panel>

					<!-- Pri Width -->
					<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
						<label x="3.0h" height="100%" font="dyn_10" textvalign="center" color=".8 .8 .8 1" shadow="true" noclick="true" content="mapedit_foliage_size_width" />
						<panel x="-0.8h" width="18.0h" height="-0.6h" align="right" valign="center" noclick="true">
							<panel x="-2.4h" width="100%" align="right" noclick="true">
								<panel width="150@" height="100%">
									<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
									<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
									<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="le_foliageSizeWidth" numeric="true" numerictype="float" precision="0" />
								</panel>
								<panel width="-160@" align="right" noclick="true">
									<instance name="options_slider_bg" />
									<label color="white" width="130@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">0</label>
									<label color="white" width="130@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">64</label>
									<panel x="-8@" width="-230@" height="100%" align="center">
										<slider
											slotwidth="-1%" slotheight="0.6h"
											slotcolor="1 1 1 1"
											handlewidth="70@" handleheight="70%"
											handlecolor="1 1 1 1"
											cvar="le_foliageSizeWidth"
											minvalue="0" maxvalue="64"
											texture="/ui/info/slider.tga"
											onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
											onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
										/>
									</panel>
								</panel>
							</panel>
							<instance name="tip_mark" tip_id="foliage_settings_size_width" width="2.0h" height="2.0h" valign="center" align="right" />
						</panel>
					</panel>

					<!-- Pri rand height -->
					<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
						<label x="3.0h" height="100%" font="dyn_10" textvalign="center" color=".8 .8 .8 1" shadow="true" noclick="true" content="mapedit_foliage_size_rand_height" />
						<panel x="-0.8h" width="18.0h" height="-0.6h" align="right" valign="center" noclick="true">
							<panel x="-2.4h" width="100%" align="right" noclick="true">
								<panel width="150@" height="100%">
									<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
									<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
									<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="le_foliageSizeRandHeight" numeric="true" numerictype="float" precision="0" />
								</panel>
								<panel width="-160@" align="right" noclick="true">
									<instance name="options_slider_bg" />
									<label color="white" width="130@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">0</label>
									<label color="white" width="130@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">32</label>
									<panel x="-8@" width="-230@" height="100%" align="center">
										<slider
											slotwidth="-1%" slotheight="0.6h"
											slotcolor="1 1 1 1"
											handlewidth="70@" handleheight="70%"
											handlecolor="1 1 1 1"
											cvar="le_foliageSizeRandHeight"
											minvalue="0" maxvalue="32"
											texture="/ui/info/slider.tga"
											onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
											onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
										/>
									</panel>
								</panel>
							</panel>
							<instance name="tip_mark" tip_id="foliage_settings_rand_height" width="2.0h" height="2.0h" valign="center" align="right" />
						</panel>
					</panel>

					<!-- Pri rand width -->
					<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
						<label x="3.0h" height="100%" font="dyn_10" textvalign="center" color=".8 .8 .8 1" shadow="true" noclick="true" content="mapedit_foliage_size_rand_width" />
						<panel x="-0.8h" width="18.0h" height="-0.6h" align="right" valign="center" noclick="true">
							<panel x="-2.4h" width="100%" align="right" noclick="true">
								<panel width="150@" height="100%">
									<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
									<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
									<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="le_foliageSizeRandWidth" numeric="true" numerictype="float" precision="0" />
								</panel>
								<panel width="-160@" align="right" noclick="true">
									<instance name="options_slider_bg" />
									<label color="white" width="130@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">0</label>
									<label color="white" width="130@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">32</label>
									<panel x="-8@" width="-230@" height="100%" align="center">
										<slider
											slotwidth="-1%" slotheight="0.6h"
											slotcolor="1 1 1 1"
											handlewidth="70@" handleheight="70%"
											handlecolor="1 1 1 1"
											cvar="le_foliageSizeRandWidth"
											minvalue="0" maxvalue="32"
											texture="/ui/info/slider.tga"
											onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
											onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
										/>
									</panel>
								</panel>
							</panel>
							<instance name="tip_mark" tip_id="foliage_settings_rand_width" width="2.0h" height="2.0h" valign="center" align="right" />
						</panel>
					</panel>


					<panel width="100" height="0.4h" />
					<panel width="100%" height="2.5h" noclick="true">
						<label x="1.0h" width="-1.6h" height="100%" align="center" textvalign="center" font="dyn_10" color="1 1 1 1" shadow="true" content="mapedit_foliage_secondary" noclick="true"/>
					</panel>
					<!-- Sec Height -->
					<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
						<label x="3.0h" height="100%" font="dyn_10" textvalign="center" color=".8 .8 .8 1" shadow="true" noclick="true" content="mapedit_foliage_size_height" />
						<panel x="-0.8h" width="18.0h" height="-0.6h" align="right" valign="center" noclick="true">
							<panel x="-2.4h" width="100%" align="right" noclick="true">
								<panel width="150@" height="100%">
									<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
									<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
									<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="le_foliageSizeHeight2" numeric="true" numerictype="float" precision="0" />
								</panel>
								<panel width="-160@" align="right" noclick="true">
									<instance name="options_slider_bg" />
									<label color="white" width="130@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">0</label>
									<label color="white" width="130@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">64</label>
									<panel x="-8@" width="-230@" height="100%" align="center">
										<slider
											slotwidth="-1%" slotheight="0.6h"
											slotcolor="1 1 1 1"
											handlewidth="70@" handleheight="70%"
											handlecolor="1 1 1 1"
											cvar="le_foliageSizeHeight2"
											minvalue="0" maxvalue="64"
											texture="/ui/info/slider.tga"
											onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
											onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
										/>
									</panel>
								</panel>
							</panel>
							<instance name="tip_mark" tip_id="foliage_settings_size_height" width="2.0h" height="2.0h" valign="center" align="right" />
						</panel>
					</panel>

					<!-- Sec Width -->
					<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
						<label x="3.0h" height="100%" font="dyn_10" textvalign="center" color=".8 .8 .8 1" shadow="true" noclick="true" content="mapedit_foliage_size_width" />
						<panel x="-0.8h" width="18.0h" height="-0.6h" align="right" valign="center" noclick="true">
							<panel x="-2.4h" width="100%" align="right" noclick="true">
								<panel width="150@" height="100%">
									<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
									<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
									<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="le_foliageSizeWidth2" numeric="true" numerictype="float" precision="0" />
								</panel>
								<panel width="-160@" align="right" noclick="true">
									<instance name="options_slider_bg" />
									<label color="white" width="130@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">0</label>
									<label color="white" width="130@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">64</label>
									<panel x="-8@" width="-230@" height="100%" align="center">
										<slider
											slotwidth="-1%" slotheight="0.6h"
											slotcolor="1 1 1 1"
											handlewidth="70@" handleheight="70%"
											handlecolor="1 1 1 1"
											cvar="le_foliageSizeWidth2"
											minvalue="0" maxvalue="64"
											texture="/ui/info/slider.tga"
											onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
											onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
										/>
									</panel>
								</panel>
							</panel>
							<instance name="tip_mark" tip_id="foliage_settings_size_width" width="2.0h" height="2.0h" valign="center" align="right" />
						</panel>
					</panel>

					<!-- Sec rand height -->
					<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
						<label x="3.0h" height="100%" font="dyn_10" textvalign="center" color=".8 .8 .8 1" shadow="true" noclick="true" content="mapedit_foliage_size_rand_height" />
						<panel x="-0.8h" width="18.0h" height="-0.6h" align="right" valign="center" noclick="true">
							<panel x="-2.4h" width="100%" align="right" noclick="true">
								<panel width="150@" height="100%">
									<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
									<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
									<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="le_foliageSizeRandHeight2" numeric="true" numerictype="float" precision="0" />
								</panel>
								<panel width="-160@" align="right" noclick="true">
									<instance name="options_slider_bg" />
									<label color="white" width="130@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">0</label>
									<label color="white" width="130@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">32</label>
									<panel x="-8@" width="-230@" height="100%" align="center">
										<slider
											slotwidth="-1%" slotheight="0.6h"
											slotcolor="1 1 1 1"
											handlewidth="70@" handleheight="70%"
											handlecolor="1 1 1 1"
											cvar="le_foliageSizeRandHeight2"
											minvalue="0" maxvalue="32"
											texture="/ui/info/slider.tga"
											onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
											onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
										/>
									</panel>
								</panel>
							</panel>
							<instance name="tip_mark" tip_id="foliage_settings_rand_height" width="2.0h" height="2.0h" valign="center" align="right" />
						</panel>
					</panel>

					<!-- Sec rand width -->
					<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
						<label x="3.0h" height="100%" font="dyn_10" textvalign="center" color=".8 .8 .8 1" shadow="true" noclick="true" content="mapedit_foliage_size_rand_width" />
						<panel x="-0.8h" width="18.0h" height="-0.6h" align="right" valign="center" noclick="true">
							<panel x="-2.4h" width="100%" align="right" noclick="true">
								<panel width="150@" height="100%">
									<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
									<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
									<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="le_foliageSizeRandWidth2" numeric="true" numerictype="float" precision="0" />
								</panel>
								<panel width="-160@" align="right" noclick="true">
									<instance name="options_slider_bg" />
									<label color="white" width="130@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">0</label>
									<label color="white" width="130@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">32</label>
									<panel x="-8@" width="-230@" height="100%" align="center">
										<slider
											slotwidth="-1%" slotheight="0.6h"
											slotcolor="1 1 1 1"
											handlewidth="70@" handleheight="70%"
											handlecolor="1 1 1 1"
											cvar="le_foliageSizeRandWidth2"
											minvalue="0" maxvalue="32"
											texture="/ui/info/slider.tga"
											onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
											onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
										/>
									</panel>
								</panel>
							</panel>
							<instance name="tip_mark" tip_id="foliage_settings_rand_width" width="2.0h" height="2.0h" valign="center" align="right" />
						</panel>
					</panel>

					<panel width="100%" height="0.5h" />

					<panel name="mapedit_foliage_size_cover" group="foliage_settings_option" y="0" width="100%" height="100%" visible="false">
						<frame width="-1.0h" align="center" texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .8" noclick="true"/>
						<frame width="-1.0h" align="center" texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />
					</panel>
				</panel>

				<panel width="100%" height="1.0h" noclick="true">
					<panel y="0" width="-1.8h" height="1" align="center" valign="center" color="0 0 0 1" noclick="true" />
					<panel y="1" width="-1.8h" height="1" align="center" valign="center" color="#1f2d43" noclick="true" />
				</panel>

				<!-- Scale -->
				<panel grow="true" width="100%" float="bottom">

					<panel width="100%" height="2.5h" noclick="true">
						<label width="-1.6h" height="100%" align="center" textvalign="center" style="h1" content="mapedit_foliage_scale" noclick="true"/>
					</panel>

					<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
						<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_foliage_pri_scale" />
						<panel x="-0.8h" width="18.0h" height="-0.6h" align="right" valign="center" noclick="true">
							<panel x="-2.4h" width="100%" align="right" noclick="true">
								<panel width="150@" height="100%">
									<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
									<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
									<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="le_foliageScale" numeric="true" numerictype="float" precision="2" />
								</panel>
								<panel width="-160@" align="right" noclick="true">
									<instance name="options_slider_bg" />
									<label color="white" width="130@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">0</label>
									<label color="white" width="130@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">4</label>
									<panel x="-8@" width="-230@" height="100%" align="center">
										<slider
											name="foliage_pri_scale_slider"
											slotwidth="-1%" slotheight="0.6h"
											slotcolor="1 1 1 1"
											handlewidth="70@" handleheight="70%"
											handlecolor="1 1 1 1"
											cvar="le_foliageScale"
											minvalue="0" maxvalue="4"
											texture="/ui/info/slider.tga"
											onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
											onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
										/>
									</panel>
								</panel>
							</panel>
							<instance name="tip_mark" tip_id="foliage_settings_pri_scale" width="2.0h" height="2.0h" valign="center" align="right" />
						</panel>
					</panel>

					<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
						<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_foliage_sec_scale" />
						<panel x="-0.8h" width="18.0h" height="-0.6h" align="right" valign="center" noclick="true">
							<panel x="-2.4h" width="100%" align="right" noclick="true">
								<panel width="150@" height="100%">
									<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
									<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
									<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="le_foliageScale2" numeric="true" numerictype="float" precision="2" />
								</panel>
								<panel width="-160@" align="right" noclick="true">
									<instance name="options_slider_bg" />
									<label color="white" width="130@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">0</label>
									<label color="white" width="130@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">4</label>
									<panel x="-8@" width="-230@" height="100%" align="center">
										<slider
											name="foliage_sec_scale_slider"
											slotwidth="-1%" slotheight="0.6h"
											slotcolor="1 1 1 1"
											handlewidth="70@" handleheight="70%"
											handlecolor="1 1 1 1"
											cvar="le_foliageScale2"
											minvalue="0" maxvalue="4"
											texture="/ui/info/slider.tga"
											onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
											onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
										/>
									</panel>
								</panel>
							</panel>
							<instance name="tip_mark" tip_id="foliage_settings_sec_scale" width="2.0h" height="2.0h" valign="center" align="right" />
						</panel>
					</panel>
					<panel width="100%" height="0.5h" />
					<panel name="mapedit_foliage_scale_cover" group="foliage_settings_option" y="0" width="100%" height="100%" visible="false">
						<frame width="-1.0h" align="center" texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .8" noclick="true"/>
						<frame width="-1.0h" align="center" texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />
					</panel>
				</panel>

				<panel width="100%" height="0.8h" noclick="true" />

			</panel>


		</panel>
	</panel>

	<!-- Sound Controls -->
	<panel name="sound_controls" grow="true" regrow="true" growinvis="false" x="-1.0h" y="-1.0h" width="42.0h" align="right" valign="bottom" cangrab="true" visible="false" onshow="bringtofront();" onclick="bringtofront();"
		onload="
			CreateFloat(name # '_locX', 0);
			CreateFloat(name # '_locY', 0);
		"
		onevent0="
			Set(name # '_locX', GetAbsoluteX());
			Set(name # '_locY', GetAbsoluteY());
		"
		onevent1="
			SetAbsoluteX(*(name # '_locX'));
			SetAbsoluteY(*(name # '_locY'));
		"
	>
		<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .95" noclick="true"/>
		<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />

		<panel grow="true" regrow="true" growinvis="false" y="0.5h" width="100%" float="bottom" noclick="true">

			<panel width="100%" height="2.4h" noclick="true">
				<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
					<label x="0.5h" height="100%" textvalign="center" font="dyn_10" color="white" shadow="true" content="mapedit_sound_controls" noclick="true" />
					<panel x="-0.3h" width="1.5h" height="1.5h" valign="center" align="right" color="invisible">
						<instance name="btn_collapse" id="sound_collpase" group="sounds" onclick="CallEvent('sound_controls', 0); HideWidget('sound_controls_container'); ShowOnly('sound_expand'); CallEvent('sound_controls', 1);" tip_id="gen_collapse_tip" />
						<instance name="btn_expand" id="sound_expand" group="sounds" onclick="CallEvent('sound_controls', 0); ShowWidget('sound_controls_container'); ShowOnly('sound_collpase'); CallEvent('sound_controls', 1);" tip_id="gen_expand_tip" visible="false" />
					</panel>
				</frame>
			</panel>

			<panel width="100%" height="0.5h" noclick="true" />

			<panel name="sound_controls_container" grow="true" regrow="true" growinvis="false" width="100%" noclick="true" float="bottom">

				<!-- Ambient Sound -->
				<instance
					name="mapedit_property_text"
					save_id="16"
					label="mapedit_sound_ambient"
					datawidth="20.0h"
					watch="SoundSelection"
					ontrigger="SetInputLine(cg_worldAmbientSound);"
					onenter="Set('cg_worldAmbientSound',this); SetFocus(false); SetInputLine(cg_worldAmbientSound); StartWorldAmbientSound();"
					onesc="SetInputLine(GetSelectionName());"
					onshow="SetInputLine(GetSelectionName());"
					tip_id="sound_path"
				/>

				<!-- Ambient Volume -->
				<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
					<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_sound_ambient_vol" />
					<panel x="-0.8h" width="20.0h" height="-0.6h" align="right" valign="center" noclick="true">
						<panel x="-2.4h" width="100%" align="right" noclick="true">
							<panel width="150@" height="100%">
								<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
								<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
								<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="cg_worldAmbientSoundVolume" numeric="true" numerictype="float" precision="2" />
							</panel>
							<panel width="-160@" align="right" noclick="true">
								<instance name="options_slider_bg" />
								<label color="white" width="130@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">0</label>
								<label color="white" width="130@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">1</label>
								<panel x="-8@" width="-230@" height="100%" align="center">
									<slider
										slotwidth="-1%" slotheight="0.6h"
										slotcolor="1 1 1 1"
										handlewidth="70@" handleheight="70%"
										handlecolor="1 1 1 1"
										cvar="cg_worldAmbientSoundVolume"
										minvalue="0" maxvalue="1"
										texture="/ui/info/slider.tga"
										onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
										onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav'); SetWorldAmbientSoundVolume(cg_worldAmbientSoundVolume);"
									/>
								</panel>
							</panel>
						</panel>
						<instance name="tip_mark" tip_id="sound_volume" width="2.0h" height="2.0h" valign="center" align="right" />
					</panel>
				</panel>

				<panel name="sound_properties" grow="true" width="100%" visible="false" float="bottom" watch="SoundSelection" ontrigger="SetVisible(param);">

					<panel y="0.8h" width="100%" height="1.0h" noclick="true">
						<panel y="0" width="-1.8h" height="1" align="center" valign="center" color="0 0 0 1" noclick="true" />
						<panel y="1" width="-1.8h" height="1" align="center" valign="center" color="#1f2d43" noclick="true" />
					</panel>

					<panel width="100%" height="2.5h" noclick="true">
						<label
							width="-1.6h" height="100%"
							align="center"
							textvalign="center"
							style="h1"
							watch="SoundSelection"
							ontrigger="SetText(GetSelectionDetails());"
							content="mapedit_sound_nosound"
						/>
					</panel>

					<!-- Selected Sound -->
					<instance
						name="mapedit_property_text"
						save_id="17"
						label="mapedit_sound"
						datawidth="20.0h"
						watch="SoundSelection"
						ontrigger="SetInputLine(GetSelectionSound());"
						onenter="SetSelectionSound(this); SetFocus(false);"
						onesc="SetInputLine(GetSelectionSound());"
						onshow="SetInputLine(GetSelectionSound());"
						tip_id="sound_selected"
					/>

					<!-- Selected  Volume -->
					<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
						<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_sound_select_volume" />
						<panel x="-0.8h" width="20.0h" height="-0.6h" align="right" valign="center" noclick="true">
							<panel x="-2.4h" width="100%" align="right" noclick="true">
								<panel width="150@" height="100%">
									<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
									<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
									<label name="sound_selection_volume_value" textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" numeric="true" watch="SoundSelection SoundSelectionVolume" ontrigger="SetText(GetSelectionVolume());" numerictype="float" precision="2" />
								</panel>
								<panel width="-160@" align="right" noclick="true">
									<instance name="options_slider_bg" />
									<label color="white" width="130@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">0</label>
									<label color="white" width="130@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">1</label>
									<panel x="-8@" width="-230@" height="100%" align="center">
										<slider
											slotwidth="-1%" slotheight="0.6h"
											slotcolor="1 1 1 1"
											handlewidth="70@" handleheight="70%"
											handlecolor="1 1 1 1"
											minvalue="0" maxvalue="1"
											texture="/ui/info/slider.tga"
											watch="SoundSelection"
											ontrigger="SetValue(GetSelectionVolume());"
											onslide="SetSelectionVolume(this);"
											onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
											onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
										/>
									</panel>
								</panel>
							</panel>
							<instance name="tip_mark" tip_id="sound_selected_vol" width="2.0h" height="2.0h" valign="center" align="right" />
						</panel>
					</panel>

					<!-- Selected Falloff -->
					<instance
						name="mapedit_property_text"
						save_id="18"
						label="mapedit_sound_fallofff"
						datawidth="10.0h"
						watch="SoundSelection"
						ontrigger="SetInputLine(GetSelectionFalloff());"
						onenter="SetSelectionFalloff(this); SetFocus(false); SetInputLine(GetSelectionFalloff());"
						onesc="SetInputLine(GetSelectionFalloff());"
						onshow="SetInputLine(GetSelectionFalloff());"
						tip_id="sound_selected_falloff"
					/>

					<!-- Loop Delay -->
					<panel grow="true" width="100%" float="bottom">

						<panel width="100%" height="2.5h" noclick="true">
							<label width="-1.6h" height="100%" align="center" textvalign="center" font="dyn_10" color="1 1 1 1" shadow="true" content="mapedit_sound_loop_delay" noclick="true"/>
						</panel>
						<panel grow="true" width="-2.0h" align="right" noclick="true" float="bottom">
							<!-- Min -->
							<instance
								name="mapedit_property_text"
								save_id="20"
								label="mapedit_sound_loop_min"
								datawidth="10.0h"
								watch="SoundSelection"
								ontrigger="SetInputLine(GetSelectionLoopDelayMin());"
								onenter="SetSelectionLoopDelayMin(this); SetFocus(false); SetInputLine(GetSelectionLoopDelayMin());"
								onesc="SetInputLine(GetSelectionLoopDelayMin());"
								onshow="SetInputLine(GetSelectionLoopDelayMin());"
								tip_id="sound_selected_min"
							/>
							<!-- Max -->
							<instance
								name="mapedit_property_text"
								save_id="21"
								label="mapedit_sound_loop_max"
								datawidth="10.0h"
								watch="SoundSelection"
								ontrigger="SetInputLine(GetSelectionLoopDelayMax());"
								onenter="SetSelectionLoopDelayMax(this); SetFocus(false); SetInputLine(GetSelectionLoopDelayMax());"
								onesc="SetInputLine(GetSelectionLoopDelayMax());"
								onshow="SetInputLine(GetSelectionLoopDelayMax());"
								tip_id="sound_selected_max"
							/>
						</panel>
					</panel>


				</panel>

				<panel width="100%" height="0.8h" noclick="true" />

			</panel>


		</panel>
	</panel>


	<!-- Texture Picker -->
	<panel name="paint_tool_options_texture" grow="true" regrow="true" growinvis="false" y="8.0h" width="28.0h" align="center" valign="top" cangrab="true" visible="false" onshow="bringtofront();" onclick="bringtofront();">
		<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .95" noclick="true"/>
		<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />

		<panel height="31.0h" y="0.5h" width="100%" float="bottom" reverse="true" noclick="true">

			<panel width="100%" height="2.4h" noclick="true">
				<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
					<label x="0.5h" height="100%" textvalign="center" font="dyn_10" color="white" shadow="true" content="mapedit_texture_terrain_texture" noclick="true" />
					<panel x="-0.3h" width="1.5h" height="1.5h" valign="center" align="right" color="invisible">
						<instance name="btn_closewindow" onclick="Call('paint_tool_options_texture', 'FadeOut(250);');" tip_id="gen_close_tip" />
					</panel>
				</frame>
			</panel>

			<panel width="100%" height="1.0h" noclick="true" />

			<panel width="100%" height="15.8h" noclick="true">
				<panel width="-2.0h" align="center" noclick="true">
					<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color="0 0 0 1" noclick="true"/>
					<frame texture="frames/roundframe.tga" color="#2c3c57" borderthickness="0.6h" noclick="true" />
					<listbox
						name="paint_texture_list"
						width="-0.8h" height="-0.8h"
						align="center" valign="center"
						color="0 0 0 1"
						font="dyn_10"
						itemwidth="-1.2h"
						itemheight="2.5h"
						itemtextvalign="center"
						select="true"
						hoverselect="fals"
						hoverhighlight="true"
						highlight="under"
						highlightcolor="#46adff42"
						highlightbordercolor="invisible"
						selectedcolor="#346dff52"
						selectedbordercolor="invisible"
						backgroundimage="/ui/fe2/elements/comm_item_bg.tga"
						backgroundimagecolor="#1d2f3b"
						colortransition="true"
						colortransitiontime="250"
						scrollbarplaceholder="true"
						scrollbarsize="2.0h"
						scrolltexture="/ui/info/combobox.tga"
						handleheight="2.0h"
						exteriorscrollbars="false"
						onselect="set('le_paintDiffuseTexture',this); SetFocus(false);"
						onshow="
							clearitems();
							addtexturelist('Ncombobox_item', '/world/terrain/textures/', '_d', 'color', '1 1 1 1', 'textalign', 'left', 'textvalign', 'center', 'x', '0.3h', 'y', '0.0');
							SetSelectedItemByIndex(0);
						"
					>
					</listbox>
				</panel>
			</panel>

			<panel width="100%" height="0.8h" noclick="true" />

			<panel width="100%" height="10.0h" noclick="true">

				<panel x="-5.5h" width="100@" align="center" noclick="true" color="0 0 0 1">
					<image name="paint_diffusethumbnail" wtexture="$checker" watch="PaintDiffuseTexture" ontrigger="SetTexture(param);" onclick="Call('paint_tool_options_texture', 'FadeOut(250);');" />
					<frame borderthickness="2" color="invisible" bordercolor=".2 .2 .2 1" noclick="true" />
					<frame borderthickness="1" bordercolor="0 0 0 1" color="invisible" noclick="true" />
				</panel>

				<panel x="5.5h" width="100@" align="center" noclick="true" color="0 0 0 1">
					<image name="paint_normalmapthumbnail" texture="$checker" watch="PaintNormalmapTexture" ontrigger="SetTexture(param);" onclick="Call('paint_tool_options_texture', 'FadeOut(250);');" />
					<frame borderthickness="2" color="invisible" bordercolor=".2 .2 .2 1" noclick="true" />
					<frame borderthickness="1" bordercolor="0 0 0 1" color="invisible" noclick="true" />
				</panel>

			</panel>

		</panel>
	</panel>

	<!-- Foliage Texture -->
	<panel name="foliage_texturelist_widget" grow="true" regrow="true" growinvis="false" x="-42.0h" y="-16.5h" width="28.0h" align="right" valign="center" cangrab="true" visible="false" onshow="bringtofront();" onclick="bringtofront();">
		<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .95" noclick="true"/>
		<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />

		<panel height="28.0h" y="0.5h" width="100%" float="bottom" reverse="true" noclick="true">

			<panel width="100%" height="2.4h" noclick="true">
				<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
					<label x="0.5h" height="100%" textvalign="center" font="dyn_10" color="white" shadow="true" content="mapedit_foliage_texturelist" noclick="true" />
					<panel x="-0.3h" width="1.5h" height="1.5h" valign="center" align="right" color="invisible">
						<instance name="btn_closewindow" onclick="Call('foliage_texturelist_widget', 'FadeOut(250);');" tip_id="gen_close_tip" />
					</panel>
				</frame>
			</panel>

			<panel width="100%" height="1.0h" noclick="true" />

			<panel width="100%" height="15.8h" noclick="true">
				<panel width="-2.0h" align="center" noclick="true">
					<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color="0 0 0 1" noclick="true"/>
					<frame texture="frames/roundframe.tga" color="#2c3c57" borderthickness="0.6h" noclick="true" />
					<listbox
						name="foliage_texture_list"
						width="-0.8h" height="-0.8h"
						align="center" valign="center"
						color="0 0 0 1"
						font="dyn_10"
						itemwidth="-1.2h"
						itemheight="2.5h"
						select="true"
						hoverselect="fals"
						hoverhighlight="true"
						highlight="under"
						highlightcolor="#46adff42"
						highlightbordercolor="invisible"
						selectedcolor="#346dff52"
						selectedbordercolor="invisible"
						backgroundimage="/ui/fe2/elements/comm_item_bg.tga"
						backgroundimagecolor="#1d2f3b"
						colortransition="true"
						colortransitiontime="250"
						scrollbarplaceholder="true"
						scrollbarsize="2.0h"
						scrolltexture="/ui/info/combobox.tga"
						handleheight="2.0h"
						exteriorscrollbars="false"
						onselect="set('le_foliageTexture',this); SetFocus(false);"
						onshow="
							ClearItems();
							addtexturelist('Ncombobox_item', '/world/foliage/textures/', '', 'color', '1 1 1 1', 'textvalign', 'center', 'x', '0.3h');
							SetSelectedItemByIndex(0);
						"
					>
					</listbox>
				</panel>
			</panel>

			<panel width="100%" height="0.8h" noclick="true" />

			<panel width="100%" height="7.0h" noclick="true">

				<panel width="100@" align="center" noclick="true" color=".2 .2 .2 1">
					<image name="foliage_thumbnail" texture="$checker" watch="FoliageTexture" ontrigger="SetTexture(param);" onclick="Call('foliage_texturelist_widget', 'FadeOut(250);');" />
					<frame borderthickness="2" color="invisible" bordercolor=".4 .4 .4 1" noclick="true" />
					<frame borderthickness="1" bordercolor="0 0 0 1" color="invisible" noclick="true" />
				</panel>

			</panel>

		</panel>
	</panel>

	<!-- Light Color Picker -->
	<panel name="light_color_picker" grow="true" regrow="true" growinvis="false" width="26.0h" align="center" valign="center" cangrab="true" visible="false" onshow="bringtofront();" onclick="bringtofront();" watch="LightSelection" ontrigger="SetVisible(param);">
		<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .95" noclick="true"/>
		<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />

		<panel height="19.0h" y="0.5h" width="100%" float="bottom" reverse="true" noclick="true">

			<panel width="100%" height="2.4h" noclick="true">
				<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
					<label x="0.5h" height="100%" textvalign="center" font="dyn_10" color="white" shadow="true"  content="mapedit_lights_prop" noclick="true" />
				</frame>
			</panel>

			<panel width="100%" height="0.5h" noclick="true" />

			<!-- Set Position
			<panel width="100%" height="2.8h" noclick="true">
				<panel width="-2.0h" align="center" noclick="true">
					<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_lights_position" />

					<panel width="12.0h" height="-0.6h" align="right" valign="center" noclick="true">
						<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />

						<panel x="-2.4h" width="-1.8h" align="right" float="right" noclick="true">
							<panel width="33.3%" noclick="true">
								<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color="0 0 0 1" noclick="true"/>
								<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
								<textbox
									width="-1.0h" height="-1.0h"
									align="center" valign="center"
									font="dyn_9" textcolor="white"
									color="invisible"
								/>
							</panel>
							<panel width="33.3%" noclick="true">
								<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color="0 0 0 1" noclick="true"/>
								<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
								<textbox
									width="-1.0h" height="-1.0h"
									align="center" valign="center"
									font="dyn_9" textcolor="white"
									color="invisible"
								/>
							</panel>
							<panel width="33.3%" noclick="true">
								<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color="0 0 0 1" noclick="true"/>
								<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
								<textbox
									width="-1.0h" height="-1.0h"
									align="center" valign="center"
									font="dyn_9" textcolor="white"
									color="invisible"
								/>
							</panel>
						</panel>
						<instance name="tip_mark" tip_id="paint_pri_color" width="2.0h" height="2.0h" valign="center" align="right" />
					</panel>
				</panel>
			</panel>

			<panel height="1.6h" noclick="true">
				<panel y="1" width="-2.0h" height="1" align="center" valign="center" color="0 0 0 1" noclick="true" />
				<panel y="2" width="-2.0h" height="1" align="center" valign="center" color="#1f2d43" noclick="true" />
			</panel>
			-->

			<!-- Color -->
			<panel grow="true" width="100%" noclick="true" float="bottom">

				<!-- Red -->
				<panel width="-2.0h" height="2.6h" align="center" noclick="true">
					<label height="100%" textvalign="center" color="1 0 0 1" shadow="true" font="dyn_10" noclick="true" content="mapedit_texture_red" />
					<panel x="-3.6h" width="-10.0h" height="2.2h" valign="center" align="right" noclick="true">
						<instance name="options_slider_bg" />
						<panel width="-2.0h" height="100%" align="center">
							<slider
								slotwidth="-1%" slotheight="0.6h"
								slotcolor="1 1 1 1"
								handlewidth="70@" handleheight="70%"
								handlecolor="1 1 1 1"
								minvalue="0.0"
								maxvalue="1.0"
								texture="/ui/info/slider.tga"
								onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
								onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
								onframe="DoEvent(); SetValue(GetSelectionColorR());"
								onload="Sleepwidget(1; 'DoEvent();');"
								onslide="DoEvent(); SetSelectionColorR(this);"
								onevent="Call('light_color_red_label', 'SetText (\'' # FtoA(GetSelectionColorR(), 2) # '\');');"
							/>
						</panel>
					</panel>
					<panel width="3.4h" height="2.2h" valign="center" align="right" visible="true">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
						<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
						<label name="light_color_red_label" textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" content="" />
					</panel>
				</panel>

				<!-- Green -->
				<panel width="-2.0h" height="2.6h" align="center" noclick="true">
					<label height="100%" textvalign="center" color="0 1 0 1" shadow="true" font="dyn_10" noclick="true" content="mapedit_texture_green" />
					<panel x="-3.6h" width="-10.0h" height="2.2h" valign="center" align="right" noclick="true">
						<instance name="options_slider_bg" />
						<panel width="-2.0h" height="100%" align="center">
							<slider
								slotwidth="-1%" slotheight="0.6h"
								slotcolor="1 1 1 1"
								handlewidth="70@" handleheight="70%"
								handlecolor="1 1 1 1"
								minvalue="0.0"
								maxvalue="1.0"
								texture="/ui/info/slider.tga"
								onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
								onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
								onframe="DoEvent(); SetValue(GetSelectionColorG());"
								onload="Sleepwidget(1; 'DoEvent();');"
								onslide="DoEvent(); SetSelectionColorG(this);"
								onevent="Call('light_color_green_label', 'SetText (\'' # FtoA(GetSelectionColorG(), 2) # '\');');"
							/>
						</panel>
					</panel>
					<panel width="3.4h" height="2.2h" valign="center" align="right" visible="true">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
						<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
						<label name="light_color_green_label" textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" content="" />
					</panel>
				</panel>

				<!-- Blue -->
				<panel width="-2.0h" height="2.6h" align="center" noclick="true">
					<label height="100%" textvalign="center" color="#0eb2ff" shadow="true" font="dyn_10" noclick="true" content="mapedit_texture_blue" />
					<panel x="-3.6h" width="-10.0h" height="2.2h" valign="center" align="right" noclick="true">
						<instance name="options_slider_bg" />
						<panel width="-2.0h" height="100%" align="center">
							<slider
								slotwidth="-1%" slotheight="0.6h"
								slotcolor="1 1 1 1"
								handlewidth="70@" handleheight="70%"
								handlecolor="1 1 1 1"
								minvalue="0.0"
								maxvalue="1.0"
								texture="/ui/info/slider.tga"
								onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
								onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
								onframe="DoEvent(); SetValue(GetSelectionColorB());"
								onload="Sleepwidget(1; 'DoEvent();');"
								onslide="DoEvent(); SetSelectionColorB(this);"
								onevent="Call('light_color_blue_label', 'SetText (\'' # FtoA(GetSelectionColorB(), 2) # '\');');"
							/>
						</panel>
					</panel>
					<panel width="3.4h" height="2.2h" valign="center" align="right" visible="true">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
						<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
						<label name="light_color_blue_label" textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" content="" />
					</panel>
				</panel>

			</panel>

			<panel height="1.6h" noclick="true">
				<panel y="1" width="-2.0h" height="1" align="center" valign="center" color="0 0 0 1" noclick="true" />
				<panel y="2" width="-2.0h" height="1" align="center" valign="center" color="#1f2d43" noclick="true" />
			</panel>

			<!-- Start Falloff -->
			<panel width="100%" height="3.0h" noclick="true">
				<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_lights_startfalloff" />
				<panel x="-0.8h" width="6.0h" height="-0.6h" align="right" valign="center" noclick="true">
					<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />
					<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color="0 0 0 1" noclick="true"/>
						<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
						<textbox
							width="-1.0h" height="-1.0h"
							align="center" valign="center"
							font="dyn_9" textcolor="white"
							color="invisible"
							watch="LightSelection('LightSelectionFalloff');"
							ontrigger="SetInputLine(GetSelectionStartFalloff());"
							onenter="SetSelectionStartFalloff(this); SetFocus(false); SetInputLine(GetSelectionStartFalloff());"
						/>
					</panel>
					<instance name="tip_mark" tip_id="newmap_maxplayers" width="2.0h" height="2.0h" valign="center" align="right" />
				</panel>
			</panel>

			<!-- End Falloff -->
			<panel width="100%" height="3.0h" noclick="true">
				<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_lights_endfalloff" />
				<panel x="-0.8h" width="6.0h" height="-0.6h" align="right" valign="center" noclick="true">
					<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />
					<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
						<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color="0 0 0 1" noclick="true"/>
						<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
						<textbox
							width="-1.0h" height="-1.0h"
							align="center" valign="center"
							font="dyn_9" textcolor="white"
							color="invisible"
							watch="LightSelection('LightSelectionFalloff');"
							ontrigger="SetInputLine(GetSelectionEndFalloff());"
							onenter="SetSelectionEndFalloff(this); SetFocus(false); SetInputLine(GetSelectionEndFalloff());"
						/>
					</panel>
					<instance name="tip_mark" tip_id="newmap_maxplayers" width="2.0h" height="2.0h" valign="center" align="right" />
				</panel>
			</panel>


		</panel>
	</panel>

	<!-- Cliff Properties -->
	<panel name="cliff_properties" grow="true" regrow="true" growinvis="false" x="-1.0h" y="-1.0h" width="34.0h" align="right" valign="bottom" cangrab="true" visible="false" onshow="bringtofront();" onclick="bringtofront();"
		onload="
			CreateFloat(name # '_locX', 0);
			CreateFloat(name # '_locY', 0);
		"
		onevent0="
			Set(name # '_locX', GetAbsoluteX());
			Set(name # '_locY', GetAbsoluteY());
		"
		onevent1="
			SetAbsoluteX(*(name # '_locX'));
			SetAbsoluteY(*(name # '_locY'));
		"
	>
		<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .95" noclick="true"/>
		<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />

		<panel grow="true" regrow="true" growinvis="false" y="0.5h" width="100%" float="bottom" noclick="true">

			<panel width="100%" height="2.4h" noclick="true">
				<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
					<label x="0.5h" height="100%" textvalign="center" font="dyn_10" color="white" shadow="true" content="mapedit_cliff_properties" noclick="true" />
					<panel x="-0.3h" width="1.5h" height="1.5h" valign="center" align="right" color="invisible">
						<instance name="btn_collapse" id="cliff_collpase" group="cliff_props" onclick="CallEvent('cliff_properties', 0); HideWidget('cliff_properties_container'); ShowOnly('cliff_expand'); CallEvent('cliff_properties', 1);" tip_id="gen_collapse_tip" />
						<instance name="btn_expand" id="cliff_expand" group="cliff_props" onclick="CallEvent('cliff_properties', 0); ShowWidget('cliff_properties_container'); ShowOnly('cliff_collpase'); CallEvent('cliff_properties', 1);" tip_id="gen_expand_tip" visible="false" />
					</panel>
				</frame>
			</panel>

			<panel width="100%" height="0.5h" noclick="true" />

			<panel name="cliff_properties_container" grow="true" growinvis="false" width="100%" noclick="true" float="bottom" padding="0.5h" reverse="true">


				<!-- Cliff -->
				<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
					<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_cliff_face" />
					<panel x="-0.8h" width="22.0h" height="-0.6h" align="right" valign="center" noclick="true">
						<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />
						<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
							<combobox
								width="100%"
								height="2h"
								valign="center"
								color="invisible"
								itemwidth="100%"
								itemheight="2h"
								maxlistheight="8"
								exteriorscrollbars="false"
								scrolltexture="/ui/info/combobox.tga"
								handleheight="100@" handlewidth="100%"
								scrollbarsize="2h"
								scrollbaroffset="0"
								highlight="under"
								highlightbordercolor="white"
								watch="EntitySelection"
								onselect="Set('le_cliffDefinition', this);"
								onshow="
									ClearItems();
									UpdateDirList('path=\'/world/cliffs/\' wildcard=\'*.cliff\' showpath=\'false\' x=\'0.3h\' font=\'dyn_8\' color=\'1 1 1 1\' textvalign=\'center\'');
									SetSelectedItemByIndex(0);
								"
							>
								<instance name="Noptions_combobox_state" state="up" color="1 1 1 1" image="up"/>
								<instance name="Noptions_sdcombobox_state" state="over" color="#69ccff" image="over"/>
								<instance name="Noptions_combobox_state" state="down" color="#69ccff" image="over"/>
								<widgetstate statename="listbg">
									<frame height="+2.7h" y="-1.9h" texture="/ui/info/combobox_dropdown.tga" borderthickness="3h" color="1 1 1 1" />
								</widgetstate>
								<widgetstate statename="itembg">
									<panel width="100%" />
								</widgetstate>
								<widgetstate statename="itemhighlight">
									<panel width="100%" texture="/ui/info/header_bar_c.tga" color="1 1 1 1">
										<panel width="100%" height="100%" >
											<image height="50%" width="32" align="left" valign="top" color="1 1 1 1" texture="/ui/info/header_bar_tl.tga" noclick="1"/>
											<image height="50%" width="32" align="left" valign="bottom" color="1 1 1 1" texture="/ui/info/header_bar_bl.tga" noclick="1"/>
											<image height="50%" width="32" align="right" valign="top" color="1 1 1 1" texture="/ui/info/header_bar_tr.tga" noclick="1"/>
											<image height="50%" width="32" align="right" valign="bottom" color="1 1 1 1" texture="/ui/info/header_bar_br.tga" noclick="1"/>
										</panel>
									</panel>
								</widgetstate>
							</combobox>
						</panel>
						<instance name="tip_mark" tip_id="ramp_cliff_face_tip" width="2.0h" height="2.0h" valign="center" align="right" />
					</panel>
				</panel>

				<!-- Variation -->
				<panel width="100%" height="3.0h" noclick="true" sticky="true" stickytoinvis="false">
					<label x="0.8h" height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_cliff_var" />
					<panel x="-0.8h" width="22.0h" height="-0.6h" align="right" valign="center" noclick="true">
						<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />
						<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
							<combobox
								width="100%"
								height="2h"
								valign="center"
								color="invisible"
								itemwidth="100%"
								itemheight="2h"
								maxlistheight="8"
								exteriorscrollbars="false"
								scrolltexture="/ui/info/combobox.tga"
								handleheight="100@" handlewidth="100%"
								scrollbarsize="2h"
								scrollbaroffset="0"
								highlight="under"
								highlightbordercolor="white"
								onselect="Set('le_cliffVariation', this);"
							>
								<instance name="Noptions_combobox_state" state="up" color="1 1 1 1" image="up"/>
								<instance name="Noptions_combobox_state" state="over" color="#69ccff" image="over"/>
								<instance name="Noptions_combobox_state" state="down" color="#69ccff" image="over"/>
								<widgetstate statename="listbg">
									<frame height="+2.7h" y="-1.9h" texture="/ui/info/combobox_dropdown.tga" borderthickness="3h" color="1 1 1 1" />
								</widgetstate>
								<widgetstate statename="itembg">
									<panel width="100%" />
								</widgetstate>
								<widgetstate statename="itemhighlight">
									<panel width="100%" texture="/ui/info/header_bar_c.tga" color="1 1 1 1">
										<panel width="100%" height="100%" >
											<image height="50%" width="32" align="left" valign="top" color="1 1 1 1" texture="/ui/info/header_bar_tl.tga" noclick="1"/>
											<image height="50%" width="32" align="left" valign="bottom" color="1 1 1 1" texture="/ui/info/header_bar_bl.tga" noclick="1"/>
											<image height="50%" width="32" align="right" valign="top" color="1 1 1 1" texture="/ui/info/header_bar_tr.tga" noclick="1"/>
											<image height="50%" width="32" align="right" valign="bottom" color="1 1 1 1" texture="/ui/info/header_bar_br.tga" noclick="1"/>
										</panel>
									</panel>
								</widgetstate>
								<listitem value="0"><label x="0.8h" font="dyn_8" color="1 1 1 1" textvalign="center">A</label> </listitem>
								<listitem value="1"><label x="0.8h" font="dyn_8" color="1 1 1 1" textvalign="center">B</label></listitem>
								<listitem value="2"><label x="0.8h" font="dyn_8" color="1 1 1 1" textvalign="center">C</label></listitem>
								<listitem value="3"><label x="0.8h" font="dyn_8" color="1 1 1 1" textvalign="center">D</label></listitem>
							</combobox>
						</panel>
						<instance name="tip_mark" tip_id="ramp_variation_tip" width="2.0h" height="2.0h" valign="center" align="right" />
					</panel>
					<panel name="mapedit_ramp_var_cover" group="cliff_properties" y="0" width="100%" height="100%" visible="false" onload="SetVisible(le_cliffrandom);">
						<frame width="-1.0h" align="center" texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .8" noclick="true"/>
						<frame width="-1.0h" align="center" texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />
					</panel>
				</panel>

				<panel width="100%" height="0.8h" noclick="true" />

			</panel>


		</panel>
	</panel>


	<!-- Minimap -->
	<panel name="minimap_parent" grow="true" regrow="true" growinvis="false" x="-0.2h" y="3.0h" width="22.0h" align="right" cangrab="true" onclick="bringtofront();"

		onload="
			CreateFloat(name # '_locX', 0);
			CreateFloat(name # '_locY', 0);
		"
		onevent0="
			Set(name # '_locX', GetAbsoluteX());
			Set(name # '_locY', GetAbsoluteY());
		"
		onevent1="
			SetAbsoluteX(*(name # '_locX'));
			SetAbsoluteY(*(name # '_locY'));
		"
	>
		<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .85" noclick="true"/>
		<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />

		<panel grow="true" regrow="true" growinvis="false" y="0.5h" width="100%" float="bottom" noclick="true">

			<panel width="100%" height="2.4h" noclick="true">
				<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
					<label x="0.5h" height="100%" textvalign="center" font="dyn_10" color="white" shadow="true"  content="mapedit_minimap" noclick="true" />
					<panel x="-0.3h" width="1.5h" height="1.5h" valign="center" align="right" color="invisible">
						<instance name="btn_collapse" id="minimap_collpase" group="minmap" onclick="CallEvent('minimap_parent', 0); HideWidget('minimap_container'); ShowOnly('minimap_expand'); CallEvent('minimap_parent', 1);" tip_id="gen_collapse_tip" visible="false" />
						<instance name="btn_expand" id="minimap_expand" group="minmap" onclick="CallEvent('minimap_parent', 0); ShowWidget('minimap_container'); ShowOnly('minimap_collpase'); CallEvent('minimap_parent', 1);" tip_id="gen_expand_tip" />
					</panel>
				</frame>
			</panel>
			<panel width="100%" height="0.5h" noclick="true" />

			<panel name="minimap_container" height="24.0h" width="100%" align="center" visible="false" noclick="true">
				<map name="editor_minimap" width="21.0h" height="21.0h" align="center" valign="top" texture="!minimap_texture" watch="Minimap"/>
				<frame color="invisible" width="21.0h" height="21.0h" align="center" valign="top" borderthickness="1" bordercolor="0 0 0 1" noclick="true"/>
				<!-- Refresh Button -->
				<instance
					name="button2"
					y="-0.5h"
					width="18.0h"
					height="2.0h"
					align="center" valign="bottom"
					label="Update Mini Map Image"
					borderthickness="0.4h"
					onclick="UpdateMinimapTexture();"
				/>
			</panel>

		</panel>

	</panel>

	<!-- Script Editor -->
	<panel name="script_editor_back" grow="true" regrow="true" growinvis="false" width="90.0h" align="center" valign="center" cangrab="true" visible="false" onshow="bringtofront();" onclick="bringtofront();">
		<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .95" noclick="true"/>
		<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />

		<panel height="69.5h" y="0.5h" width="100%" float="bottom" reverse="true" noclick="true">

			<panel width="100%" height="2.4h" noclick="true">
				<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
					<label x="0.5h" height="100%" textvalign="center" font="dyn_10" color="white" shadow="true"  content="mapedit_scriptedit_title" noclick="true" />
					<panel x="-0.3h" width="1.5h" height="1.5h" valign="center" align="right" color="invisible">
						<instance name="btn_closewindow" onclick="Call('script_editor_back', 'FadeOut(250);');" tip_id="gen_close_tip" />
					</panel>
				</frame>
			</panel>

			<panel width="100%" height="3.0h" noclick="true">
				<label x="0.8h" fity="true" height="100%" valign="center" textvalign="center" font="dyn_10" color=".8 .8 .8 1" shadow="true"  content="{{Script Name}}" noclick="true" />
			</panel>

			<panel width="100%" height="60.0h" noclick="true">
				<panel width="-2.0h" align="center" color="0 0 0 1" noclick="true">
					<textbuffer
						name="script_editor"
						width="-1.6h" height="-1.6h"
						align="center" valign="center"
						scrolltexture="/ui/info/combobox.tga"
						handleheight="2.25h"
						scrollbarsize="2.25h"
						exteriorscrollbars="false"
						font="system_12"
						textcolor=".9 .9 .9 1"
						wrap="true"
						editable="true"
						color="0 0 0 1"
						onclick="Call('script_editor_back', 'bringtofront();');"
						onshow="if(le_globalScript, SetBufferText(GetGlobalScript(le_currentScript)), SetBufferText(GetSelectionProperty(le_currentScript))); SetFocus(true);"
						onhide="ClearBufferText();"
					/>
					<frame color="invisible" borderthickness="1" bordercolor=".2 .2 .2 1" noclick="true" />
				</panel>
			</panel>

			<panel width="100%" height="1.0h" noclick="true" />

			<panel height="2.0h" width="100%" noclick="true">
				<instance
					name="button2"
					x="1.0h"
					width="9.0h"
					align="left" valign="bottom"
					label="general_cancel"
					borderthickness="0.4h"
					onclick="Call('script_editor_back', 'FadeOut(250);');"
				/>

				<instance
					name="button2"
					x="-1.0h"
					width="14.0h"
					align="right" valign="bottom"
					label="mapedit_scriptedit_save"
					borderthickness="0.4h"
					onclick="Call('script_editor', 'Set(le_scriptData,this);'); HideWidget('script_editor_back'); if(le_globalScript, SetGlobalScript(le_currentScript,le_scriptData), SetSelectionProperty(le_currentScript,le_scriptData));"
				/>
			</panel>
		</panel>
	</panel>

	<!-- Environment Settings -->
	<panel name="enviro_settings" grow="true" regrow="true" growinvis="false" x="0" y="0" width="80.0h" align="center" valign="center" cangrab="true" visible="false" onshow="bringtofront();" onclick="bringtofront();"

		onload="
			CreateFloat(name # '_locX', 0);
			CreateFloat(name # '_locY', 0);
		"
		onevent0="
			Set(name # '_locX', GetAbsoluteX());
			Set(name # '_locY', GetAbsoluteY());
		"
		onevent1="
			SetAbsoluteX(*(name # '_locX'));
			SetAbsoluteY(*(name # '_locY'));
		"
	>
		<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .95" noclick="true"/>
		<frame texture="frames/roundframe.tga" color="0 0 0 1" borderthickness="0.6h" noclick="true" />

		<panel grow="true" regrow="true" growinvis="false" y="0.5h" width="100%" float="bottom" noclick="true">

			<panel width="100%" height="2.4h" noclick="true">
				<frame texture="frames/square_bg_gradient.tga" borderthickness="1" bordercolor="0 0 0 .5" style="dragbar" noclick="true">
					<label x="0.5h" height="100%" textvalign="center" font="dyn_10" color="white" shadow="true"  content="mapedit_enviro" noclick="true" />
					<panel x="-2.1h" width="1.5h" height="1.5h" valign="center" align="right" color="invisible">
						<instance name="btn_collapse" id="enviro_collpase" group="enviro" onclick="CallEvent('enviro_settings', 0); HideWidget('enviro_container'); ShowOnly('enviro_expand'); CallEvent('enviro_settings', 1);" tip_id="gen_collapse_tip" />
						<instance name="btn_expand" id="enviro_expand" group="enviro" onclick="CallEvent('enviro_settings', 0); ShowWidget('enviro_container'); ShowOnly('enviro_collpase'); CallEvent('enviro_settings', 1);" tip_id="gen_expand_tip" visible="false" />
					</panel>
					<panel x="-0.3h" width="1.5h" height="1.5h" valign="center" align="right" color="invisible">
						<instance name="btn_closewindow" onclick="HideWidget('enviro_btn_on'); Call('enviro_settings', 'FadeOut(250);');" tip_id="gen_close_tip" />
					</panel>
				</frame>
			</panel>
			<panel width="100%" height="0.5h" noclick="true" />

			<panel name="enviro_container" grow="true" width="100%" align="center" visible="true" noclick="true">
				
				<!-- Left -->
				<panel x="1.0h" grow="true" width="37h" float="bottom" noclick="true" reverse="true">
				
					<!-- Ambient/Sun Colors -->
					<panel grow="true" width="100%" align="center" noclick="true" float="bottom" reverse="true">
					
						<label fity="true" fitypadding="0.5h" style="h1" content="mapedit_enviro_cat_lighting" noclick="true"/>
						
						<!-- TOD -->
						<panel width="100%" height="3.0h" noclick="true">
							<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_tod" />
							<panel width="15.0h" height="-0.6h" align="right" valign="center" noclick="true">
								<panel x="-2.4h" width="100%" align="right" noclick="true">								
									<combobox
										name="le_tod"
										width="100%"
										height="2h"
										valign="center"
										color="invisible"
										itemwidth="100%"
										itemheight="2h"
										exteriorscrollbars="false"
										scrolltexture="/ui/info/combobox.tga"
										handleheight="100@" handlewidth="100%"
										scrollbarsize="2h"
										scrollbaroffset="0"
										highlight="under"
										highlightbordercolor="white"
										onmouseover="PlaySound('/shared/sounds/ui/button_over_02.wav');"
										onselect="
											Set(
												'scene_entityAmbientColor',
												*('tod_entityAmbientColor' # this)
											);
											Set(
												'scene_entitySunColor',
												*('tod_entitySunColor' # this)
											);
											Set(
												'scene_terrainAmbientColor',
												*('tod_terrainAmbientColor' # this)
											);
											Set(
												'scene_terrainSunColor',
												*('tod_terrainSunColor' # this)
											);
										"
										onload="SetSelectedItemByValue(2);"
									>
										<instance name="Noptions_combobox_state" state="up" color="1 1 1 1" image="up"/>
										<instance name="Noptions_combobox_state" state="over" color="#69ccff" image="over"/>
										<instance name="Noptions_combobox_state" state="down" color="#69ccff" image="over"/>
										<widgetstate statename="listbg">
											<frame height="+2.7h" y="-1.9h" texture="/ui/info/combobox_dropdown.tga" borderthickness="3h" color="1 1 1 1" />
										</widgetstate>
										<widgetstate statename="itembg">
											<panel width="100%" />
										</widgetstate>
										<widgetstate statename="itemhighlight">
											<panel width="100%" texture="/ui/info/header_bar_c.tga" color="1 1 1 1">
												<panel width="100%" height="100%" >
													<image height="50%" width="32" align="left" valign="top" color="1 1 1 1" texture="/ui/info/header_bar_tl.tga" noclick="1"/>
													<image height="50%" width="32" align="left" valign="bottom" color="1 1 1 1" texture="/ui/info/header_bar_bl.tga" noclick="1"/>
													<image height="50%" width="32" align="right" valign="top" color="1 1 1 1" texture="/ui/info/header_bar_tr.tga" noclick="1"/>
													<image height="50%" width="32" align="right" valign="bottom" color="1 1 1 1" texture="/ui/info/header_bar_br.tga" noclick="1"/>		
												</panel>
											</panel>
										</widgetstate>										
										<listitem value="1"><label height="100%" x="50@" font="dyn_9" color="white" textvalign="center" shadow="true" content="mapedit_enviro_tod_1"/></listitem>
										<listitem value="2"><label height="100%" x="50@" font="dyn_9" color="white" textvalign="center" shadow="true" content="mapedit_enviro_tod_2"/></listitem>
										<listitem value="3"><label height="100%" x="50@" font="dyn_9" color="white" textvalign="center" shadow="true" content="mapedit_enviro_tod_3"/></listitem>
										<listitem value="4"><label height="100%" x="50@" font="dyn_9" color="white" textvalign="center" shadow="true" content="mapedit_enviro_tod_4"/></listitem>
									</combobox>								
								</panel>
								<instance name="tip_mark" tip_id="enviro_tod" width="2.0h" height="2.0h" valign="center" align="right" />					
							</panel>							
						</panel>
				
						<!-- Ambient/Sun Colors -->
						<panel grow="true" y="5.6h" width="100%" align="center" noclick="true">
						
							<!-- Entity / Terrain Lock -->
							<panel height="7.0h" width="2.0h" valign="center" noclick="true">					
								<panel x="0.7h" width="1" height="100%" valign="center" color=".5 .5 .5 1"/>						
								<panel width="-0.7h" height="1" valign="top" align="right" color=".5 .5 .5 1"/>
								<panel width="-0.7h" height="1" valign="bottom" align="right" color=".5 .5 .5 1"/>						
								<button
									width="1.4h" height="1.4h"
									valign="center"
									color="invisible"
									numstates="2"
									onclick="Set('le_lighting_lock', GetButtonState());"
									onmouseover=""
									onmouseout=""
								>
									<widgetstate statename="up">
										<panel color=".8 .8 .8 1">
											<image width="1.2h" height="1.2h" align="center" valign="center" texture="elements/unlink.tga"/>
											<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
										</panel>
									</widgetstate>
									<widgetstate statename="over">
										<panel color=".8 .8 .8 1">
											<image width="1.2h" height="1.2h" align="center" valign="center" texture="elements/unlink.tga"/>
											<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
										</panel>
									</widgetstate>
									<widgetstate statename="down">
										<panel color=".8 .8 .8 1">
											<image width="1.2h" height="1.2h" align="center" valign="center" texture="elements/unlink.tga"/>
											<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
										</panel>
									</widgetstate>
									<widgetstate statename="up2">
										<panel color=".5 .5 .5 1">
											<image width="1.2h" height="1.2h" align="center" valign="center" texture="elements/link.tga"/>
											<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
										</panel>
									</widgetstate>
									<widgetstate statename="over2">
										<panel color=".5 .5 .5 1">
											<image width="1.2h" height="1.2h" align="center" valign="center" texture="elements/link.tga"/>
											<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
										</panel>
									</widgetstate>
									<widgetstate statename="down2">
										<panel color=".5 .5 .5 1">
											<image width="1.2h" height="1.2h" align="center" valign="center" texture="elements/link.tga"/>
											<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
										</panel>
									</widgetstate>
								</button>					
							</panel>
							
							<!-- Entity / Terrain Colors -->
							<panel grow="true" width="-2.6h" align="right" float="bottom" noclick="true">					
								<!-- Entity Ambient -->
								<panel width="100%" height="3.0h" noclick="true">
									<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_entity_ambient" />
									<panel width="6.0h" height="-0.6h" align="right" valign="center" noclick="true">					
										<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />					
										<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
											<swatch cvar="scene_entityAmbientColor" onclick="ShowOnly('object_ambient_color');" />
											<frame valign="center" borderthickness="2" color="invisible" bordercolor="1 1 1 .2" noclick="true" />
											<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
										</panel>
										<instance name="tip_mark" tip_id="enviro_entity_ambient" width="2.0h" height="2.0h" valign="center" align="right" />					
									</panel>
								</panel>
								
								<!-- Entity Sun -->
								<panel width="100%" height="3.0h" noclick="true">
									<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_entity_sun" />
									<panel width="6.0h" height="-0.6h" align="right" valign="center" noclick="true">					
										<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />					
										<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
											<swatch cvar="scene_entitySunColor" onclick="ShowOnly('object_sun_color');" />
											<frame valign="center" borderthickness="2" color="invisible" bordercolor="1 1 1 .2" noclick="true" />
											<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
										</panel>
										<instance name="tip_mark" tip_id="enviro_entity_sun" width="2.0h" height="2.0h" valign="center" align="right" />					
									</panel>							
								</panel>
								
								<panel width="100%" height="1.0h" noclick="true">
									<panel y="0" width="100%" height="1" align="center" valign="center" color="0 0 0 1" noclick="true" />
									<panel y="1" width="100%" height="1" align="center" valign="center" color="#1f2d43" noclick="true" />
								</panel>
								
								<!-- Terrain Ambient -->
								<panel width="100%" height="3.0h" noclick="true">
									<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_terrain_ambient" />
									<panel width="6.0h" height="-0.6h" align="right" valign="center" noclick="true">					
										<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />					
										<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
											<swatch cvar="scene_terrainAmbientColor" onclick="ShowOnly('terrain_ambient_color');" />
											<frame valign="center" borderthickness="2" color="invisible" bordercolor="1 1 1 .2" noclick="true" />
											<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
										</panel>
										<instance name="tip_mark" tip_id="enviro_terrain_ambient" width="2.0h" height="2.0h" valign="center" align="right" />					
									</panel>							
								</panel>
								
								<!-- Terrain Sun -->
								<panel width="100%" height="3.0h" noclick="true">
									<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_terrain_sun" />
									<panel width="6.0h" height="-0.6h" align="right" valign="center" noclick="true">					
										<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />					
										<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
											<swatch cvar="scene_terrainSunColor" onclick="ShowOnly('terrain_sun_color');" />
											<frame valign="center" borderthickness="2" color="invisible" bordercolor="1 1 1 .2" noclick="true" />
											<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
										</panel>
										<instance name="tip_mark" tip_id="enviro_terrain_sun" width="2.0h" height="2.0h" valign="center" align="right" />					
									</panel>							
								</panel>
							
							</panel>
							
						</panel>
							
					</panel>
					
					<panel width="100%" height="1.6h" noclick="true">
						<panel y="1" width="100%" height="1" align="center" valign="center" color="0 0 0 1" noclick="true" />
						<panel y="2" width="100%" height="1" align="center" valign="center" color="#1f2d43" noclick="true" />
					</panel>				
				
					<!-- Sun -->
					<panel grow="true" width="100%" align="center" noclick="true" float="bottom">
					
						<label fity="true" fitypadding="0.5h" style="h1" content="mapedit_enviro_cat_sunopts" noclick="true"/>
						
						<!-- Sun Altitude -->
						<panel width="100%" height="3.0h" noclick="true">
							<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_sun_altitude" />
							<panel width="15.0h" height="-0.6h" align="right" valign="center" noclick="true">
								<panel x="-2.4h" width="100%" align="right" noclick="true">									
									<panel width="120@" height="100%">
										<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
										<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
										<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="scene_sunAltitude" numeric="true" numerictype="float" precision="0" />
									</panel>									
									<panel width="-130@" align="right" noclick="true">													
										<instance name="options_slider_bg" />
										<label color="white" width="130@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">0</label>
										<label color="white" width="130@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">90</label>										
										<panel x="-8@" width="-230@" height="100%" align="center">
											<slider
												slotwidth="-1%" slotheight="0.6h"
												slotcolor="1 1 1 1"
												handlewidth="70@" handleheight="70%"
												handlecolor="1 1 1 1"
												cvar="scene_sunAltitude"
												minvalue="0" maxvalue="90"
												texture="/ui/info/slider.tga"
												onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
												onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
											/>
										</panel>									
									</panel>								
								</panel>
								<instance name="tip_mark" tip_id="enviro_sun_altitude_tip" width="2.0h" height="2.0h" valign="center" align="right" />					
							</panel>							
						</panel>
						
					
						<!-- Sun Azimuth -->
						<panel width="100%" height="3.0h" noclick="true">
							<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_sun_azimuth" />
							<panel width="15.0h" height="-0.6h" align="right" valign="center" noclick="true">
								<panel x="-2.4h" width="100%" align="right" noclick="true">									
									<panel width="120@" height="100%">
										<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
										<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
										<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="scene_sunAzimuth" numeric="true" numerictype="float" precision="0" />
									</panel>									
									<panel width="-130@" align="right" noclick="true">													
										<instance name="options_slider_bg" />
										<label color="white" width="130@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">0</label>
										<label color="white" width="130@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">360</label>										
										<panel x="-8@" width="-230@" height="100%" align="center">
											<slider
												slotwidth="-1%" slotheight="0.6h"
												slotcolor="1 1 1 1"
												handlewidth="70@" handleheight="70%"
												handlecolor="1 1 1 1"
												cvar="scene_sunAzimuth"
												minvalue="0" maxvalue="360"
												texture="/ui/info/slider.tga"
												onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
												onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
											/>
										</panel>									
									</panel>								
								</panel>
								<instance name="tip_mark" tip_id="enviro_sun_azimuth_tip" width="2.0h" height="2.0h" valign="center" align="right" />					
							</panel>							
						</panel>
						
						
						<!-- Sun Sprite Color -->	
						<panel width="100%" height="3.0h" noclick="true">
							<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_sun_spritecolor" />
							<panel width="6.0h" height="-0.6h" align="right" valign="center" noclick="true">					
								<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />					
								<panel x="-2.4h" width="-1.8h" align="right" noclick="true" color="0 0 0 1">
									<image name="image" texture="$checker" />
									<swatch cvar="scene_sunColor" onclick="ShowOnly('sun_color');"/>
									<frame valign="center" borderthickness="2" color="invisible" bordercolor="1 1 1 .2" noclick="true" />
									<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
								</panel>
								<instance name="tip_mark" tip_id="enviro_sun_spritecolor_tip" width="2.0h" height="2.0h" valign="center" align="right" />					
							</panel>							
						</panel>						
						
						<panel width="100%" height="0.5h" />
					
						<!-- Sprite Enabled -->
						<instance
							name="Noptions_checkbox"
							tip_id="enviro_sun_enabled_tip"
							align="left"
							font="dyn_10" label="mapedit_enviro_sun_enabled"
							cvar="scene_drawSun"
						/>
						
					</panel>
					
					<panel width="100%" height="1.6h" noclick="true">
						<panel y="1" width="100%" height="1" align="center" valign="center" color="0 0 0 1" noclick="true" />
						<panel y="2" width="100%" height="1" align="center" valign="center" color="#1f2d43" noclick="true" />
					</panel>
					
					<!-- Clouds -->
					<panel grow="true" width="100%" align="center" noclick="true" float="bottom" reverse="true">
					
						<label fity="true" fitypadding="0.5h" style="h1" content="mapedit_enviro_cloud_opts" noclick="true"/>
						
						<!-- Cloud Texture -->
						<panel width="100%" height="3.0h" noclick="true">
							<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_cloud_tex" />
							<panel width="19.0h" height="-0.6h" align="right" valign="center" noclick="true">
								<panel x="-2.4h" width="100%" align="right" noclick="true">								
									<combobox
										width="100%"
										height="2h"
										valign="center"
										color="invisible"
										itemwidth="100%"
										itemheight="2h"
										exteriorscrollbars="false"
										scrolltexture="/ui/info/combobox.tga"
										handleheight="100@" handlewidth="100%"
										scrollbarsize="2h"
										scrollbaroffset="0"
										highlight="under"
										highlightbordercolor="white"
										onmouseover="PlaySound('/shared/sounds/ui/button_over_02.wav');"
										onselect="Set('gfx_cloudTexture',this);"
										onshow="SetSelectedItemByValue(gfx_cloudTexture);"
									>
										<instance name="Noptions_combobox_state" state="up" color="1 1 1 1" image="up"/>
										<instance name="Noptions_combobox_state" state="over" color="#69ccff" image="over"/>
										<instance name="Noptions_combobox_state" state="down" color="#69ccff" image="over"/>
										<widgetstate statename="listbg">
											<frame height="+2.7h" y="-1.9h" texture="/ui/info/combobox_dropdown.tga" borderthickness="3h" color="1 1 1 1" />
										</widgetstate>
										<widgetstate statename="itembg">
											<panel width="100%" />
										</widgetstate>
										<widgetstate statename="itemhighlight">
											<panel width="100%" texture="/ui/info/header_bar_c.tga" color="1 1 1 1">
												<panel width="100%" height="100%" >
													<image height="50%" width="32" align="left" valign="top" color="1 1 1 1" texture="/ui/info/header_bar_tl.tga" noclick="1"/>
													<image height="50%" width="32" align="left" valign="bottom" color="1 1 1 1" texture="/ui/info/header_bar_bl.tga" noclick="1"/>
													<image height="50%" width="32" align="right" valign="top" color="1 1 1 1" texture="/ui/info/header_bar_tr.tga" noclick="1"/>
													<image height="50%" width="32" align="right" valign="bottom" color="1 1 1 1" texture="/ui/info/header_bar_br.tga" noclick="1"/>		
												</panel>
											</panel>
										</widgetstate>
										<dirlistitems path="/world/sky/cloud_shadows" wildcard="*.tga" showpath="false" x="0.4h" font="dyn_9" color="white" textvalign="center" shadow="true" />
									</combobox>								
								</panel>
								<instance name="tip_mark" tip_id="enviro_cloud_tex_tip" width="2.0h" height="2.0h" valign="center" align="right" />					
							</panel>							
						</panel>

						
						<!-- Cloud Scale -->
						<panel width="100%" height="3.0h" noclick="true">
							<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_cloud_scale" />
							<panel width="19.0h" height="-0.6h" align="right" valign="center" noclick="true">
								<panel x="-2.4h" width="100%" align="right" noclick="true">																		
									<panel width="100%" align="right" noclick="true">													
										<instance name="options_slider_bg" />
										<label color="white" width="200@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">10</label>
										<label color="white" width="200@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">1,000</label>										
										<panel width="-380@" height="100%" align="center">
											<slider
												slotwidth="-1%" slotheight="0.6h"
												slotcolor="1 1 1 1"
												handlewidth="70@" handleheight="70%"
												handlecolor="1 1 1 1"
												cvar="gfx_cloudScale"
												minvalue="10" maxvalue="1000"
												texture="/ui/info/slider.tga"
												onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
												onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
											/>
										</panel>									
									</panel>								
								</panel>
								<instance name="tip_mark" tip_id="enviro_cloud_scale_tip" width="2.0h" height="2.0h" valign="center" align="right" />					
							</panel>							
						</panel>
						
						
						<!-- Cloud SpeedX -->
						<panel width="100%" height="3.0h" noclick="true">
							<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_cloud_spdX" />
							<panel width="19.0h" height="-0.6h" align="right" valign="center" noclick="true">
								<panel x="-2.4h" width="100%" align="right" noclick="true">																		
									<panel width="100%" align="right" noclick="true">													
										<instance name="options_slider_bg" />
										<label color="white" width="200@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">-1,000</label>
										<label color="white" width="200@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">1,000</label>										
										<panel width="-380@" height="100%" align="center">
											<slider
												slotwidth="-1%" slotheight="0.6h"
												slotcolor="1 1 1 1"
												handlewidth="70@" handleheight="70%"
												handlecolor="1 1 1 1"
												cvar="gfx_cloudSpeedX"
												minvalue="-1000" maxvalue="1000"
												texture="/ui/info/slider.tga"
												onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
												onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
											/>
										</panel>									
									</panel>								
								</panel>
								<instance name="tip_mark" tip_id="enviro_cloud_spdX_tip" width="2.0h" height="2.0h" valign="center" align="right" />					
							</panel>							
						</panel>
						
						
						<!-- Cloud SpeedY -->
						<panel width="100%" height="3.0h" noclick="true">
							<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_cloud_spdY" />
							<panel width="19.0h" height="-0.6h" align="right" valign="center" noclick="true">
								<panel x="-2.4h" width="100%" align="right" noclick="true">																		
									<panel width="100%" align="right" noclick="true">													
										<instance name="options_slider_bg" />
										<label color="white" width="200@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">-1,000</label>
										<label color="white" width="200@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">1,000</label>										
										<panel width="-380@" height="100%" align="center">
											<slider
												slotwidth="-1%" slotheight="0.6h"
												slotcolor="1 1 1 1"
												handlewidth="70@" handleheight="70%"
												handlecolor="1 1 1 1"
												cvar="gfx_cloudSpeedY"
												minvalue="-1000" maxvalue="1000"
												texture="/ui/info/slider.tga"
												onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
												onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
											/>
										</panel>									
									</panel>								
								</panel>
								<instance name="tip_mark" tip_id="enviro_cloud_spdY_tip" width="2.0h" height="2.0h" valign="center" align="right" />					
							</panel>							
						</panel>
						
						<panel width="100%" height="0.5h" />					
						<!-- Sprite Enabled -->
						<instance
							name="Noptions_checkbox"
							tip_id="enviro_cloud_proj_tip"
							align="left"
							font="dyn_10" label="mapedit_enviro_cloud_proj"
							cvar="gfx_clouds"
						/>
						
					</panel>
		
				
					<panel width="100%" height="1.8h" noclick="true" />
					
				</panel>
				
				<panel x="-1" y="0.8h" width="1" height="-1.6h" align="center" valign="top" color="0 0 0 1" noclick="true" />
				<panel x="0" y="0.8h" width="1" height="-1.6h" align="center" valign="top" color=".2 .2 .2 1" noclick="true" />
				
				<!-- Right -->
				<panel x="-1.0h" grow="true" width="37h" align="right" float="bottom" noclick="true" reverse="true">

					<!-- Fog / Sky -->
					<panel grow="true" width="100%" align="center" noclick="true" float="bottom" reverse="true">
					
						<label fity="true" fitypadding="0.5h" style="h1" content="mapedit_enviro_fogsky_opts" noclick="true"/>
						
						<!-- Fog Mode-->
						<panel width="100%" height="3.0h" noclick="true">
							<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_fog_mode" />
							<panel width="19.0h" height="-0.6h" align="right" valign="center" noclick="true">
								<panel x="-2.4h" width="100%" align="right" noclick="true">								
									<combobox
										name="le_fogmode"
										width="100%"
										height="2h"
										valign="center"
										color="invisible"
										itemwidth="100%"
										itemheight="2h"
										exteriorscrollbars="false"
										scrolltexture="/ui/info/combobox.tga"
										handleheight="100@" handlewidth="100%"
										scrollbarsize="2h"
										scrollbaroffset="0"
										highlight="under"
										highlightbordercolor="white"
										onmouseover="PlaySound('/shared/sounds/ui/button_over_02.wav');"
										onselect="Set('gfx_fogType',this);"
										onload="SetSelectedItemByValue(gfx_fogType);"
									>
										<instance name="Noptions_combobox_state" state="up" color="1 1 1 1" image="up"/>
										<instance name="Noptions_combobox_state" state="over" color="#69ccff" image="over"/>
										<instance name="Noptions_combobox_state" state="down" color="#69ccff" image="over"/>
										<widgetstate statename="listbg">
											<frame height="+2.7h" y="-1.9h" texture="/ui/info/combobox_dropdown.tga" borderthickness="3h" color="1 1 1 1" />
										</widgetstate>
										<widgetstate statename="itembg">
											<panel width="100%" />
										</widgetstate>
										<widgetstate statename="itemhighlight">
											<panel width="100%" texture="/ui/info/header_bar_c.tga" color="1 1 1 1">
												<panel width="100%" height="100%" >
													<image height="50%" width="32" align="left" valign="top" color="1 1 1 1" texture="/ui/info/header_bar_tl.tga" noclick="1"/>
													<image height="50%" width="32" align="left" valign="bottom" color="1 1 1 1" texture="/ui/info/header_bar_bl.tga" noclick="1"/>
													<image height="50%" width="32" align="right" valign="top" color="1 1 1 1" texture="/ui/info/header_bar_tr.tga" noclick="1"/>
													<image height="50%" width="32" align="right" valign="bottom" color="1 1 1 1" texture="/ui/info/header_bar_br.tga" noclick="1"/>		
												</panel>
											</panel>
										</widgetstate>										
										<listitem value="0"><label height="100%" x="50@" font="dyn_9" color="white" textvalign="center" shadow="true" content="None"/></listitem>
										<listitem value="1"><label height="100%" x="50@" font="dyn_9" color="white" textvalign="center" shadow="true" content="Linear"/></listitem>
										<listitem value="2"><label height="100%" x="50@" font="dyn_9" color="white" textvalign="center" shadow="true" content="Exponential"/></listitem>
										<listitem value="3"><label height="100%" x="50@" font="dyn_9" color="white" textvalign="center" shadow="true" content="Exponential^2"/></listitem>
										<listitem value="4"><label height="100%" x="50@" font="dyn_9" color="white" textvalign="center" shadow="true" content="Hermite"/></listitem>						
									</combobox>								
								</panel>
								<instance name="tip_mark" tip_id="enviro_fog_mode_tip" width="2.0h" height="2.0h" valign="center" align="right" />					
							</panel>							
						</panel>
						
					
						<!-- Fog scale -->
						<panel width="100%" height="3.0h" noclick="true">
							<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_fog_scale" />
							<panel width="19.0h" height="-0.6h" align="right" valign="center" noclick="true">
								<panel x="-2.4h" width="100%" align="right" noclick="true">									
									<panel width="135@" height="100%">
										<frame texture="frames/rounded_bg_white.tga" borderthickness="0.6h" color=".1 .1 .1 .9" noclick="true"/>
										<frame texture="frames/roundframe.tga" color="#30405d" borderthickness="0.6h" noclick="true" />
										<cvarlabel textvalign="center" textalign="center" font="dyn_9" color="#3abde7" shadow="true" height="100%" cvar="gfx_fogScale" numeric="true" numerictype="float" precision="2" />
									</panel>									
									<panel width="-145@" align="right" noclick="true">													
										<instance name="options_slider_bg" />
										<label color="white" width="130@" height="100%" valign="center" align="left" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">0</label>
										<label color="white" width="130@" height="100%" valign="center" align="right" textvalign="center" textalign="center" shadow="true" font="dyn_9" noclick="true">1</label>										
										<panel x="-8@" width="-230@" height="100%" align="center">
											<slider
												name="fog_scale_slider"
												slotwidth="-1%" slotheight="0.6h"
												slotcolor="1 1 1 1"
												handlewidth="70@" handleheight="70%"
												handlecolor="1 1 1 1"
												cvar="gfx_fogScale"
												minvalue="0" maxvalue="1"
												texture="/ui/info/slider.tga"
												onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
												onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
											/>
										</panel>									
									</panel>								
								</panel>
								<instance name="tip_mark" tip_id="enviro_fog_scale_tip" width="2.0h" height="2.0h" valign="center" align="right" />					
							</panel>							
						</panel>
						
						
						<!-- Fog Density -->
						<panel width="100%" height="3.0h" noclick="true">
							<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_fog_density" />
							<panel width="19.0h" height="-0.6h" align="right" valign="center" noclick="true">
								<panel x="-2.4h" width="100%" align="right" noclick="true">																		
									<panel width="100%" align="right" noclick="true">													
										<instance name="options_slider_bg" />
										<panel width="-90@" height="100%" align="center">
											<slider
												name="fog_density_slider"
												slotwidth="-1%" slotheight="0.6h"
												slotcolor="1 1 1 1"
												handlewidth="70@" handleheight="70%"
												handlecolor="1 1 1 1"
												cvar="gfx_fogDensity"
												minvalue="0" maxvalue="0.002"
												texture="/ui/info/slider.tga"
												onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
												onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
											/>
										</panel>									
									</panel>								
								</panel>
								<instance name="tip_mark" tip_id="enviro_fog_density_tip" width="2.0h" height="2.0h" valign="center" align="right" />					
							</panel>							
						</panel>
						
						
						<!-- Fog Near -->
						<panel width="100%" height="3.0h" noclick="true">
							<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_fog_near" />
							<panel width="19.0h" height="-0.6h" align="right" valign="center" noclick="true">
								<panel x="-2.4h" width="100%" align="right" noclick="true">																		
									<panel width="100%" align="right" noclick="true">													
										<instance name="options_slider_bg" />
										<panel width="-90@" height="100%" align="center">
											<slider
												name="fog_near_slider"
												slotwidth="-1%" slotheight="0.6h"
												slotcolor="1 1 1 1"
												handlewidth="70@" handleheight="70%"
												handlecolor="1 1 1 1"
												cvar="gfx_fogNear"
												minvalue="0" maxvalue="20000"
												texture="/ui/info/slider.tga"
												onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
												onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
											/>
										</panel>									
									</panel>								
								</panel>
								<instance name="tip_mark" tip_id="enviro_fog_near_tip" width="2.0h" height="2.0h" valign="center" align="right" />					
							</panel>							
						</panel>
								
						
						<!-- Fog Far -->
						<panel width="100%" height="3.0h" noclick="true">
							<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_fog_far" />
							<panel width="19.0h" height="-0.6h" align="right" valign="center" noclick="true">
								<panel x="-2.4h" width="100%" align="right" noclick="true">																		
									<panel width="100%" align="right" noclick="true">													
										<instance name="options_slider_bg" />
										<panel width="-90@" height="100%" align="center">
											<slider
												name="fog_far_slider"
												slotwidth="-1%" slotheight="0.6h"
												slotcolor="1 1 1 1"
												handlewidth="70@" handleheight="70%"
												handlecolor="1 1 1 1"
												cvar="gfx_fogFar"
												minvalue="0" maxvalue="20000"
												texture="/ui/info/slider.tga"
												onselect="PlaySound('/shared/sounds/ui/button_over_02.wav');"
												onchange="PlaySound('/shared/sounds/ui/button_slide_01.wav');"
											/>
										</panel>									
									</panel>								
								</panel>
								<instance name="tip_mark" tip_id="enviro_fog_far_tip" width="2.0h" height="2.0h" valign="center" align="right" />					
							</panel>							
						</panel>
								
						
						<!-- Fog / SKy BG Color -->
						<panel height="7.5h" width="100%" noclick="true">
						
							<!-- Fog / Sky BG Color  Lock
								Lock should do this when state2:
								Set('gfx_fogColor.r',scene_color.r);
								Set('gfx_fogColor.g',scene_color.g);
								Set('gfx_fogColor.b',scene_color.b);
							-->
							<panel height="4.8h" width="2.0h" valign="center" noclick="true">					
								<panel x="0.7h" width="1" height="100%" valign="center" color=".5 .5 .5 1"/>						
								<panel width="-0.7h" height="1" valign="top" align="right" color=".5 .5 .5 1"/>
								<panel width="-0.7h" height="1" valign="bottom" align="right" color=".5 .5 .5 1"/>						
								<button
									width="1.4h" height="1.4h"
									valign="center"
									color="invisible"
									numstates="2"
									onclick="Set('le_fogsky_lock', GetButtonState());"
									onmouseover=""
									onmouseout=""
								>
									<widgetstate statename="up">
										<panel color=".8 .8 .8 1">
											<image width="1.2h" height="1.2h" align="center" valign="center" texture="elements/unlink.tga"/>
											<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
										</panel>
									</widgetstate>
									<widgetstate statename="over">
										<panel color=".8 .8 .8 1">
											<image width="1.2h" height="1.2h" align="center" valign="center" texture="elements/unlink.tga"/>
											<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
										</panel>
									</widgetstate>
									<widgetstate statename="down">
										<panel color=".8 .8 .8 1">
											<image width="1.2h" height="1.2h" align="center" valign="center" texture="elements/unlink.tga"/>
											<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
										</panel>
									</widgetstate>
									<widgetstate statename="up2">
										<panel color=".5 .5 .5 1">
											<image width="1.2h" height="1.2h" align="center" valign="center" texture="elements/link.tga"/>
											<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
										</panel>
									</widgetstate>
									<widgetstate statename="over2">
										<panel color=".5 .5 .5 1">
											<image width="1.2h" height="1.2h" align="center" valign="center" texture="elements/link.tga"/>
											<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
										</panel>
									</widgetstate>
									<widgetstate statename="down2">
										<panel color=".5 .5 .5 1">
											<image width="1.2h" height="1.2h" align="center" valign="center" texture="elements/link.tga"/>
											<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
										</panel>
									</widgetstate>
								</button>					
							</panel>
							
							<panel grow="true" width="-2.6h" align="right" float="bottom" noclick="true">					
								<!-- Fog Color -->
								<panel width="100%" height="3.0h" noclick="true">
									<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_fog_color" />
									<panel width="6.0h" height="-0.6h" align="right" valign="center" noclick="true">					
										<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />					
										<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
											<swatch cvar="gfx_fogColor" onclick="ShowOnly('fog_color');" />
											<frame valign="center" borderthickness="2" color="invisible" bordercolor="1 1 1 .2" noclick="true" />
											<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
										</panel>
										<instance name="tip_mark" tip_id="enviro_fog_color_tip" width="2.0h" height="2.0h" valign="center" align="right" />					
									</panel>							
								</panel>
														
								<panel width="100%" height="1.6h" noclick="true">
									<panel y="1" width="100%" height="1" align="center" valign="center" color="0 0 0 1" noclick="true" />
									<panel y="2" width="100%" height="1" align="center" valign="center" color="#1f2d43" noclick="true" />
								</panel>
								
								<!-- Sky BG -->
								<panel width="100%" height="3.0h" noclick="true">
									<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_sky_bg_color" />
									<panel width="6.0h" height="-0.6h" align="right" valign="center" noclick="true">					
										<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />					
										<panel x="-2.4h" width="-1.8h" align="right" noclick="true">
											<swatch cvar="scene_color" onclick="ShowOnly('sky_bg_color');" />
											<frame valign="center" borderthickness="2" color="invisible" bordercolor="1 1 1 .2" noclick="true" />
											<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
										</panel>
										<instance name="tip_mark" tip_id="enviro_sky_bg_color_tip" width="2.0h" height="2.0h" valign="center" align="right" />					
									</panel>							
								</panel>							
							</panel>
						
						</panel>

						
						<!-- Sky FG Color -->	
						<panel width="100%" height="3.0h" noclick="true">
							<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_sky_fg_color" />
							<panel width="6.0h" height="-0.6h" align="right" valign="center" noclick="true">					
								<image x="-2.4h" width="1.0h" height="1.0h" align="left" valign="center" texture="/ui/info/arrow.tga" />					
								<panel x="-2.4h" width="-1.8h" align="right" noclick="true" color="0 0 0 1">
									<image name="image" texture="$checker" />
									<swatch cvar="scene_skyColor" onclick="ShowOnly('sky_fg_color');"/>
									<frame valign="center" borderthickness="2" color="invisible" bordercolor="1 1 1 .2" noclick="true" />
									<frame valign="center" borderthickness="1" color="invisible" bordercolor="0 0 0 1" noclick="true" />
								</panel>
								<instance name="tip_mark" tip_id="enviro_sky_fg_color_tip" width="2.0h" height="2.0h" valign="center" align="right" />					
							</panel>							
						</panel>
						
						
						<!-- Sky Skin-->
						<panel width="100%" height="3.0h" noclick="true">
							<label height="100%" font="dyn_10" textvalign="center" color="white" shadow="true" noclick="true" content="mapedit_enviro_sky_skin" />
							<panel width="19.0h" height="-0.6h" align="right" valign="center" noclick="true">
								<panel x="-2.4h" width="100%" align="right" noclick="true">								
									<combobox
										name="le_fogtype"
										width="100%"
										height="2h"
										valign="center"
										color="invisible"
										itemwidth="100%"
										itemheight="2h"
										exteriorscrollbars="false"
										scrolltexture="/ui/info/combobox.tga"
										handleheight="100@" handlewidth="100%"
										scrollbarsize="2h"
										scrollbaroffset="0"
										highlight="under"
										highlightbordercolor="white"
										onmouseover="PlaySound('/shared/sounds/ui/button_over_02.wav');"
										onselect="Set('scene_skySkin',this);"
									>
										<instance name="Noptions_combobox_state" state="up" color="1 1 1 1" image="up"/>
										<instance name="Noptions_combobox_state" state="over" color="#69ccff" image="over"/>
										<instance name="Noptions_combobox_state" state="down" color="#69ccff" image="over"/>
										<widgetstate statename="listbg">
											<frame height="+2.7h" y="-1.9h" texture="/ui/info/combobox_dropdown.tga" borderthickness="3h" color="1 1 1 1" />
										</widgetstate>
										<widgetstate statename="itembg">
											<panel width="100%" />
										</widgetstate>
										<widgetstate statename="itemhighlight">
											<panel width="100%" texture="/ui/info/header_bar_c.tga" color="1 1 1 1">
												<panel width="100%" height="100%" >
													<image height="50%" width="32" align="left" valign="top" color="1 1 1 1" texture="/ui/info/header_bar_tl.tga" noclick="1"/>
													<image height="50%" width="32" align="left" valign="bottom" color="1 1 1 1" texture="/ui/info/header_bar_bl.tga" noclick="1"/>
													<image height="50%" width="32" align="right" valign="top" color="1 1 1 1" texture="/ui/info/header_bar_tr.tga" noclick="1"/>
													<image height="50%" width="32" align="right" valign="bottom" color="1 1 1 1" texture="/ui/info/header_bar_br.tga" noclick="1"/>		
												</panel>
											</panel>
										</widgetstate>
										<dirlistitems path="/world/sky/" wildcard="*.material" showpath="false" x="0.4h" font="dyn_9" color="white" textvalign="center" shadow="true" value="blue2" />
									</combobox>								
								</panel>
								<instance name="tip_mark" tip_id="enviro_sky_skin_tip" width="2.0h" height="2.0h" valign="center" align="right" />					
							</panel>							
						</panel>
						
					
						<!-- Sky Enabled -->
						<instance
							name="Noptions_checkbox"
							tip_id="enviro_sky_enabled_tip"
							align="left"
							font="dyn_10" label="mapedit_enviro_sky_enabled"
							cvar="scene_drawSky"
						/>
							
					</panel>

					<panel width="100%" height="1.8h" noclick="true" />
					
				</panel>
				

			</panel>

		</panel>

	</panel>

</panel>

<!-- System Bar -->
<include file="system_bar.package"/>

<!-- Modal Dialogs Only Below -->
<!-- New Map -->
<instance name="global_dialog_cotainer"
	id="file_new"
	ismodal="true"
	width="32.0h"
	title="mapedit_newmap_title"
	close="Call('file_new', 'FadeOut(250);');"
	close_tip="gen_close_tip"
	body="file_new_body"
	content_height="27.5h"
	lbtn_label="general_cancel"
	lbtn_onclick="Call('file_new', 'FadeOut(250);');"
	rbtn_label="mapedit_newmap_createmap"
	rbtn_enabled="false"
	rbtn_onclick="Set('_new_error', NewWorld(_new_name, _new_size, _new_scale, 0, _new_tex_scale)); if(StringLength(_new_error) == 0, Split(HideWidget('file_new'), HideWidget('map_settings'))); Trigger('UpdateNewError');"		
	visible="false"
	rbtn_watch="ValidateNewMapDialog"
	rbtn_ontrigger="
		If(
			!StringEmpty(le_newmap_name) and
			le_newmap_size ge 7 and le_newmap_size le 9 and
			le_newmap_scale gt 1 and le_newmap_scale lt 256 and
			le_newmap_maxplayers ge 1 and le_newmap_maxplayers le 5 and
			le_newmap_texscale gt 0 and le_newmap_texscale lt 256
			,
			SetEnabled(true),
			SetEnabled(false)
		);
		
	"
	
/>

<!-- Load Map -->
<instance name="global_dialog_cotainer"
	id="file_load"
	ismodal="true"
	width="27.0h"
	title="mapedit_loadmap"
	close="Call('file_load', 'FadeOut(250);');"
	close_tip="gen_close_tip"
	body="file_load_body"
	content_height="11.5h"
	lbtn_label="general_cancel"
	lbtn_onclick="Call('file_load', 'FadeOut(250);');"
	rbtn_label="mapedit_loadmap"
	rbtn_onclick="Load(_load_name); HideWidget('file_load');"
	visible="false"
/>

<!-- Save As -->
<instance name="global_dialog_cotainer"
	id="file_save_as"
	ismodal="true"
	width="32.0h"
	title="mapedit_saveas_title"
	close="Call('file_save_as', 'FadeOut(250);');"
	close_tip="gen_close_tip"
	body="file_save_as_body"
	content_height="10.5h"
	lbtn_label="general_cancel"
	lbtn_onclick="Call('file_save_as', 'FadeOut(250);');"
	rbtn_label="mapedit_newmap_createmap"
	rbtn_onclick="Save(_new_name); Call('file_save_as', 'FadeOut(250);');"
	visible="false"
/>


<!-- Quit Confirm -->
<panel name="quit_confirm" visible="0" blockinput="true" color="0 0 0 .7" onshow="bringtofront();">
	<instance
		name="alert_box"
		width="26.0h"
		height="9.0h"
		align="center"
		label="main_quit_confirm"
		show_close="true"
		closebtn_click="Call('quit_confirm', 'FadeOut(250);"
		body="quit_confirm"
	/>
</panel>

<panel color="0 0 0 .8" onclick="fadeout(500);">
	<image align="center" valign="center" height="80h" width="80h" texture="images/logo.tga" noclick="1"/>
</panel>

</interface>

