// (C)2009 S2 Games
// mesh_color.psh
// 
// ...
//=============================================================================

//=============================================================================
// Uniform variables
//=============================================================================

//=============================================================================
// Varying variables
//=============================================================================
varying vec4	v_vColor;

//=============================================================================
// Samplers
//=============================================================================
uniform sampler2D	diffuse;

//=============================================================================
// Pixel Shader
//=============================================================================
void main()
{
	vec4 cDiffuseColor = texture2D(diffuse, gl_TexCoord[0].xy);
	
	gl_FragColor.rgb = vec3(0.0, 0.0, 0.0);
	if(cDiffuseColor.a == 0.0)
		gl_FragColor.a = 0.0;
	else
		gl_FragColor.a = v_vColor.a*0.5;
}
